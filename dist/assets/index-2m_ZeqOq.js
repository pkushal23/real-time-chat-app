(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function wA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function RA(){if(x_)return pl;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return pl.Fragment=t,pl.jsx=n,pl.jsxs=n,pl}var V_;function IA(){return V_||(V_=1,xd.exports=RA()),xd.exports}var U=IA(),Vd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function CA(){if(M_)return St;M_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,et={};function Q(D,W,it){this.props=D,this.context=W,this.refs=et,this.updater=it||q}Q.prototype.isReactComponent={},Q.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},Q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function mt(){}mt.prototype=Q.prototype;function ct(D,W,it){this.props=D,this.context=W,this.refs=et,this.updater=it||q}var lt=ct.prototype=new mt;lt.constructor=ct,Z(lt,Q.prototype),lt.isPureReactComponent=!0;var xt=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function x(D,W,it,J,ft,Rt){return it=Rt.ref,{$$typeof:r,type:D,key:W,ref:it!==void 0?it:null,props:Rt}}function w(D,W){return x(D.type,W,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(it){return W[it]})}var V=/\/+/g;function P(D,W){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):W.toString(36)}function C(){}function Pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ae(D,W,it,J,ft){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case r:case t:vt=!0;break;case E:return vt=D._init,ae(vt(D._payload),W,it,J,ft)}}if(vt)return ft=ft(D),vt=J===""?"."+P(D,0):J,xt(ft)?(it="",vt!=null&&(it=vt.replace(V,"$&/")+"/"),ae(ft,W,it,"",function(Gn){return Gn})):ft!=null&&(I(ft)&&(ft=w(ft,it+(ft.key==null||D&&D.key===ft.key?"":(""+ft.key).replace(V,"$&/")+"/")+vt)),W.push(ft)),1;vt=0;var Ie=J===""?".":J+":";if(xt(D))for(var Jt=0;Jt<D.length;Jt++)J=D[Jt],Rt=Ie+P(J,Jt),vt+=ae(J,W,it,Rt,ft);else if(Jt=b(D),typeof Jt=="function")for(D=Jt.call(D),Jt=0;!(J=D.next()).done;)J=J.value,Rt=Ie+P(J,Jt++),vt+=ae(J,W,it,Rt,ft);else if(Rt==="object"){if(typeof D.then=="function")return ae(Pe(D),W,it,J,ft);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return vt}function F(D,W,it){if(D==null)return D;var J=[],ft=0;return ae(D,J,"","",function(Rt){return W.call(it,Rt,ft++)}),J}function nt(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(it){(D._status===0||D._status===-1)&&(D._status=1,D._result=it)},function(it){(D._status===0||D._status===-1)&&(D._status=2,D._result=it)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ut=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function jt(){}return St.Children={map:F,forEach:function(D,W,it){F(D,function(){W.apply(this,arguments)},it)},count:function(D){var W=0;return F(D,function(){W++}),W},toArray:function(D){return F(D,function(W){return W})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=Q,St.Fragment=n,St.Profiler=o,St.PureComponent=ct,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Et.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,W,it){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=Z({},D.props),ft=D.key,Rt=void 0;if(W!=null)for(vt in W.ref!==void 0&&(Rt=void 0),W.key!==void 0&&(ft=""+W.key),W)!Vt.call(W,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&W.ref===void 0||(J[vt]=W[vt]);var vt=arguments.length-2;if(vt===1)J.children=it;else if(1<vt){for(var Ie=Array(vt),Jt=0;Jt<vt;Jt++)Ie[Jt]=arguments[Jt+2];J.children=Ie}return x(D.type,ft,void 0,void 0,Rt,J)},St.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},St.createElement=function(D,W,it){var J,ft={},Rt=null;if(W!=null)for(J in W.key!==void 0&&(Rt=""+W.key),W)Vt.call(W,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ft[J]=W[J]);var vt=arguments.length-2;if(vt===1)ft.children=it;else if(1<vt){for(var Ie=Array(vt),Jt=0;Jt<vt;Jt++)Ie[Jt]=arguments[Jt+2];ft.children=Ie}if(D&&D.defaultProps)for(J in vt=D.defaultProps,vt)ft[J]===void 0&&(ft[J]=vt[J]);return x(D,Rt,void 0,void 0,null,ft)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:p,render:D}},St.isValidElement=I,St.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:nt}},St.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},St.startTransition=function(D){var W=Et.T,it={};Et.T=it;try{var J=D(),ft=Et.S;ft!==null&&ft(it,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(jt,ut)}catch(Rt){ut(Rt)}finally{Et.T=W}},St.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},St.use=function(D){return Et.H.use(D)},St.useActionState=function(D,W,it){return Et.H.useActionState(D,W,it)},St.useCallback=function(D,W){return Et.H.useCallback(D,W)},St.useContext=function(D){return Et.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,W){return Et.H.useDeferredValue(D,W)},St.useEffect=function(D,W,it){var J=Et.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,W)},St.useId=function(){return Et.H.useId()},St.useImperativeHandle=function(D,W,it){return Et.H.useImperativeHandle(D,W,it)},St.useInsertionEffect=function(D,W){return Et.H.useInsertionEffect(D,W)},St.useLayoutEffect=function(D,W){return Et.H.useLayoutEffect(D,W)},St.useMemo=function(D,W){return Et.H.useMemo(D,W)},St.useOptimistic=function(D,W){return Et.H.useOptimistic(D,W)},St.useReducer=function(D,W,it){return Et.H.useReducer(D,W,it)},St.useRef=function(D){return Et.H.useRef(D)},St.useState=function(D){return Et.H.useState(D)},St.useSyncExternalStore=function(D,W,it){return Et.H.useSyncExternalStore(D,W,it)},St.useTransition=function(){return Et.H.useTransition()},St.version="19.1.0",St}var P_;function bm(){return P_||(P_=1,Vd.exports=CA()),Vd.exports}var Wt=bm();const xs=wA(Wt);var Md={exports:{}},gl={},Pd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function DA(){return L_||(L_=1,function(r){function t(F,nt){var ut=F.length;F.push(nt);t:for(;0<ut;){var jt=ut-1>>>1,D=F[jt];if(0<o(D,nt))F[jt]=nt,F[ut]=D,ut=jt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var nt=F[0],ut=F.pop();if(ut!==nt){F[0]=ut;t:for(var jt=0,D=F.length,W=D>>>1;jt<W;){var it=2*(jt+1)-1,J=F[it],ft=it+1,Rt=F[ft];if(0>o(J,ut))ft<D&&0>o(Rt,J)?(F[jt]=Rt,F[ft]=ut,jt=ft):(F[jt]=J,F[it]=ut,jt=it);else if(ft<D&&0>o(Rt,ut))F[jt]=Rt,F[ft]=ut,jt=ft;else break t}}return nt}function o(F,nt){var ut=F.sortIndex-nt.sortIndex;return ut!==0?ut:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,S=null,b=3,q=!1,Z=!1,et=!1,Q=!1,mt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function xt(F){for(var nt=n(y);nt!==null;){if(nt.callback===null)s(y);else if(nt.startTime<=F)s(y),nt.sortIndex=nt.expirationTime,t(g,nt);else break;nt=n(y)}}function Et(F){if(et=!1,xt(F),!Z)if(n(g)!==null)Z=!0,Vt||(Vt=!0,P());else{var nt=n(y);nt!==null&&ae(Et,nt.startTime-F)}}var Vt=!1,x=-1,w=5,I=-1;function O(){return Q?!0:!(r.unstable_now()-I<w)}function V(){if(Q=!1,Vt){var F=r.unstable_now();I=F;var nt=!0;try{t:{Z=!1,et&&(et=!1,ct(x),x=-1),q=!0;var ut=b;try{e:{for(xt(F),S=n(g);S!==null&&!(S.expirationTime>F&&O());){var jt=S.callback;if(typeof jt=="function"){S.callback=null,b=S.priorityLevel;var D=jt(S.expirationTime<=F);if(F=r.unstable_now(),typeof D=="function"){S.callback=D,xt(F),nt=!0;break e}S===n(g)&&s(g),xt(F)}else s(g);S=n(g)}if(S!==null)nt=!0;else{var W=n(y);W!==null&&ae(Et,W.startTime-F),nt=!1}}break t}finally{S=null,b=ut,q=!1}nt=void 0}}finally{nt?P():Vt=!1}}}var P;if(typeof lt=="function")P=function(){lt(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Pe=C.port2;C.port1.onmessage=V,P=function(){Pe.postMessage(null)}}else P=function(){mt(V,0)};function ae(F,nt){x=mt(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(F){switch(b){case 1:case 2:case 3:var nt=3;break;default:nt=b}var ut=b;b=nt;try{return F()}finally{b=ut}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ut=b;b=F;try{return nt()}finally{b=ut}},r.unstable_scheduleCallback=function(F,nt,ut){var jt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?jt+ut:jt):ut=jt,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ut+D,F={id:E++,callback:nt,priorityLevel:F,startTime:ut,expirationTime:D,sortIndex:-1},ut>jt?(F.sortIndex=ut,t(y,F),n(g)===null&&F===n(y)&&(et?(ct(x),x=-1):et=!0,ae(Et,ut-jt))):(F.sortIndex=D,t(g,F),Z||q||(Z=!0,Vt||(Vt=!0,P()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var nt=b;return function(){var ut=b;b=nt;try{return F.apply(this,arguments)}finally{b=ut}}}}(Ld)),Ld}var k_;function NA(){return k_||(k_=1,Pd.exports=DA()),Pd.exports}var kd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function OA(){if(U_)return Qe;U_=1;var r=bm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Qe.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:q}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:b,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Qe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,y){return g(y)},Qe.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var j_;function xA(){if(j_)return kd.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=OA(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function VA(){if(z_)return gl;z_=1;var r=NA(),t=bm(),n=xA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case Q:return"Profiler";case et:return"StrictMode";case Et:return"Suspense";case Vt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case ct:return(e._context.displayName||"Context")+".Consumer";case xt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:Pe(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Pe(e(i))}catch{}}return null}var ae=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},jt=[],D=-1;function W(e){return{current:e}}function it(e){0>D||(e.current=jt[D],jt[D]=null,D--)}function J(e,i){D++,jt[D]=e.current,e.current=i}var ft=W(null),Rt=W(null),vt=W(null),Ie=W(null);function Jt(e,i){switch(J(vt,i),J(Rt,e),J(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=a_(i),e=o_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(ft),J(ft,e)}function Gn(){it(ft),it(Rt),it(vt)}function Xi(e){e.memoizedState!==null&&J(Ie,e);var i=ft.current,a=o_(i,e.type);i!==a&&(J(Rt,e),J(ft,a))}function mi(e){Rt.current===e&&(it(ft),it(Rt)),Ie.current===e&&(it(Ie),cl._currentValue=ut)}var Kr=Object.prototype.hasOwnProperty,Yr=r.unstable_scheduleCallback,Xr=r.unstable_cancelCallback,ao=r.unstable_shouldYield,$l=r.unstable_requestPaint,En=r.unstable_now,Oh=r.unstable_getCurrentPriorityLevel,oo=r.unstable_ImmediatePriority,Hs=r.unstable_UserBlockingPriority,Zr=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,lo=r.log,Wl=r.unstable_setDisableYieldValue,oe=null,Ft=null;function un(e){if(typeof lo=="function"&&Wl(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,e)}catch{}}var Fe=Math.clz32?Math.clz32:$r,Jl=Math.log,Vh=Math.LN2;function $r(e){return e>>>=0,e===0?32:31-(Jl(e)/Vh|0)|0}var Wr=256,Jr=4194304;function Mn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Mn(l):(v&=T,v!==0?h=Mn(v):a||(a=T&~e,a!==0&&(h=Mn(a))))):(T=l&~d,T!==0?h=Mn(T):v!==0?h=Mn(v):a||(a=l&~e,a!==0&&(h=Mn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ts(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function uo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var e=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),e}function ho(){var e=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),e}function pi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Fe(a),Y=1<<G;T[G]=0,R[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Y}l!==0&&Qn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function mo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Zi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $i(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function tu(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var ne=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ne,me="__reactProps$"+ne,Tn="__reactContainer$"+ne,po="__reactEvents$"+ne,Mh="__reactListeners$"+ne,Wi="__reactHandles$"+ne,eu="__reactResources$"+ne,es="__reactMarker$"+ne;function Ji(e){delete e[Ee],delete e[me],delete e[po],delete e[Mh],delete e[Wi]}function yi(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Tn]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=h_(e);e!==null;){if(a=e[Ee])return a;e=h_(e)}return i}e=a,a=e.parentNode}return null}function Kn(e){if(e=e[Ee]||e[Tn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Yn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function We(e){var i=e[eu];return i||(i=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[es]=!0}var go=new Set,Ks={};function Pn(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Ks[e]=i,e=0;e<i.length;e++)go.add(i[e])}var nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iu={},ns={};function ru(e){return Kr.call(ns,e)?!0:Kr.call(iu,e)?!1:nu.test(e)?ns[e]=!0:(iu[e]=!0,!1)}function tr(e,i,a){if(ru(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Xn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Le(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var is,su;function vi(e){if(is===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);is=i&&i[1]||"",su=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+is+e+su}var Ys=!1;function Xs(e,i){if(!e||Ys)return"";Ys=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),j=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===j.length)for(l=R.length-1,h=j.length-1;1<=l&&0<=h&&R[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==j[h]){var G=`
`+R[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{Ys=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vi(a):""}function yo(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Xs(e.type,!1);case 11:return Xs(e.type.render,!1);case 1:return Xs(e.type,!0);case 31:return vi("Activity");default:return""}}function Zs(e){try{var i="";do i+=yo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _o(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ph(e){var i=_o(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $s(e){e._valueTracker||(e._valueTracker=Ph(e))}function vo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=_o(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lh=/[\n"\\]/g;function pe(e){return e.replace(Lh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Je(i)):e.value!==""+Je(i)&&(e.value=""+Je(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?er(e,v,Je(i)):a!=null?er(e,v,Je(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Je(T):e.removeAttribute("name")}function ss(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Je(a):"",i=i!=null?""+Je(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function er(e,i,a){i==="number"&&rs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+Je(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Je(a):""}function as(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Je(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function An(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||os.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Eo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&au(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&au(e,d,i[d])}function To(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(e){return Uh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Si=null;function Ao(e){var i=Kn(e);if(i&&(e=i.stateNode)){var a=e[me]||null;t:switch(e=i.stateNode,i.type){case"input":if(cn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[me]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&vo(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ei(e,!!a.multiple,i,!1)}}}var Zn=!1;function ou(e,i,a){if(Zn)return e(i,a);Zn=!0;try{var l=e(i);return l}finally{if(Zn=!1,(Ai!==null||Si!==null)&&(tc(),Ai&&(i=Ai,e=Si,Si=Ai=null,Ao(i),e)))for(i=0;i<e.length;i++)Ao(e[i])}}function ls(e,i){var a=e.stateNode;if(a===null)return null;var l=a[me]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Ln)try{var us={};Object.defineProperty(us,"passive",{get:function(){bn=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{bn=!1}var $n=null,nr=null,bi=null;function So(){if(bi)return bi;var e,i=nr,a=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function Wn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function bo(){return!1}function Ce(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:bo,this.isPropagationStopped=bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Ce(Bt),cs=E({},Bt,{view:0,detail:0}),lu=Ce(cs),ta,ea,ti,hs=E({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(ta=e.screenX-ti.screenX,ea=e.screenY-ti.screenY):ea=ta=0,ti=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),wn=Ce(hs),uu=E({},hs,{dataTransfer:0}),jh=Ce(uu),fs=E({},cs,{relatedTarget:0}),na=Ce(fs),wo=E({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Ce(wo),cu=E({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ra=Ce(cu),zh=E({},Bt,{data:0}),Ro=Ce(zh),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Io(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=fu[e])?!!i[e]:!1}function ms(){return Io}var du=E({},cs,{key:function(e){if(e.key){var i=ds[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sa=Ce(du),mu=E({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=Ce(mu),wi=E({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),pu=Ce(wi),gu=E({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=Ce(gu),_u=E({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=Ce(_u),tn=E({},Bt,{newState:0,oldState:0}),vu=Ce(tn),Eu=[9,13,27,32],ei=Ln&&"CompositionEvent"in window,c=null;Ln&&"documentMode"in document&&(c=document.documentMode);var m=Ln&&"TextEvent"in window&&!c,_=Ln&&(!ei||c&&8<c&&11>=c),A=" ",L=!1;function H(e,i){switch(e){case"keyup":return Eu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Te(e,i){switch(e){case"compositionend":return tt(i);case"keypress":return i.which!==32?null:(L=!0,A);case"textInput":return e=i.data,e===A&&L?null:e;default:return null}}function Pt(e,i){if(Mt)return e==="compositionend"||!ei&&H(e,i)?(e=So(),bi=nr=$n=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Ri(e,i,a,l){Ai?Si?Si.push(l):Si=[l]:Ai=l,i=ac(i,"onChange"),0<i.length&&(a=new Js("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ke=null,ni=null;function Do(e){e_(e,0)}function Tu(e){var i=Yn(e);if(vo(i))return e}function Ap(e,i){if(e==="change")return i}var Sp=!1;if(Ln){var Bh;if(Ln){var qh="oninput"in document;if(!qh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),qh=typeof bp.oninput=="function"}Bh=qh}else Bh=!1;Sp=Bh&&(!document.documentMode||9<document.documentMode)}function wp(){ke&&(ke.detachEvent("onpropertychange",Rp),ni=ke=null)}function Rp(e){if(e.propertyName==="value"&&Tu(ni)){var i=[];Ri(i,ni,e,Sn(e)),ou(Do,i)}}function eT(e,i,a){e==="focusin"?(wp(),ke=i,ni=a,ke.attachEvent("onpropertychange",Rp)):e==="focusout"&&wp()}function nT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(ni)}function iT(e,i){if(e==="click")return Tu(i)}function rT(e,i){if(e==="input"||e==="change")return Tu(i)}function sT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:sT;function No(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Kr.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function Ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cp(e,i){var a=Ip(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ip(a)}}function Dp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Dp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=rs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=rs(e.document)}return i}function Hh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var aT=Ln&&"documentMode"in document&&11>=document.documentMode,oa=null,Fh=null,Oo=null,Gh=!1;function Op(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||oa==null||oa!==rs(l)||(l=oa,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oo&&No(Oo,l)||(Oo=l,l=ac(Fh,"onSelect"),0<l.length&&(i=new Js("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=oa)))}function ps(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var la={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Qh={},xp={};Ln&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function gs(e){if(Qh[e])return Qh[e];if(!la[e])return e;var i=la[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in xp)return Qh[e]=i[a];return e}var Vp=gs("animationend"),Mp=gs("animationiteration"),Pp=gs("animationstart"),oT=gs("transitionrun"),lT=gs("transitionstart"),uT=gs("transitioncancel"),Lp=gs("transitionend"),kp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function kn(e,i){kp.set(e,i),Pn(i,[e])}var Up=new WeakMap;function Rn(e,i){if(typeof e=="object"&&e!==null){var a=Up.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Zs(i)},Up.set(e,i),i)}return{value:e,source:i,stack:Zs(i)}}var In=[],ua=0,Yh=0;function Au(){for(var e=ua,i=Yh=ua=0;i<e;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&jp(a,h,d)}}function Su(e,i,a,l){In[ua++]=e,In[ua++]=i,In[ua++]=a,In[ua++]=l,Yh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xh(e,i,a,l){return Su(e,i,a,l),bu(e)}function ca(e,i){return Su(e,null,null,i),bu(e)}function jp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function bu(e){if(50<nl)throw nl=0,nd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ha={};function cT(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,l){return new cT(e,i,a,l)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function zp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function wu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Zh(e)&&(v=1);else if(typeof e=="string")v=fA(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=fn(31,a,i,h),e.elementType=I,e.lanes=d,e;case Z:return ys(a.children,h,d,i);case et:v=8,h|=24;break;case Q:return e=fn(12,a,i,h|2),e.elementType=Q,e.lanes=d,e;case Et:return e=fn(13,a,i,h),e.elementType=Et,e.lanes=d,e;case Vt:return e=fn(19,a,i,h),e.elementType=Vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:case lt:v=10;break t;case ct:v=9;break t;case xt:v=11;break t;case x:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=fn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ys(e,i,a,l){return e=fn(7,e,l,i),e.lanes=a,e}function $h(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function Wh(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var fa=[],da=0,Ru=null,Iu=0,Cn=[],Dn=0,_s=null,Ci=1,Di="";function vs(e,i){fa[da++]=Iu,fa[da++]=Ru,Ru=e,Iu=i}function Bp(e,i,a){Cn[Dn++]=Ci,Cn[Dn++]=Di,Cn[Dn++]=_s,_s=e;var l=Ci;e=Di;var h=32-Fe(l)-1;l&=~(1<<h),a+=1;var d=32-Fe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-Fe(i)+h|a<<h|l,Di=d+e}else Ci=1<<d|a<<h|l,Di=e}function Jh(e){e.return!==null&&(vs(e,1),Bp(e,1,0))}function tf(e){for(;e===Ru;)Ru=fa[--da],fa[da]=null,Iu=fa[--da],fa[da]=null;for(;e===_s;)_s=Cn[--Dn],Cn[Dn]=null,Di=Cn[--Dn],Cn[Dn]=null,Ci=Cn[--Dn],Cn[Dn]=null}var en=null,le=null,zt=!1,Es=null,ii=!1,ef=Error(s(519));function Ts(e){var i=Error(s(418,""));throw Mo(Rn(i,e)),ef}function qp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[me]=l,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<rl.length;a++)Dt(rl[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),ss(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$s(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),as(i,l.value,l.defaultValue,l.children),$s(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||s_(i.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),l.onScroll!=null&&Dt("scroll",i),l.onScrollEnd!=null&&Dt("scrollend",i),l.onClick!=null&&(i.onclick=oc),i=!0):i=!1,i||Ts(e)}function Hp(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:en=en.return}}function xo(e){if(e!==en)return!1;if(!zt)return Hp(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_d(e.type,e.memoizedProps)),a=!a),a&&le&&Ts(e),Hp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){le=jn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,_r(e.type)?(e=Ad,Ad=null,le=e):le=i):le=en?jn(e.stateNode.nextSibling):null;return!0}function Vo(){le=en=null,zt=!1}function Fp(){var e=Es;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),Es=null),e}function Mo(e){Es===null?Es=[e]:Es.push(e)}var nf=W(null),As=null,Ni=null;function ir(e,i,a){J(nf,i._currentValue),i._currentValue=a}function Oi(e){e._currentValue=nf.current,it(nf)}function rf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function sf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),rf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),rf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Po(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&sf(i,e,a,l),i.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){As=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Gp(As,e)}function Du(e,i){return As===null&&Ss(e),Gp(e,i)}function Gp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(e===null)throw Error(s(308));Ni=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ni=Ni.next=i;return a}var hT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},fT=r.unstable_scheduleCallback,dT=r.unstable_NormalPriority,Se={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new hT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&fT(dT,function(){e.controller.abort()})}var ko=null,of=0,ma=0,pa=null;function mT(e,i){if(ko===null){var a=ko=[];of=0,ma=ud(),pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return of++,i.then(Qp,Qp),i}function Qp(){if(--of===0&&ko!==null){pa!==null&&(pa.status="fulfilled");var e=ko;ko=null,ma=0,pa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function pT(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kp=F.S;F.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&mT(e,i),Kp!==null&&Kp(e,i)};var bs=W(null);function lf(){var e=bs.current;return e!==null?e:te.pooledCache}function Nu(e,i){i===null?J(bs,bs.current):J(bs,i.pool)}function Yp(){var e=lf();return e===null?null:{parent:Se._currentValue,pool:e}}var Uo=Error(s(460)),Xp=Error(s(474)),Ou=Error(s(542)),uf={then:function(){}};function Zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xu(){}function $p(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(xu,xu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Jp(e),e;default:if(typeof i.status=="string")i.then(xu,xu);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Jp(e),e}throw jo=i,Uo}}var jo=null;function Wp(){if(jo===null)throw Error(s(459));var e=jo;return jo=null,e}function Jp(e){if(e===Uo||e===Ou)throw Error(s(483))}var rr=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ar(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=bu(e),jp(e,null,a),i}return Su(e,l,i,a),bu(e)}function zo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,mo(e,a)}}function ff(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var df=!1;function Bo(){if(df){var e=pa;if(e!==null)throw e}}function qo(e,i,a,l){df=!1;var h=e.updateQueue;rr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,j=R.next;R.next=null,v===null?d=j:v.next=j,v=R;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==v&&(T===null?G.firstBaseUpdate=j:T.next=j,G.lastBaseUpdate=R))}if(d!==null){var Y=h.baseState;v=0,G=j=R=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(Lt&z)===z:(l&z)===z){z!==0&&z===ma&&(df=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var _t=e,dt=T;z=i;var Zt=a;switch(dt.tag){case 1:if(_t=dt.payload,typeof _t=="function"){Y=_t.call(Zt,Y,z);break t}Y=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=dt.payload,z=typeof _t=="function"?_t.call(Zt,Y,z):_t,z==null)break t;Y=E({},Y,z);break t;case 2:rr=!0}}z=T.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(j=G=B,R=Y):G=G.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),mr|=v,e.lanes=v,e.memoizedState=Y}}function tg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function eg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)tg(a[e],i)}var ga=W(null),Vu=W(0);function ng(e,i){e=Ui,J(Vu,e),J(ga,i),Ui=e|i.baseLanes}function mf(){J(Vu,Ui),J(ga,ga.current)}function pf(){Ui=Vu.current,it(ga),it(Vu)}var or=0,bt=null,Yt=null,ge=null,Mu=!1,ya=!1,ws=!1,Pu=0,Ho=0,_a=null,gT=0;function he(){throw Error(s(321))}function gf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function yf(e,i,a,l,h,d){return or=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?jg:zg,ws=!1,d=a(l,h),ws=!1,ya&&(d=rg(i,a,l,h)),ig(e),d}function ig(e){F.H=Bu;var i=Yt!==null&&Yt.next!==null;if(or=0,ge=Yt=bt=null,Mu=!1,Ho=0,_a=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&Cu(e)&&(Ne=!0))}function rg(e,i,a,l){bt=e;var h=0;do{if(ya&&(_a=null),Ho=0,ya=!1,25<=h)throw Error(s(301));if(h+=1,ge=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=ST,d=i(a,l)}while(ya);return d}function yT(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?Fo(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(bt.flags|=1024),i}function _f(){var e=Pu!==0;return Pu=0,e}function vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ef(e){if(Mu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Mu=!1}or=0,ge=Yt=bt=null,ya=!1,Ho=Pu=0,_a=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=e:ge=ge.next=e,ge}function ye(){if(Yt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ge===null?bt.memoizedState:ge.next;if(i!==null)ge=i,Yt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?bt.memoizedState=ge=e:ge=ge.next=e}return ge}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var i=Ho;return Ho+=1,_a===null&&(_a=[]),e=$p(_a,e,i),i=bt,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?jg:zg),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===lt)return Ge(e)}throw Error(s(438,String(e)))}function Af(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Tf(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function xi(e,i){return typeof i=="function"?i(e):i}function ku(e){var i=ye();return Sf(i,Yt,e)}function Sf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,R=null,j=i,G=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Lt&Y)===Y:(or&Y)===Y){var z=j.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===ma&&(G=!0);else if((or&z)===z){j=j.next,z===ma&&(G=!0);continue}else Y={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=Y,v=d):R=R.next=Y,bt.lanes|=z,mr|=z;Y=j.action,ws&&a(d,Y),d=j.hasEagerState?j.eagerState:a(d,Y)}else z={lane:Y,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=z,v=d):R=R.next=z,bt.lanes|=Y,mr|=Y;j=j.next}while(j!==null&&j!==i);if(R===null?v=d:R.next=T,!hn(d,e.memoizedState)&&(Ne=!0,G&&(a=pa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function bf(e){var i=ye(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function sg(e,i,a){var l=bt,h=ye(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Yt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=lg.bind(null,l,h,e);if(Go(2048,8,T,[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,va(9,Uu(),og.bind(null,l,h,a,i),null),te===null)throw Error(s(349));d||(or&124)!==0||ag(l,i,a)}return a}function ag(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=Tf(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function og(e,i,a,l){i.value=a,i.getSnapshot=l,ug(i)&&cg(e)}function lg(e,i,a){return a(function(){ug(i)&&cg(e)})}function ug(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function cg(e){var i=ca(e,2);i!==null&&yn(i,e,2)}function wf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),ws){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},i}function hg(e,i,a,l){return e.baseState=a,Sf(e,Yt,typeof l=="function"?l:xi)}function _T(e,i,a,l,h){if(zu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,fg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function fg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,v={};F.T=v;try{var T=a(h,l),R=F.S;R!==null&&R(v,T),dg(e,i,T)}catch(j){Rf(e,i,j)}finally{F.T=d}}else try{d=a(h,l),dg(e,i,d)}catch(j){Rf(e,i,j)}}function dg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mg(e,i,l)},function(l){return Rf(e,i,l)}):mg(e,i,a)}function mg(e,i,a){i.status="fulfilled",i.value=a,pg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,fg(e,a)))}function Rf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,pg(i),i=i.next;while(i!==l)}e.action=null}function pg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function gg(e,i){return i}function yg(e,i){if(zt){var a=te.formState;if(a!==null){t:{var l=bt;if(zt){if(le){e:{for(var h=le,d=ii;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=jn(h.nextSibling),l=h.data==="F!";break t}}Ts(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:i},a.queue=l,a=Lg.bind(null,bt,l),l.dispatch=a,l=wf(!1),d=Of.bind(null,bt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=_T.bind(null,bt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function _g(e){var i=ye();return vg(i,Yt,e)}function vg(e,i,a){if(i=Sf(e,i,gg)[0],e=ku(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Fo(i)}catch(v){throw v===Uo?Ou:v}else l=i;i=ye();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,va(9,Uu(),vT.bind(null,h,a),null)),[l,d,e]}function vT(e,i){e.action=i}function Eg(e){var i=ye(),a=Yt;if(a!==null)return vg(i,a,e);ye(),i=i.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function va(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=bt.updateQueue,i===null&&(i=Tf(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Uu(){return{destroy:void 0,resource:void 0}}function Tg(){return ye().memoizedState}function ju(e,i,a,l){var h=nn();l=l===void 0?null:l,bt.flags|=e,h.memoizedState=va(1|i,Uu(),a,l)}function Go(e,i,a,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&gf(l,Yt.memoizedState.deps)?h.memoizedState=va(i,d,a,l):(bt.flags|=e,h.memoizedState=va(1|i,d,a,l))}function Ag(e,i){ju(8390656,8,e,i)}function Sg(e,i){Go(2048,8,e,i)}function bg(e,i){return Go(4,2,e,i)}function wg(e,i){return Go(4,4,e,i)}function Rg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ig(e,i,a){a=a!=null?a.concat([e]):null,Go(4,4,Rg.bind(null,i,e),a)}function If(){}function Cg(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&gf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Dg(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&gf(i,l[1]))return l[0];if(l=e(),ws){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[l,i],l}function Cf(e,i,a){return a===void 0||(or&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=xy(),bt.lanes|=e,mr|=e,a)}function Ng(e,i,a,l){return hn(a,i)?a:ga.current!==null?(e=Cf(e,a,l),hn(e,i)||(Ne=!0),e):(or&42)===0?(Ne=!0,e.memoizedState=a):(e=xy(),bt.lanes|=e,mr|=e,i)}function Og(e,i,a,l,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=F.T,T={};F.T=T,Of(e,!1,i,a);try{var R=h(),j=F.S;if(j!==null&&j(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=pT(R,l);Qo(e,i,G,gn(e))}else Qo(e,i,l,gn(e))}catch(Y){Qo(e,i,{then:function(){},status:"rejected",reason:Y},gn())}finally{nt.p=d,F.T=v}}function ET(){}function Df(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=xg(e).queue;Og(e,h,i,ut,a===null?ET:function(){return Vg(e),a(l)})}function xg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Vg(e){var i=xg(e).next.queue;Qo(e,i,{},gn())}function Nf(){return Ge(cl)}function Mg(){return ye().memoizedState}function Pg(){return ye().memoizedState}function TT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=sr(a);var l=ar(i,e,a);l!==null&&(yn(l,i,a),zo(l,i,a)),i={cache:af()},e.payload=i;return}i=i.return}}function AT(e,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zu(e)?kg(i,a):(a=Xh(e,i,a,l),a!==null&&(yn(a,e,l),Ug(a,i,l)))}function Lg(e,i,a){var l=gn();Qo(e,i,a,l)}function Qo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(e))kg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Su(e,i,h,0),te===null&&Au(),!1}catch{}finally{}if(a=Xh(e,i,h,l),a!==null)return yn(a,e,l),Ug(a,i,l),!0}return!1}function Of(e,i,a,l){if(l={lane:2,revertLane:ud(),action:l,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(i)throw Error(s(479))}else i=Xh(e,a,l,2),i!==null&&yn(i,e,2)}function zu(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function kg(e,i){ya=Mu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ug(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,mo(e,a)}}var Bu={readContext:Ge,use:Lu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},jg={readContext:Ge,use:Lu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Ag,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ju(4194308,4,Rg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ju(4194308,4,e,i)},useInsertionEffect:function(e,i){ju(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(ws){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(ws){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=AT.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=wf(e);var i=e.queue,a=Lg.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:If,useDeferredValue:function(e,i){var a=nn();return Cf(a,e,i)},useTransition:function(){var e=wf(!1);return e=Og.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=bt,h=nn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(Lt&124)!==0||ag(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ag(lg.bind(null,l,d,e),[e]),l.flags|=2048,va(9,Uu(),og.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=te.identifierPrefix;if(zt){var a=Di,l=Ci;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Pu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=gT++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Nf,useFormState:yg,useActionState:yg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Of.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Af,useCacheRefresh:function(){return nn().memoizedState=TT.bind(null,bt)}},zg={readContext:Ge,use:Lu,useCallback:Cg,useContext:Ge,useEffect:Sg,useImperativeHandle:Ig,useInsertionEffect:bg,useLayoutEffect:wg,useMemo:Dg,useReducer:ku,useRef:Tg,useState:function(){return ku(xi)},useDebugValue:If,useDeferredValue:function(e,i){var a=ye();return Ng(a,Yt.memoizedState,e,i)},useTransition:function(){var e=ku(xi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Fo(e),i]},useSyncExternalStore:sg,useId:Mg,useHostTransitionStatus:Nf,useFormState:_g,useActionState:_g,useOptimistic:function(e,i){var a=ye();return hg(a,Yt,e,i)},useMemoCache:Af,useCacheRefresh:Pg},ST={readContext:Ge,use:Lu,useCallback:Cg,useContext:Ge,useEffect:Sg,useImperativeHandle:Ig,useInsertionEffect:bg,useLayoutEffect:wg,useMemo:Dg,useReducer:bf,useRef:Tg,useState:function(){return bf(xi)},useDebugValue:If,useDeferredValue:function(e,i){var a=ye();return Yt===null?Cf(a,e,i):Ng(a,Yt.memoizedState,e,i)},useTransition:function(){var e=bf(xi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Fo(e),i]},useSyncExternalStore:sg,useId:Mg,useHostTransitionStatus:Nf,useFormState:Eg,useActionState:Eg,useOptimistic:function(e,i){var a=ye();return Yt!==null?hg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Pg},Ea=null,Ko=0;function qu(e){var i=Ko;return Ko+=1,Ea===null&&(Ea=[]),$p(Ea,e,i)}function Yo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Hu(e,i){throw i.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Bg(e){var i=e._init;return i(e._payload)}function qg(e){function i(M,N){if(e){var k=M.deletions;k===null?(M.deletions=[N],M.flags|=16):k.push(N)}}function a(M,N){if(!e)return null;for(;N!==null;)i(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=Ii(M,N),M.index=0,M.sibling=null,M}function d(M,N,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<N?(M.flags|=67108866,N):k):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function v(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function T(M,N,k,K){return N===null||N.tag!==6?(N=$h(k,M.mode,K),N.return=M,N):(N=h(N,k),N.return=M,N)}function R(M,N,k,K){var at=k.type;return at===Z?G(M,N,k.props.children,K,k.key):N!==null&&(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===w&&Bg(at)===N.type)?(N=h(N,k.props),Yo(N,k),N.return=M,N):(N=wu(k.type,k.key,k.props,null,M.mode,K),Yo(N,k),N.return=M,N)}function j(M,N,k,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Wh(k,M.mode,K),N.return=M,N):(N=h(N,k.children||[]),N.return=M,N)}function G(M,N,k,K,at){return N===null||N.tag!==7?(N=ys(k,M.mode,K,at),N.return=M,N):(N=h(N,k),N.return=M,N)}function Y(M,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=$h(""+N,M.mode,k),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return k=wu(N.type,N.key,N.props,null,M.mode,k),Yo(k,N),k.return=M,k;case q:return N=Wh(N,M.mode,k),N.return=M,N;case w:var K=N._init;return N=K(N._payload),Y(M,N,k)}if(ae(N)||P(N))return N=ys(N,M.mode,k,null),N.return=M,N;if(typeof N.then=="function")return Y(M,qu(N),k);if(N.$$typeof===lt)return Y(M,Du(M,N),k);Hu(M,N)}return null}function z(M,N,k,K){var at=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return at!==null?null:T(M,N,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return k.key===at?R(M,N,k,K):null;case q:return k.key===at?j(M,N,k,K):null;case w:return at=k._init,k=at(k._payload),z(M,N,k,K)}if(ae(k)||P(k))return at!==null?null:G(M,N,k,K,null);if(typeof k.then=="function")return z(M,N,qu(k),K);if(k.$$typeof===lt)return z(M,N,Du(M,k),K);Hu(M,k)}return null}function B(M,N,k,K,at){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(k)||null,T(N,M,""+K,at);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return M=M.get(K.key===null?k:K.key)||null,R(N,M,K,at);case q:return M=M.get(K.key===null?k:K.key)||null,j(N,M,K,at);case w:var It=K._init;return K=It(K._payload),B(M,N,k,K,at)}if(ae(K)||P(K))return M=M.get(k)||null,G(N,M,K,at,null);if(typeof K.then=="function")return B(M,N,k,qu(K),at);if(K.$$typeof===lt)return B(M,N,k,Du(N,K),at);Hu(N,K)}return null}function _t(M,N,k,K){for(var at=null,It=null,ot=N,pt=N=0,xe=null;ot!==null&&pt<k.length;pt++){ot.index>pt?(xe=ot,ot=null):xe=ot.sibling;var Ut=z(M,ot,k[pt],K);if(Ut===null){ot===null&&(ot=xe);break}e&&ot&&Ut.alternate===null&&i(M,ot),N=d(Ut,N,pt),It===null?at=Ut:It.sibling=Ut,It=Ut,ot=xe}if(pt===k.length)return a(M,ot),zt&&vs(M,pt),at;if(ot===null){for(;pt<k.length;pt++)ot=Y(M,k[pt],K),ot!==null&&(N=d(ot,N,pt),It===null?at=ot:It.sibling=ot,It=ot);return zt&&vs(M,pt),at}for(ot=l(ot);pt<k.length;pt++)xe=B(ot,M,pt,k[pt],K),xe!==null&&(e&&xe.alternate!==null&&ot.delete(xe.key===null?pt:xe.key),N=d(xe,N,pt),It===null?at=xe:It.sibling=xe,It=xe);return e&&ot.forEach(function(Sr){return i(M,Sr)}),zt&&vs(M,pt),at}function dt(M,N,k,K){if(k==null)throw Error(s(151));for(var at=null,It=null,ot=N,pt=N=0,xe=null,Ut=k.next();ot!==null&&!Ut.done;pt++,Ut=k.next()){ot.index>pt?(xe=ot,ot=null):xe=ot.sibling;var Sr=z(M,ot,Ut.value,K);if(Sr===null){ot===null&&(ot=xe);break}e&&ot&&Sr.alternate===null&&i(M,ot),N=d(Sr,N,pt),It===null?at=Sr:It.sibling=Sr,It=Sr,ot=xe}if(Ut.done)return a(M,ot),zt&&vs(M,pt),at;if(ot===null){for(;!Ut.done;pt++,Ut=k.next())Ut=Y(M,Ut.value,K),Ut!==null&&(N=d(Ut,N,pt),It===null?at=Ut:It.sibling=Ut,It=Ut);return zt&&vs(M,pt),at}for(ot=l(ot);!Ut.done;pt++,Ut=k.next())Ut=B(ot,M,pt,Ut.value,K),Ut!==null&&(e&&Ut.alternate!==null&&ot.delete(Ut.key===null?pt:Ut.key),N=d(Ut,N,pt),It===null?at=Ut:It.sibling=Ut,It=Ut);return e&&ot.forEach(function(bA){return i(M,bA)}),zt&&vs(M,pt),at}function Zt(M,N,k,K){if(typeof k=="object"&&k!==null&&k.type===Z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case b:t:{for(var at=k.key;N!==null;){if(N.key===at){if(at=k.type,at===Z){if(N.tag===7){a(M,N.sibling),K=h(N,k.props.children),K.return=M,M=K;break t}}else if(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===w&&Bg(at)===N.type){a(M,N.sibling),K=h(N,k.props),Yo(K,k),K.return=M,M=K;break t}a(M,N);break}else i(M,N);N=N.sibling}k.type===Z?(K=ys(k.props.children,M.mode,K,k.key),K.return=M,M=K):(K=wu(k.type,k.key,k.props,null,M.mode,K),Yo(K,k),K.return=M,M=K)}return v(M);case q:t:{for(at=k.key;N!==null;){if(N.key===at)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(M,N.sibling),K=h(N,k.children||[]),K.return=M,M=K;break t}else{a(M,N);break}else i(M,N);N=N.sibling}K=Wh(k,M.mode,K),K.return=M,M=K}return v(M);case w:return at=k._init,k=at(k._payload),Zt(M,N,k,K)}if(ae(k))return _t(M,N,k,K);if(P(k)){if(at=P(k),typeof at!="function")throw Error(s(150));return k=at.call(k),dt(M,N,k,K)}if(typeof k.then=="function")return Zt(M,N,qu(k),K);if(k.$$typeof===lt)return Zt(M,N,Du(M,k),K);Hu(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(M,N.sibling),K=h(N,k),K.return=M,M=K):(a(M,N),K=$h(k,M.mode,K),K.return=M,M=K),v(M)):a(M,N)}return function(M,N,k,K){try{Ko=0;var at=Zt(M,N,k,K);return Ea=null,at}catch(ot){if(ot===Uo||ot===Ou)throw ot;var It=fn(29,ot,null,M.mode);return It.lanes=K,It.return=M,It}finally{}}}var Ta=qg(!0),Hg=qg(!1),Nn=W(null),ri=null;function lr(e){var i=e.alternate;J(be,be.current&1),J(Nn,e),ri===null&&(i===null||ga.current!==null||i.memoizedState!==null)&&(ri=e)}function Fg(e){if(e.tag===22){if(J(be,be.current),J(Nn,e),ri===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ri=e)}}else ur()}function ur(){J(be,be.current),J(Nn,Nn.current)}function Vi(e){it(Nn),ri===e&&(ri=null),it(be)}var be=W(0);function Fu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Td(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function xf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=gn(),h=sr(l);h.payload=i,a!=null&&(h.callback=a),i=ar(e,h,l),i!==null&&(yn(i,e,l),zo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=gn(),h=sr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ar(e,h,l),i!==null&&(yn(i,e,l),zo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),l=sr(a);l.tag=2,i!=null&&(l.callback=i),i=ar(e,l,a),i!==null&&(yn(i,e,a),zo(i,e,a))}};function Gg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!No(a,l)||!No(h,d):!0}function Qg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Vf.enqueueReplaceState(i,i.state,null)}function Rs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kg(e){Gu(e)}function Yg(e){console.error(e)}function Xg(e){Gu(e)}function Qu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,i,a){return a=sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,i)},a}function $g(e){return e=sr(e),e.tag=3,e}function Wg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Zg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Zg(i,a,l),typeof h!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function bT(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Po(i,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ri===null?rd():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),ad(e,l,h)),!1;case 22:return a.flags|=65536,l===uf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),ad(e,l,h)),!1}throw Error(s(435,a.tag))}return ad(e,l,h),rd(),!1}if(zt)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ef&&(e=Error(s(422),{cause:l}),Mo(Rn(e,a)))):(l!==ef&&(i=Error(s(423),{cause:l}),Mo(Rn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Rn(l,a),h=Mf(e.stateNode,l,h),ff(e,h),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),el===null?el=[d]:el.push(d),ue!==4&&(ue=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,l,e),ff(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(pr===null||!pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$g(h),Wg(h,e,a,l),ff(a,h),!1}a=a.return}while(a!==null);return!1}var Jg=Error(s(461)),Ne=!1;function Ue(e,i,a,l){i.child=e===null?Hg(i,null,a,l):Ta(i,e.child,a,l)}function ty(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ss(i),l=yf(e,i,a,v,d,h),T=_f(),e!==null&&!Ne?(vf(e,i,h),Mi(e,i,h)):(zt&&T&&Jh(i),i.flags|=1,Ue(e,i,l,h),i.child)}function ey(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Zh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ny(e,i,d,l,h)):(e=wu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!qf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:No,a(v,l)&&e.ref===i.ref)return Mi(e,i,h)}return i.flags|=1,e=Ii(d,l),e.ref=i.ref,e.return=i,i.child=e}function ny(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(No(d,l)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=l=d,qf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Mi(e,i,h)}return Pf(e,i,a,l,h)}function iy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ry(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(i,d!==null?d.cachePool:null),d!==null?ng(i,d):mf(),Fg(i);else return i.lanes=i.childLanes=536870912,ry(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Nu(i,d.cachePool),ng(i,d),ur(),i.memoizedState=null):(e!==null&&Nu(i,null),mf(),ur());return Ue(e,i,h,a),i.child}function ry(e,i,a,l){var h=lf();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Nu(i,null),mf(),Fg(i),e!==null&&Po(e,i,l,!0),null}function Ku(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Pf(e,i,a,l,h){return Ss(i),a=yf(e,i,a,l,void 0,h),l=_f(),e!==null&&!Ne?(vf(e,i,h),Mi(e,i,h)):(zt&&l&&Jh(i),i.flags|=1,Ue(e,i,a,h),i.child)}function sy(e,i,a,l,h,d){return Ss(i),i.updateQueue=null,a=rg(i,l,a,h),ig(e),l=_f(),e!==null&&!Ne?(vf(e,i,d),Mi(e,i,d)):(zt&&l&&Jh(i),i.flags|=1,Ue(e,i,a,d),i.child)}function ay(e,i,a,l,h){if(Ss(i),i.stateNode===null){var d=ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ge(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},cf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ge(v):ha,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(xf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Vf.enqueueReplaceState(d,d.state,null),qo(i,l,d,h),Bo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,R=Rs(a,T);d.props=R;var j=d.context,G=a.contextType;v=ha,typeof G=="object"&&G!==null&&(v=Ge(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&Qg(i,d,l,v),rr=!1;var z=i.memoizedState;d.state=z,qo(i,l,d,h),Bo(),j=i.memoizedState,T||z!==j||rr?(typeof Y=="function"&&(xf(i,a,Y,l),j=i.memoizedState),(R=rr||Gg(i,a,R,l,z,j,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,hf(e,i),v=i.memoizedProps,G=Rs(a,v),d.props=G,Y=i.pendingProps,z=d.context,j=a.contextType,R=ha,typeof j=="object"&&j!==null&&(R=Ge(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Y||z!==R)&&Qg(i,d,l,R),rr=!1,z=i.memoizedState,d.state=z,qo(i,l,d,h),Bo();var B=i.memoizedState;v!==Y||z!==B||rr||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof T=="function"&&(xf(i,a,T,l),B=i.memoizedState),(G=rr||Gg(i,a,G,l,z,B,R)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=R,l=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ku(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ta(i,e.child,null,h),i.child=Ta(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Mi(e,i,h),e}function oy(e,i,a,l){return Vo(),i.flags|=256,Ue(e,i,a,l),i.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:Yp()}}function Uf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=On),e}function ly(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?lr(i):ur(),zt){var T=le,R;if(R=T){t:{for(R=T,T=ii;R.nodeType!==8;){if(!T){T=null;break t}if(R=jn(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:_s!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},R=fn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,en=i,le=null,R=!0):R=!1}R||Ts(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Td(T)?i.lanes=32:i.lanes=536870912,null;Vi(i)}return T=l.children,l=l.fallback,h?(ur(),h=i.mode,T=Yu({mode:"hidden",children:T},h),l=ys(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=kf(a),h.childLanes=Uf(e,v,a),i.memoizedState=Lf,l):(lr(i),jf(i,T))}if(R=e.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(lr(i),i.flags&=-257,i=zf(e,i,a)):i.memoizedState!==null?(ur(),i.child=e.child,i.flags|=128,i=null):(ur(),h=l.fallback,T=i.mode,l=Yu({mode:"visible",children:l.children},T),h=ys(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ta(i,e.child,null,a),l=i.child,l.memoizedState=kf(a),l.childLanes=Uf(e,v,a),i.memoizedState=Lf,i=h);else if(lr(i),Td(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,Mo({value:l,source:null,stack:null}),i=zf(e,i,a)}else if(Ne||Po(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=te,v!==null&&(l=a&-a,l=(l&42)!==0?1:Zi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ca(e,l),yn(v,e,l),Jg;T.data==="$?"||rd(),i=zf(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,le=jn(T.nextSibling),en=i,zt=!0,Es=null,ii=!1,e!==null&&(Cn[Dn++]=Ci,Cn[Dn++]=Di,Cn[Dn++]=_s,Ci=e.id,Di=e.overflow,_s=i),i=jf(i,l.children),i.flags|=4096);return i}return h?(ur(),h=l.fallback,T=i.mode,R=e.child,j=R.sibling,l=Ii(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?h=Ii(j,h):(h=ys(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=kf(a):(R=T.cachePool,R!==null?(j=Se._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=Yp(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Uf(e,v,a),i.memoizedState=Lf,l):(lr(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function jf(e,i){return i=Yu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Yu(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function zf(e,i,a){return Ta(i,e.child,null,a),e=jf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function uy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),rf(e.return,i,a)}function Bf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function cy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uy(e,a,i);else if(e.tag===19)uy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(J(be,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Bf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Bf(i,!0,a,null,d);break;case"together":Bf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),mr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Po(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function qf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function wT(e,i,a){switch(i.tag){case 3:Jt(i,i.stateNode.containerInfo),ir(i,Se,e.memoizedState.cache),Vo();break;case 27:case 5:Xi(i);break;case 4:Jt(i,i.stateNode.containerInfo);break;case 10:ir(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ly(e,i,a):(lr(i),e=Mi(e,i,a),e!==null?e.sibling:null);lr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Po(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return cy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(be,be.current),l)break;return null;case 22:case 23:return i.lanes=0,iy(e,i,a);case 24:ir(i,Se,e.memoizedState.cache)}return Mi(e,i,a)}function hy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!qf(e,a)&&(i.flags&128)===0)return Ne=!1,wT(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,zt&&(i.flags&1048576)!==0&&Bp(i,Iu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Zh(l)?(e=Rs(l,e),i.tag=1,i=ay(null,i,l,e,a)):(i.tag=0,i=Pf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===xt){i.tag=11,i=ty(null,i,l,e,a);break t}else if(h===x){i.tag=14,i=ey(null,i,l,e,a);break t}}throw i=Pe(l)||l,Error(s(306,i,""))}}return i;case 0:return Pf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Rs(l,i.pendingProps),ay(e,i,l,h,a);case 3:t:{if(Jt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,hf(e,i),qo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,ir(i,Se,l),l!==d.cache&&sf(i,[Se],a,!0),Bo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=oy(e,i,l,a);break t}else if(l!==h){h=Rn(Error(s(424)),i),Mo(h),i=oy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=jn(e.firstChild),en=i,zt=!0,Es=null,ii=!0,a=Hg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vo(),l===h){i=Mi(e,i,a);break t}Ue(e,i,l,a)}i=i.child}return i;case 26:return Ku(e,i),e===null?(a=p_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=lc(vt.current).createElement(a),l[Ee]=i,l[me]=e,ze(l,a,e),ce(l),i.stateNode=l):i.memoizedState=p_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Xi(i),e===null&&zt&&(l=i.stateNode=f_(i.type,i.pendingProps,vt.current),en=i,ii=!0,h=le,_r(i.type)?(Ad=h,le=jn(l.firstChild)):le=h),Ue(e,i,i.pendingProps.children,a),Ku(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=le)&&(l=JT(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,en=i,le=jn(l.firstChild),ii=!1,h=!0):h=!1),h||Ts(i)),Xi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,_d(h,d)?l=null:v!==null&&_d(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=yf(e,i,yT,null,null,a),cl._currentValue=h),Ku(e,i),Ue(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=le)&&(a=tA(a,i.pendingProps,ii),a!==null?(i.stateNode=a,en=i,le=null,e=!0):e=!1),e||Ts(i)),null;case 13:return ly(e,i,a);case 4:return Jt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ta(i,null,l,a):Ue(e,i,l,a),i.child;case 11:return ty(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ir(i,i.type,l.value),Ue(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ss(i),h=Ge(h),l=l(h),i.flags|=1,Ue(e,i,l,a),i.child;case 14:return ey(e,i,i.type,i.pendingProps,a);case 15:return ny(e,i,i.type,i.pendingProps,a);case 19:return cy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Yu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return iy(e,i,a);case 24:return Ss(i),l=Ge(Se),e===null?(h=lf(),h===null&&(h=te,d=af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},cf(i),ir(i,Se,h)):((e.lanes&a)!==0&&(hf(e,i),qo(i,null,null,a),Bo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ir(i,Se,l)):(l=d.cache,ir(i,Se,l),l!==h.cache&&sf(i,[Se],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Pi(e){e.flags|=4}function fy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(i)){if(i=Nn.current,i!==null&&((Lt&4194048)===Lt?ri!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==ri))throw jo=uf,Xp;e.flags|=8192}}function Xu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ho():536870912,e.lanes|=i,wa|=i)}function Xo(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function RT(e,i,a){var l=i.pendingProps;switch(tf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(Se),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xo(i)?Pi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fp())),re(i),null;case 26:return a=i.memoizedState,e===null?(Pi(i),a!==null?(re(i),fy(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Pi(i),re(i),fy(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&Pi(i),re(i),i.flags&=-16777217),null;case 27:mi(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=ft.current,xo(i)?qp(i):(e=f_(h,l,a),i.stateNode=e,Pi(i))}return re(i),null;case 5:if(mi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=ft.current,xo(i))qp(i);else{switch(h=lc(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ee]=i,e[me]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,xo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||s_(e.nodeValue,a)),e||Ts(i)}else e=lc(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=xo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Vo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Fp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Xu(i,i.updateQueue),re(i),null;case 4:return Gn(),e===null&&dd(i.stateNode.containerInfo),re(i),null;case 10:return Oi(i.type),re(i),null;case 19:if(it(be),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Xo(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Fu(e),d!==null){for(i.flags|=128,Xo(h,!1),e=d.updateQueue,i.updateQueue=e,Xu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)zp(a,e),a=a.sibling;return J(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&En()>Wu&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304)}else{if(!l)if(e=Fu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Xu(i,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!zt)return re(i),null}else 2*En()-h.renderingStartTime>Wu&&a!==536870912&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,e=be.current,J(be,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return Vi(i),pf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&Xu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&it(bs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(Se),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function IT(e,i){switch(tf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Oi(Se),Gn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return mi(i),null;case 13:if(Vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return it(be),null;case 4:return Gn(),null;case 10:return Oi(i.type),null;case 22:case 23:return Vi(i),pf(),e!==null&&it(bs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Oi(Se),null;case 25:return null;default:return null}}function dy(e,i){switch(tf(i),i.tag){case 3:Oi(Se),Gn();break;case 26:case 27:case 5:mi(i);break;case 4:Gn();break;case 13:Vi(i);break;case 19:it(be);break;case 10:Oi(i.type);break;case 22:case 23:Vi(i),pf(),e!==null&&it(bs);break;case 24:Oi(Se)}}function Zo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function cr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a,j=T;try{j()}catch(G){$t(h,R,G)}}}l=l.next}while(l!==d)}}catch(G){$t(i,i.return,G)}}function my(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{eg(i,a)}catch(l){$t(e,e.return,l)}}}function py(e,i,a){a.props=Rs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function $o(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function si(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function gy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Hf(e,i,a){try{var l=e.stateNode;YT(l,e.type,a,i),l[me]=i}catch(h){$t(e,e.return,h)}}function yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_r(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_r(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oc));else if(l!==4&&(l===27&&_r(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Gf(e,i,a),e=e.sibling;e!==null;)Gf(e,i,a),e=e.sibling}function Zu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&_r(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zu(e,i,a),e=e.sibling;e!==null;)Zu(e,i,a),e=e.sibling}function _y(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,l,a),i[Ee]=e,i[me]=a}catch(d){$t(e,e.return,d)}}var Li=!1,fe=!1,Qf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function CT(e,i){if(e=e.containerInfo,gd=mc,e=Np(e),Hh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,R=-1,j=0,G=0,Y=e,z=null;e:for(;;){for(var B;Y!==a||h!==0&&Y.nodeType!==3||(T=v+h),Y!==d||l!==0&&Y.nodeType!==3||(R=v+l),Y.nodeType===3&&(v+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===a&&++j===h&&(T=v),z===d&&++G===l&&(R=v),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:e,selectionRange:a},mc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _t=Rs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(_t,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(dt){$t(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ed(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function Ey(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hr(e,a),l&4&&Zo(5,a);break;case 1:if(hr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Rs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&my(a),l&512&&$o(a,a.return);break;case 3:if(hr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{eg(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&l&4&&_y(a);case 26:case 5:hr(e,a),i===null&&l&4&&gy(a),l&512&&$o(a,a.return);break;case 12:hr(e,a);break;case 13:hr(e,a),l&4&&Sy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kT.bind(null,a),eA(e,a))));break;case 22:if(l=a.memoizedState!==null||Li,!l){i=i!==null&&i.memoizedState!==null||fe,h=Li;var d=fe;Li=l,(fe=i)&&!d?fr(e,a,(a.subtreeFlags&8772)!==0):hr(e,a),Li=h,fe=d}break;case 30:break;default:hr(e,a)}}function Ty(e){var i=e.alternate;i!==null&&(e.alternate=null,Ty(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ji(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,rn=!1;function ki(e,i,a){for(a=a.child;a!==null;)Ay(e,i,a),a=a.sibling}function Ay(e,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:fe||si(a,i),ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||si(a,i);var l=ie,h=rn;_r(a.type)&&(ie=a.stateNode,rn=!1),ki(e,i,a),al(a.stateNode),ie=l,rn=h;break;case 5:fe||si(a,i);case 6:if(l=ie,h=rn,ie=null,ki(e,i,a),ie=l,rn=h,ie!==null)if(rn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ie.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ie!==null&&(rn?(e=ie,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ml(e)):c_(ie,a.stateNode));break;case 4:l=ie,h=rn,ie=a.stateNode.containerInfo,rn=!0,ki(e,i,a),ie=l,rn=h;break;case 0:case 11:case 14:case 15:fe||cr(2,a,i),fe||cr(4,a,i),ki(e,i,a);break;case 1:fe||(si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&py(a,i,l)),ki(e,i,a);break;case 21:ki(e,i,a);break;case 22:fe=(l=fe)||a.memoizedState!==null,ki(e,i,a),fe=l;break;default:ki(e,i,a)}}function Sy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ml(e)}catch(a){$t(i,i.return,a)}}function DT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new vy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new vy),i;default:throw Error(s(435,e.tag))}}function Kf(e,i){var a=DT(e);i.forEach(function(l){var h=UT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(_r(T.type)){ie=T.stateNode,rn=!1;break t}break;case 5:ie=T.stateNode,rn=!1;break t;case 3:case 4:ie=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ie===null)throw Error(s(160));Ay(d,v,h),ie=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)by(i,e),i=i.sibling}var Un=null;function by(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(cr(3,e,e.return),Zo(3,e),cr(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(fe||a===null||si(a,a.return)),l&64&&Li&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(dn(i,e),mn(e),l&512&&(fe||a===null||si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[es]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[Ee]=e,ce(d),l=d;break t;case"link":var v=__("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=__("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=e,ce(d),l=d}e.stateNode=l}else v_(h,e.type,e.stateNode);else e.stateNode=y_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?v_(h,e.type,e.stateNode):y_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(fe||a===null||si(a,a.return)),a!==null&&l&4&&Hf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(fe||a===null||si(a,a.return)),e.flags&32){h=e.stateNode;try{An(h,"")}catch(B){$t(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){$t(e,e.return,B)}}break;case 3:if(hc=null,h=Un,Un=uc(i.containerInfo),dn(i,e),Un=h,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(B){$t(e,e.return,B)}Qf&&(Qf=!1,wy(e));break;case 4:l=Un,Un=uc(e.stateNode.containerInfo),dn(i,e),mn(e),Un=l;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jf=En()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Kf(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=Li,G=fe;if(Li=j||h,fe=G||R,dn(i,e),fe=G,Li=j,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Li||fe||Is(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(R,R.return,B)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(B){$t(R,R.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Kf(e,a))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Kf(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(yy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ff(e);Zu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var T=Ff(e);Zu(e,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,j=Ff(e);Gf(e,j,R);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function hr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ey(e,i.alternate,i),i=i.sibling}function Is(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:cr(4,i,i.return),Is(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&py(i,i.return,a),Is(i);break;case 27:al(i.stateNode);case 26:case 5:si(i,i.return),Is(i);break;case 22:i.memoizedState===null&&Is(i);break;case 30:Is(i);break;default:Is(i)}e=e.sibling}}function fr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:fr(h,d,a),Zo(4,d);break;case 1:if(fr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$t(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)tg(R[h],T)}catch(j){$t(l,l.return,j)}}a&&v&64&&my(d),$o(d,d.return);break;case 27:_y(d);case 26:case 5:fr(h,d,a),a&&l===null&&v&4&&gy(d),$o(d,d.return);break;case 12:fr(h,d,a);break;case 13:fr(h,d,a),a&&v&4&&Sy(h,d);break;case 22:d.memoizedState===null&&fr(h,d,a),$o(d,d.return);break;case 30:break;default:fr(h,d,a)}i=i.sibling}}function Yf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function Xf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e))}function ai(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ry(e,i,a,l),i=i.sibling}function Ry(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(e,i,a,l),h&2048&&Zo(9,i);break;case 1:ai(e,i,a,l);break;case 3:ai(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){ai(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(i,i.return,R)}}else ai(e,i,a,l);break;case 13:ai(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ai(e,i,a,l):Wo(e,i):d._visibility&2?ai(e,i,a,l):(d._visibility|=2,Aa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Yf(v,i);break;case 24:ai(e,i,a,l),h&2048&&Xf(i.alternate,i);break;default:ai(e,i,a,l)}}function Aa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,R=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(d,v,T,R,h),Zo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Aa(d,v,T,R,h):Wo(d,v):(G._visibility|=2,Aa(d,v,T,R,h)),h&&j&2048&&Yf(v.alternate,v);break;case 24:Aa(d,v,T,R,h),h&&j&2048&&Xf(v.alternate,v);break;default:Aa(d,v,T,R,h)}i=i.sibling}}function Wo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Wo(a,l),h&2048&&Yf(l.alternate,l);break;case 24:Wo(a,l),h&2048&&Xf(l.alternate,l);break;default:Wo(a,l)}i=i.sibling}}var Jo=8192;function Sa(e){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)Iy(e),e=e.sibling}function Iy(e){switch(e.tag){case 26:Sa(e),e.flags&Jo&&e.memoizedState!==null&&mA(Un,e.memoizedState,e.memoizedProps);break;case 5:Sa(e);break;case 3:case 4:var i=Un;Un=uc(e.stateNode.containerInfo),Sa(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Jo,Jo=16777216,Sa(e),Jo=i):Sa(e));break;default:Sa(e)}}function Cy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function tl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Oe=l,Ny(l,e)}Cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dy(e),e=e.sibling}function Dy(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&cr(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,$u(e)):tl(e);break;default:tl(e)}}function $u(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Oe=l,Ny(l,e)}Cy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:cr(8,i,i.return),$u(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,$u(i));break;default:$u(i)}e=e.sibling}}function Ny(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:cr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=e;Oe!==null;){l=Oe;var h=l.sibling,d=l.return;if(Ty(l),l===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var NT={getCacheForType:function(e){var i=Ge(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},OT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Ct=null,Lt=0,Qt=0,pn=null,dr=!1,ba=!1,Zf=!1,Ui=0,ue=0,mr=0,Cs=0,$f=0,On=0,wa=0,el=null,sn=null,Wf=!1,Jf=0,Wu=1/0,Ju=null,pr=null,je=0,gr=null,Ra=null,Ia=0,td=0,ed=null,Oy=null,nl=0,nd=null;function gn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if(F.T!==null){var e=ma;return e!==0?e:ud()}return $i()}function xy(){On===0&&(On=(Lt&536870912)===0||zt?co():536870912);var e=Nn.current;return e!==null&&(e.flags|=32),On}function yn(e,i,a){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),yr(e,Lt,On,!1)),gi(e,a),((Gt&2)===0||e!==te)&&(e===te&&((Gt&2)===0&&(Cs|=a),ue===4&&yr(e,Lt,On,!1)),oi(e))}function Vy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||ts(e,i),h=l?MT(e,i):sd(e,i,!0),d=l;do{if(h===0){ba&&!l&&yr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!xT(a)){h=sd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=el;var R=T.current.memoizedState.isDehydrated;if(R&&(Ca(T,v).flags|=256),v=sd(T,v,!1),v!==2){if(Zf&&!R){T.errorRecoveryDisabledLanes|=d,Cs|=d,h=4;break t}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ca(e,0),yr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:yr(l,i,On,!dr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Jf+300-En(),10<h)){if(yr(l,i,On,!dr),Gs(l,0,!0)!==0)break t;l.timeoutHandle=l_(My.bind(null,l,a,sn,Ju,Wf,i,On,Cs,wa,dr,d,2,-0,0),h);break t}My(l,a,sn,Ju,Wf,i,On,Cs,wa,dr,d,0,-0,0)}}break}while(!0);oi(e)}function My(e,i,a,l,h,d,v,T,R,j,G,Y,z,B){if(e.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:dA},Iy(i),Y=pA(),Y!==null)){e.cancelPendingCommit=Y(By.bind(null,e,i,d,a,l,h,v,T,R,G,1,z,B)),yr(e,d,v,!j);return}By(e,i,d,a,l,h,v,T,R)}function xT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yr(e,i,a,l){i&=~$f,i&=~Cs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Fe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Qn(e,a,i)}function tc(){return(Gt&6)===0?(il(0),!1):!0}function id(){if(Ct!==null){if(Qt===0)var e=Ct.return;else e=Ct,Ni=As=null,Ef(e),Ea=null,Ko=0,e=Ct;for(;e!==null;)dy(e.alternate,e),e=e.return;Ct=null}}function Ca(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ZT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),id(),te=e,Ct=a=Ii(e.current,null),Lt=i,Qt=0,pn=null,dr=!1,ba=ts(e,i),Zf=!1,wa=On=$f=Cs=mr=ue=0,sn=el=null,Wf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Fe(l),d=1<<h;i|=e[h],l&=~d}return Ui=i,Au(),a}function Py(e,i){bt=null,F.H=Bu,i===Uo||i===Ou?(i=Wp(),Qt=3):i===Xp?(i=Wp(),Qt=4):Qt=i===Jg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Ct===null&&(ue=1,Qu(e,Rn(i,e.current)))}function Ly(){var e=F.H;return F.H=Bu,e===null?Bu:e}function ky(){var e=F.A;return F.A=NT,e}function rd(){ue=4,dr||(Lt&4194048)!==Lt&&Nn.current!==null||(ba=!0),(mr&134217727)===0&&(Cs&134217727)===0||te===null||yr(te,Lt,On,!1)}function sd(e,i,a){var l=Gt;Gt|=2;var h=Ly(),d=ky();(te!==e||Lt!==i)&&(Ju=null,Ca(e,i)),i=!1;var v=ue;t:do try{if(Qt!==0&&Ct!==null){var T=Ct,R=pn;switch(Qt){case 8:id(),v=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var j=Qt;if(Qt=0,pn=null,Da(e,T,R,j),a&&ba){v=0;break t}break;default:j=Qt,Qt=0,pn=null,Da(e,T,R,j)}}VT(),v=ue;break}catch(G){Py(e,G)}while(!0);return i&&e.shellSuspendCounter++,Ni=As=null,Gt=l,F.H=h,F.A=d,Ct===null&&(te=null,Lt=0,Au()),v}function VT(){for(;Ct!==null;)Uy(Ct)}function MT(e,i){var a=Gt;Gt|=2;var l=Ly(),h=ky();te!==e||Lt!==i?(Ju=null,Wu=En()+500,Ca(e,i)):ba=ts(e,i);t:do try{if(Qt!==0&&Ct!==null){i=Ct;var d=pn;e:switch(Qt){case 1:Qt=0,pn=null,Da(e,i,d,1);break;case 2:case 9:if(Zp(d)){Qt=0,pn=null,jy(i);break}i=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),oi(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Zp(d)?(Qt=0,pn=null,jy(i)):(Qt=0,pn=null,Da(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var T=Ct;if(!v||E_(v)){Qt=0,pn=null;var R=T.sibling;if(R!==null)Ct=R;else{var j=T.return;j!==null?(Ct=j,ec(j)):Ct=null}break e}}Qt=0,pn=null,Da(e,i,d,5);break;case 6:Qt=0,pn=null,Da(e,i,d,6);break;case 8:id(),ue=6;break t;default:throw Error(s(462))}}PT();break}catch(G){Py(e,G)}while(!0);return Ni=As=null,F.H=l,F.A=h,Gt=a,Ct!==null?0:(te=null,Lt=0,Au(),ue)}function PT(){for(;Ct!==null&&!ao();)Uy(Ct)}function Uy(e){var i=hy(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,i===null?ec(e):Ct=i}function jy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=sy(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=sy(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:Ef(i);default:dy(a,i),i=Ct=zp(i,Ui),i=hy(a,i,Ui)}e.memoizedProps=e.pendingProps,i===null?ec(e):Ct=i}function Da(e,i,a,l){Ni=As=null,Ef(i),Ea=null,Ko=0;var h=i.return;try{if(bT(e,h,i,a,Lt)){ue=1,Qu(e,Rn(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;ue=1,Qu(e,Rn(a,e.current)),Ct=null;return}i.flags&32768?(zt||l===1?e=!0:ba||(Lt&536870912)!==0?e=!1:(dr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),zy(i,e)):ec(i)}function ec(e){var i=e;do{if((i.flags&32768)!==0){zy(i,dr);return}e=i.return;var a=RT(i.alternate,i,Ui);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);ue===0&&(ue=5)}function zy(e,i){do{var a=IT(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);ue=6,Ct=null}function By(e,i,a,l,h,d,v,T,R){e.cancelPendingCommit=null;do nc();while(je!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Yh,fo(e,a,d,v,T,R),e===te&&(Ct=te=null,Lt=0),Ra=i,gr=e,Ia=a,td=d,ed=h,Oy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jT(Zr,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=nt.p,nt.p=2,v=Gt,Gt|=4;try{CT(e,i,a)}finally{Gt=v,nt.p=h,F.T=l}}je=1,qy(),Hy(),Fy()}}function qy(){if(je===1){je=0;var e=gr,i=Ra,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=nt.p;nt.p=2;var h=Gt;Gt|=4;try{by(i,e);var d=yd,v=Np(e.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Dp(T.ownerDocument.documentElement,T)){if(R!==null&&Hh(T)){var j=R.start,G=R.end;if(G===void 0&&(G=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),_t=T.textContent.length,dt=Math.min(R.start,_t),Zt=R.end===void 0?dt:Math.min(R.end,_t);!B.extend&&dt>Zt&&(v=Zt,Zt=dt,dt=v);var M=Cp(T,dt),N=Cp(T,Zt);if(M&&N&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var k=Y.createRange();k.setStart(M.node,M.offset),B.removeAllRanges(),dt>Zt?(B.addRange(k),B.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),B.addRange(k))}}}}for(Y=[],B=T;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}mc=!!gd,yd=gd=null}finally{Gt=h,nt.p=l,F.T=a}}e.current=i,je=2}}function Hy(){if(je===2){je=0;var e=gr,i=Ra,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=nt.p;nt.p=2;var h=Gt;Gt|=4;try{Ey(e,i.alternate,i)}finally{Gt=h,nt.p=l,F.T=a}}je=3}}function Fy(){if(je===4||je===3){je=0,$l();var e=gr,i=Ra,a=Ia,l=Oy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?je=5:(je=0,Ra=gr=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(pr=null),Qs(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{F.T=i,nt.p=h}}(Ia&3)!==0&&nc(),oi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===nd?nl++:(nl=0,nd=e):nl=0,il(0)}}function Gy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Lo(i)))}function nc(e){return qy(),Hy(),Fy(),Qy()}function Qy(){if(je!==5)return!1;var e=gr,i=td;td=0;var a=Qs(Ia),l=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=ed,ed=null;var d=gr,v=Ia;if(je=0,Ra=gr=null,Ia=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,Dy(d.current),Ry(d,d.current,v,a),Gt=T,il(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{nt.p=h,F.T=l,Gy(e,i)}}function Ky(e,i,a){i=Rn(a,i),i=Mf(e.stateNode,i,2),e=ar(e,i,2),e!==null&&(gi(e,2),oi(e))}function $t(e,i,a){if(e.tag===3)Ky(e,e,a);else for(;i!==null;){if(i.tag===3){Ky(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pr===null||!pr.has(l))){e=Rn(a,e),a=$g(2),l=ar(i,a,2),l!==null&&(Wg(a,l,i,e),gi(l,2),oi(l));break}}i=i.return}}function ad(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new OT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Zf=!0,h.add(a),e=LT.bind(null,e,i,a),i.then(e,e))}function LT(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Lt&a)===a&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>En()-Jf?(Gt&2)===0&&Ca(e,0):$f|=a,wa===Lt&&(wa=0)),oi(e)}function Yy(e,i){i===0&&(i=ho()),e=ca(e,i),e!==null&&(gi(e,i),oi(e))}function kT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Yy(e,a)}function UT(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Yy(e,a)}function jT(e,i){return Yr(e,i)}var ic=null,Na=null,od=!1,rc=!1,ld=!1,Ds=0;function oi(e){e!==Na&&e.next===null&&(Na===null?ic=Na=e:Na=Na.next=e),rc=!0,od||(od=!0,BT())}function il(e,i){if(!ld&&rc){ld=!0;do for(var a=!1,l=ic;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Fe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Wy(l,d))}else d=Lt,d=Gs(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ts(l,d)||(a=!0,Wy(l,d));l=l.next}while(a);ld=!1}}function zT(){Xy()}function Xy(){rc=od=!1;var e=0;Ds!==0&&(XT()&&(e=Ds),Ds=0);for(var i=En(),a=null,l=ic;l!==null;){var h=l.next,d=Zy(l,i);d===0?(l.next=null,a===null?ic=h:a.next=h,h===null&&(Na=a)):(a=l,(e!==0||(d&3)!==0)&&(rc=!0)),l=h}il(e)}function Zy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Fe(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=uo(T,i)):R<=i&&(e.expiredLanes|=T),d&=~T}if(i=te,a=Lt,a=Gs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Xr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ts(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Xr(l),Qs(a)){case 2:case 8:a=Hs;break;case 32:a=Zr;break;case 268435456:a=Fs;break;default:a=Zr}return l=$y.bind(null,e),a=Yr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Xr(l),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,i){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(nc()&&e.callbackNode!==a)return null;var l=Lt;return l=Gs(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Vy(e,l,i),Zy(e,En()),e.callbackNode!=null&&e.callbackNode===a?$y.bind(null,e):null)}function Wy(e,i){if(nc())return null;Vy(e,i,!0)}function BT(){$T(function(){(Gt&6)!==0?Yr(oo,zT):Xy()})}function ud(){return Ds===0&&(Ds=co()),Ds}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ws(""+e)}function t_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function qT(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Jy((h[me]||null).action),v=l.submitter;v&&(i=(i=v[me]||null)?Jy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Js("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var R=v?t_(h,v):new FormData(h);Df(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?t_(h,v):new FormData(h),Df(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var cd=0;cd<Kh.length;cd++){var hd=Kh[cd],HT=hd.toLowerCase(),FT=hd[0].toUpperCase()+hd.slice(1);kn(HT,"on"+FT)}kn(Vp,"onAnimationEnd"),kn(Mp,"onAnimationIteration"),kn(Pp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(oT,"onTransitionRun"),kn(lT,"onTransitionStart"),kn(uT,"onTransitionCancel"),kn(Lp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function e_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,j=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(G){Gu(G)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,j=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(G){Gu(G)}h.currentTarget=null,d=R}}}}function Dt(e,i){var a=i[po];a===void 0&&(a=i[po]=new Set);var l=e+"__bubble";a.has(l)||(n_(i,e,2,!1),a.add(l))}function fd(e,i,a){var l=0;i&&(l|=4),n_(a,e,l,i)}var sc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[sc]){e[sc]=!0,go.forEach(function(a){a!=="selectionchange"&&(GT.has(a)||fd(a,!1,e),fd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[sc]||(i[sc]=!0,fd("selectionchange",!1,i))}}function n_(e,i,a,l){switch(R_(i)){case 2:var h=_A;break;case 8:h=vA;break;default:h=Id}a=h.bind(null,i,a,e),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function md(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=yi(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue t}T=T.parentNode}}l=l.return}ou(function(){var j=d,G=Sn(a),Y=[];t:{var z=kp.get(e);if(z!==void 0){var B=Js,_t=e;switch(e){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":B=sa;break;case"focusin":_t="focus",B=na;break;case"focusout":_t="blur",B=na;break;case"beforeblur":case"afterblur":B=na;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=pu;break;case Vp:case Mp:case Pp:B=ia;break;case Lp:B=yu;break;case"scroll":case"scrollend":B=lu;break;case"wheel":B=aa;break;case"copy":case"cut":case"paste":B=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Co;break;case"toggle":case"beforetoggle":B=vu}var dt=(i&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),M=dt?z!==null?z+"Capture":null:z;dt=[];for(var N=j,k;N!==null;){var K=N;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||M===null||(K=ls(N,M),K!=null&&dt.push(sl(N,K,k))),Zt)break;N=N.return}0<dt.length&&(z=new B(z,_t,null,a,G),Y.push({event:z,listeners:dt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ti&&(_t=a.relatedTarget||a.fromElement)&&(yi(_t)||_t[Tn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(_t=a.relatedTarget||a.toElement,B=j,_t=_t?yi(_t):null,_t!==null&&(Zt=u(_t),dt=_t.tag,_t!==Zt||dt!==5&&dt!==27&&dt!==6)&&(_t=null)):(B=null,_t=j),B!==_t)){if(dt=wn,K="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Co,K="onPointerLeave",M="onPointerEnter",N="pointer"),Zt=B==null?z:Yn(B),k=_t==null?z:Yn(_t),z=new dt(K,N+"leave",B,a,G),z.target=Zt,z.relatedTarget=k,K=null,yi(G)===j&&(dt=new dt(M,N+"enter",_t,a,G),dt.target=k,dt.relatedTarget=Zt,K=dt),Zt=K,B&&_t)e:{for(dt=B,M=_t,N=0,k=dt;k;k=Oa(k))N++;for(k=0,K=M;K;K=Oa(K))k++;for(;0<N-k;)dt=Oa(dt),N--;for(;0<k-N;)M=Oa(M),k--;for(;N--;){if(dt===M||M!==null&&dt===M.alternate)break e;dt=Oa(dt),M=Oa(M)}dt=null}else dt=null;B!==null&&i_(Y,z,B,dt,!1),_t!==null&&Zt!==null&&i_(Y,Zt,_t,dt,!0)}}t:{if(z=j?Yn(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var at=Ap;else if(Ae(z))if(Sp)at=rT;else{at=nT;var It=eT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&To(j.elementType)&&(at=Ap):at=iT;if(at&&(at=at(e,j))){Ri(Y,at,a,G);break t}It&&It(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&er(z,"number",z.value)}switch(It=j?Yn(j):window,e){case"focusin":(Ae(It)||It.contentEditable==="true")&&(oa=It,Fh=j,Oo=null);break;case"focusout":Oo=Fh=oa=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Op(Y,a,G);break;case"selectionchange":if(aT)break;case"keydown":case"keyup":Op(Y,a,G)}var ot;if(ei)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?H(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(_&&a.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ot=So()):($n=G,nr="value"in $n?$n.value:$n.textContent,Mt=!0)),It=ac(j,pt),0<It.length&&(pt=new Ro(pt,e,null,a,G),Y.push({event:pt,listeners:It}),ot?pt.data=ot:(ot=tt(a),ot!==null&&(pt.data=ot)))),(ot=m?Te(e,a):Pt(e,a))&&(pt=ac(j,"onBeforeInput"),0<pt.length&&(It=new Ro("onBeforeInput","beforeinput",null,a,G),Y.push({event:It,listeners:pt}),It.data=ot)),qT(Y,e,j,a,G)}e_(Y,i)})}function sl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ac(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ls(e,a),h!=null&&l.unshift(sl(e,h,d)),h=ls(e,i),h!=null&&l.push(sl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Oa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function i_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,j=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||j===null||(R=j,h?(j=ls(a,d),j!=null&&v.unshift(sl(a,j,R))):h||(j=ls(a,d),j!=null&&v.push(sl(a,j,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var QT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function r_(e){return(typeof e=="string"?e:""+e).replace(QT,`
`).replace(KT,"")}function s_(e,i){return i=r_(i),r_(e)===i}function oc(){}function Xt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(e,""+l);break;case"className":Xn(e,"class",l);break;case"tabIndex":Xn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(e,a,l);break;case"style":Eo(e,l,d);break;case"data":if(i!=="object"){Xn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ws(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ws(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=oc);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ws(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),tr(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kh.get(a)||a,tr(e,a,l))}}function pd(e,i,a,l,h,d){switch(a){case"style":Eo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?An(e,l):(typeof l=="number"||typeof l=="bigint")&&An(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[me]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):tr(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,d,v,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),l&&Xt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var T=d=v=h=null,R=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":j=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Xt(e,i,l,G,a,null)}}ss(e,d,T,R,j,v,h,!1),$s(e);return;case"select":Dt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ei(e,!!l,i,!1):a!=null&&Ei(e,!!l,a,!0);return;case"textarea":Dt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,i,v,T,a,null)}as(e,l,h,d),$s(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,R,l,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<rl.length;l++)Dt(rl[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,j,l,a,null)}return;default:if(To(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&pd(e,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(e,i,T,l,a,null))}function YT(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,j=null,G=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(B)||Xt(e,i,B,null,l,Y)}}for(var z in l){var B=l[z];if(Y=a[z],l.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Y&&Xt(e,i,z,B,l,Y)}}cn(e,v,T,R,j,G,d,h);return;case"select":B=v=T=z=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Xt(e,i,h,d,l,R)}i=T,a=v,l=B,z!=null?Ei(e,!!a,z,!1):!!l!=!!a&&(i!=null?Ei(e,!!a,i,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,i,v,h,l,d)}Kt(e,z,B);return;case"option":for(var _t in a)if(z=a[_t],a.hasOwnProperty(_t)&&z!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:Xt(e,i,_t,null,l,z)}for(R in l)if(z=l[R],B=a[R],l.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,i,R,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!=null&&!l.hasOwnProperty(dt)&&Xt(e,i,dt,null,l,z);for(j in l)if(z=l[j],B=a[j],l.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Xt(e,i,j,z,l,B)}return;default:if(To(i)){for(var Zt in a)z=a[Zt],a.hasOwnProperty(Zt)&&z!==void 0&&!l.hasOwnProperty(Zt)&&pd(e,i,Zt,void 0,l,z);for(G in l)z=l[G],B=a[G],!l.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||pd(e,i,G,z,l,B);return}}for(var M in a)z=a[M],a.hasOwnProperty(M)&&z!=null&&!l.hasOwnProperty(M)&&Xt(e,i,M,null,l,z);for(Y in l)z=l[Y],B=a[Y],!l.hasOwnProperty(Y)||z===B||z==null&&B==null||Xt(e,i,Y,z,l,B)}var gd=null,yd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function _d(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vd=null;function XT(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,ZT=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,$T=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(WT)}:l_;function WT(e){setTimeout(function(){throw e})}function _r(e){return e==="head"}function c_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&al(v.documentElement),a&2&&al(v.body),a&4)for(a=v.head,al(a),v=a.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[es]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),ml(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ml(i)}function Ed(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),Ji(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function JT(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[es])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function tA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function eA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Ad=null;function h_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function f_(e,i,a){switch(i=lc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ji(e)}var xn=new Map,d_=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=nt.d;nt.d={f:nA,r:iA,D:rA,C:sA,L:aA,m:oA,X:uA,S:lA,M:cA};function nA(){var e=ji.f(),i=tc();return e||i}function iA(e){var i=Kn(e);i!==null&&i.tag===5&&i.type==="form"?Vg(i):ji.r(e)}var xa=typeof document>"u"?null:document;function m_(e,i,a){var l=xa;if(l&&typeof i=="string"&&i){var h=pe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),d_.has(h)||(d_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),ce(i),l.head.appendChild(i)))}}function rA(e){ji.D(e),m_("dns-prefetch",e,null)}function sA(e,i){ji.C(e,i),m_("preconnect",e,i)}function aA(e,i,a){ji.L(e,i,a);var l=xa;if(l&&e&&i){var h='link[rel="preload"][as="'+pe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pe(a.imageSizes)+'"]')):h+='[href="'+pe(e)+'"]';var d=h;switch(i){case"style":d=Va(e);break;case"script":d=Ma(e)}xn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),xn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(ol(d))||i==="script"&&l.querySelector(ll(d))||(i=l.createElement("link"),ze(i,"link",e),ce(i),l.head.appendChild(i)))}}function oA(e,i){ji.m(e,i);var a=xa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ma(e)}if(!xn.has(d)&&(e=E({rel:"modulepreload",href:e},i),xn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(d)))return}l=a.createElement("link"),ze(l,"link",e),ce(l),a.head.appendChild(l)}}}function lA(e,i,a){ji.S(e,i,a);var l=xa;if(l&&e){var h=We(l).hoistableStyles,d=Va(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ol(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=xn.get(d))&&Sd(e,a);var R=v=l.createElement("link");ce(R),ze(R,"link",e),R._p=new Promise(function(j,G){R.onload=j,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,cc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function uA(e,i){ji.X(e,i);var a=xa;if(a&&e){var l=We(a).hoistableScripts,h=Ma(e),d=l.get(h);d||(d=a.querySelector(ll(h)),d||(e=E({src:e,async:!0},i),(i=xn.get(h))&&bd(e,i),d=a.createElement("script"),ce(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cA(e,i){ji.M(e,i);var a=xa;if(a&&e){var l=We(a).hoistableScripts,h=Ma(e),d=l.get(h);d||(d=a.querySelector(ll(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=xn.get(h))&&bd(e,i),d=a.createElement("script"),ce(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function p_(e,i,a,l){var h=(h=vt.current)?uc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Va(a.href),a=We(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Va(a.href);var d=We(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(ol(e)))&&!d._p&&(v.instance=d,v.state.loading=5),xn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(e,a),d||hA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ma(a),a=We(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+pe(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function hA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),ce(i),e.head.appendChild(i))}function Ma(e){return'[src="'+pe(e)+'"]'}function ll(e){return"script[async]"+e}function y_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return i.instance=l,ce(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),ze(l,"style",h),cc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Va(a.href);var d=e.querySelector(ol(h));if(d)return i.state.loading|=4,i.instance=d,ce(d),d;l=g_(a),(h=xn.get(h))&&Sd(l,h),d=(e.ownerDocument||e).createElement("link"),ce(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),ze(d,"link",l),i.state.loading|=4,cc(d,a.precedence,e),i.instance=d;case"script":return d=Ma(a.src),(h=e.querySelector(ll(d)))?(i.instance=h,ce(h),h):(l=a,(h=xn.get(d))&&(l=E({},a),bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,cc(l,a.precedence,e));return i.instance}function cc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Sd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var hc=null;function __(e,i,a){if(hc===null){var l=new Map,h=hc=new Map;h.set(a,l)}else h=hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[es]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function v_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function fA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ul=null;function dA(){}function mA(e,i,a){if(ul===null)throw Error(s(475));var l=ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Va(a.href),d=e.querySelector(ol(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=fc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ce(d);return}d=e.ownerDocument||e,a=g_(a),(h=xn.get(h))&&Sd(a,h),d=d.createElement("link"),ce(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=fc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function pA(){if(ul===null)throw Error(s(475));var e=ul;return e.stylesheets&&e.count===0&&wd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&wd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function fc(){if(this.count--,this.count===0){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function wd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,i.forEach(gA,e),dc=null,fc.call(e))}function gA(e,i){if(!(i.state.loading&4)){var a=dc.get(e);if(a)var l=a.get(null);else{a=new Map,dc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var cl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function yA(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function T_(e,i,a,l,h,d,v,T,R,j,G,Y){return e=new yA(e,i,a,v,T,R,j,Y),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),e.current=d,d.stateNode=e,i=af(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},cf(d),e}function A_(e){return e?(e=ha,e):ha}function S_(e,i,a,l,h,d){h=A_(h),l.context===null?l.context=h:l.pendingContext=h,l=sr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ar(e,l,i),a!==null&&(yn(a,e,i),zo(a,e,i))}function b_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Rd(e,i){b_(e,i),(e=e.alternate)&&b_(e,i)}function w_(e){if(e.tag===13){var i=ca(e,67108864);i!==null&&yn(i,e,67108864),Rd(e,67108864)}}var mc=!0;function _A(e,i,a,l){var h=F.T;F.T=null;var d=nt.p;try{nt.p=2,Id(e,i,a,l)}finally{nt.p=d,F.T=h}}function vA(e,i,a,l){var h=F.T;F.T=null;var d=nt.p;try{nt.p=8,Id(e,i,a,l)}finally{nt.p=d,F.T=h}}function Id(e,i,a,l){if(mc){var h=Cd(l);if(h===null)md(e,i,l,pc,a),I_(e,l);else if(TA(h,e,i,a,l))l.stopPropagation();else if(I_(e,l),i&4&&-1<EA.indexOf(e)){for(;h!==null;){var d=Kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-Fe(v);T.entanglements[1]|=R,v&=~R}oi(d),(Gt&6)===0&&(Wu=En()+500,il(0))}}break;case 13:T=ca(d,2),T!==null&&yn(T,d,2),tc(),Rd(d,2)}if(d=Cd(l),d===null&&md(e,i,l,pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else md(e,i,l,null,a)}}function Cd(e){return e=Sn(e),Dd(e)}var pc=null;function Dd(e){if(pc=null,e=yi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return pc=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oh()){case oo:return 2;case Hs:return 8;case Zr:case xh:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Nd=!1,vr=null,Er=null,Tr=null,hl=new Map,fl=new Map,Ar=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,i){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function dl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Kn(i),i!==null&&w_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function TA(e,i,a,l,h){switch(i){case"focusin":return vr=dl(vr,e,i,a,l,h),!0;case"dragenter":return Er=dl(Er,e,i,a,l,h),!0;case"mouseover":return Tr=dl(Tr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return hl.set(d,dl(hl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,fl.set(d,dl(fl.get(d)||null,e,i,a,l,h)),!0}return!1}function C_(e){var i=yi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,tu(e.priority,function(){if(a.tag===13){var l=gn();l=Zi(l);var h=ca(a,l);h!==null&&yn(h,a,l),Rd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Cd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ti=l,a.target.dispatchEvent(l),Ti=null}else return i=Kn(a),i!==null&&w_(i),e.blockedOn=a,!1;i.shift()}return!0}function D_(e,i,a){gc(e)&&a.delete(i)}function AA(){Nd=!1,vr!==null&&gc(vr)&&(vr=null),Er!==null&&gc(Er)&&(Er=null),Tr!==null&&gc(Tr)&&(Tr=null),hl.forEach(D_),fl.forEach(D_)}function yc(e,i){e.blockedOn===i&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AA)))}var _c=null;function N_(e){_c!==e&&(_c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Dd(l||a)===null)continue;break}var d=Kn(a);d!==null&&(e.splice(i,3),i-=3,Df(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ml(e){function i(R){return yc(R,e)}vr!==null&&yc(vr,e),Er!==null&&yc(Er,e),Tr!==null&&yc(Tr,e),hl.forEach(i),fl.forEach(i);for(var a=0;a<Ar.length;a++){var l=Ar[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ar.length&&(a=Ar[0],a.blockedOn===null);)C_(a),a.blockedOn===null&&Ar.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[me]||null;if(typeof d=="function")v||N_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[me]||null)T=v.formAction;else if(Dd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),N_(a)}}}function Od(e){this._internalRoot=e}vc.prototype.render=Od.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();S_(a,l,e,i,null,null)},vc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;S_(e.current,2,null,e,null,null),tc(),i[Tn]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=$i();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ar.length&&i!==0&&i<Ar[a].priority;a++);Ar.splice(a,0,e),a===0&&C_(e)}};var O_=t.version;if(O_!=="19.1.0")throw Error(s(527,O_,"19.1.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var SA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{oe=Ec.inject(SA),Ft=Ec}catch{}}return gl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Kg,d=Yg,v=Xg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=T_(e,1,!1,null,null,a,l,h,d,v,T,null),e[Tn]=i.current,dd(e),new Od(i)},gl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Kg,v=Yg,T=Xg,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=T_(e,1,!0,i,a??null,l,h,d,v,T,R,j),i.context=A_(null),a=i.current,l=gn(),l=Zi(l),h=sr(l),h.callback=null,ar(a,h,l),a=l,i.current.lanes=a,gi(i,a),oi(i),e[Tn]=i.current,dd(e),new vc(i)},gl.version="19.1.0",gl}var B_;function MA(){if(B_)return Md.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=VA(),Md.exports}var PA=MA();const A0="/assets/logo-Bdn7-ZkL.png";var S0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},q_=xs.createContext&&xs.createContext(S0),LA=["attr","size","title"];function kA(r,t){if(r==null)return{};var n=UA(r,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function UA(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Uc(){return Uc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Uc.apply(this,arguments)}function H_(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function jc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(n),!0).forEach(function(s){jA(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function jA(r,t,n){return t=zA(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function zA(r){var t=BA(r,"string");return typeof t=="symbol"?t:t+""}function BA(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function b0(r){return r&&r.map((t,n)=>xs.createElement(t.tag,jc({key:n},t.attr),b0(t.child)))}function ln(r){return t=>xs.createElement(qA,Uc({attr:jc({},r.attr)},t),b0(r.child))}function qA(r){var t=n=>{var{attr:s,size:o,title:u}=r,f=kA(r,LA),p=o||n.size||"1em",g;return n.className&&(g=n.className),r.className&&(g=(g?g+" ":"")+r.className),xs.createElement("svg",Uc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:jc(jc({color:r.color||n.color},n.style),r.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&xs.createElement("title",null,u),r.children)};return q_!==void 0?xs.createElement(q_.Consumer,null,n=>t(n)):t(S0)}function HA(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 16L6 10H18L12 16Z"},child:[]}]})(r)}function FA(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M1.94607 9.31543C1.42353 9.14125 1.4194 8.86022 1.95682 8.68108L21.043 2.31901C21.5715 2.14285 21.8746 2.43866 21.7265 2.95694L16.2733 22.0432C16.1223 22.5716 15.8177 22.59 15.5944 22.0876L11.9999 14L17.9999 6.00005L9.99992 12L1.94607 9.31543Z"},child:[]}]})(r)}function GA(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.7134 8.12811L20.4668 8.69379C20.2864 9.10792 19.7136 9.10792 19.5331 8.69379L19.2866 8.12811C18.8471 7.11947 18.0555 6.31641 17.0677 5.87708L16.308 5.53922C15.8973 5.35653 15.8973 4.75881 16.308 4.57612L17.0252 4.25714C18.0384 3.80651 18.8442 2.97373 19.2761 1.93083L19.5293 1.31953C19.7058 0.893489 20.2942 0.893489 20.4706 1.31953L20.7238 1.93083C21.1558 2.97373 21.9616 3.80651 22.9748 4.25714L23.6919 4.57612C24.1027 4.75881 24.1027 5.35653 23.6919 5.53922L22.9323 5.87708C21.9445 6.31641 21.1529 7.11947 20.7134 8.12811ZM10 3H14V5H10C6.68629 5 4 7.68629 4 11C4 14.61 6.46208 16.9656 12 19.4798V17H14C17.3137 17 20 14.3137 20 11H22C22 15.4183 18.4183 19 14 19V22.5C9 20.5 2 17.5 2 11C2 6.58172 5.58172 3 10 3Z"},child:[]}]})(r)}function QA(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.26489 3.80698L7.41191 5.44558C5.34875 6.89247 4 9.28873 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 9.28873 18.6512 6.89247 16.5881 5.44558L17.7351 3.80698C20.3141 5.61559 22 8.61091 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 8.61091 3.68594 5.61559 6.26489 3.80698ZM11 12V2H13V12H11Z"},child:[]}]})(r)}function KA(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 2.00318V2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8L9 2.00318ZM5.82918 8H9V4.83086L5.82918 8ZM11 4V9C11 9.55228 10.5523 10 10 10H5V20H19V4H11Z"},child:[]}]})(r)}function YA(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.4142 5H21C21.5523 5 22 5.44772 22 6V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H10.4142L12.4142 5ZM4 5V19H20V7H11.5858L9.58579 5H4ZM8 18C8 15.7909 9.79086 14 12 14C14.2091 14 16 15.7909 16 18H8ZM12 13C10.6193 13 9.5 11.8807 9.5 10.5C9.5 9.11929 10.6193 8 12 8C13.3807 8 14.5 9.11929 14.5 10.5C14.5 11.8807 13.3807 13 12 13Z"},child:[]}]})(r)}function XA(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.6144 17.7956C10.277 18.5682 9.20776 18.5682 8.8704 17.7956L7.99275 15.7854C7.21171 13.9966 5.80589 12.5726 4.0523 11.7942L1.63658 10.7219C.868536 10.381.868537 9.26368 1.63658 8.92276L3.97685 7.88394C5.77553 7.08552 7.20657 5.60881 7.97427 3.75892L8.8633 1.61673C9.19319.821767 10.2916.821765 10.6215 1.61673L11.5105 3.75894C12.2782 5.60881 13.7092 7.08552 15.5079 7.88394L17.8482 8.92276C18.6162 9.26368 18.6162 10.381 17.8482 10.7219L15.4325 11.7942C13.6789 12.5726 12.2731 13.9966 11.492 15.7854L10.6144 17.7956ZM4.53956 9.82234C6.8254 10.837 8.68402 12.5048 9.74238 14.7996 10.8008 12.5048 12.6594 10.837 14.9452 9.82234 12.6321 8.79557 10.7676 7.04647 9.74239 4.71088 8.71719 7.04648 6.85267 8.79557 4.53956 9.82234ZM19.4014 22.6899 19.6482 22.1242C20.0882 21.1156 20.8807 20.3125 21.8695 19.8732L22.6299 19.5353C23.0412 19.3526 23.0412 18.7549 22.6299 18.5722L21.9121 18.2532C20.8978 17.8026 20.0911 16.9698 19.6586 15.9269L19.4052 15.3156C19.2285 14.8896 18.6395 14.8896 18.4628 15.3156L18.2094 15.9269C17.777 16.9698 16.9703 17.8026 15.956 18.2532L15.2381 18.5722C14.8269 18.7549 14.8269 19.3526 15.2381 19.5353L15.9985 19.8732C16.9874 20.3125 17.7798 21.1156 18.2198 22.1242L18.4667 22.6899C18.6473 23.104 19.2207 23.104 19.4014 22.6899ZM18.3745 19.0469 18.937 18.4883 19.4878 19.0469 18.937 19.5898 18.3745 19.0469Z"},child:[]}]})(r)}function ZA(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 18H19V11.0314C19 7.14806 15.866 4 12 4C8.13401 4 5 7.14806 5 11.0314V18ZM12 2C16.9706 2 21 6.04348 21 11.0314V20H3V11.0314C3 6.04348 7.02944 2 12 2ZM9.5 21H14.5C14.5 22.3807 13.3807 23.5 12 23.5C10.6193 23.5 9.5 22.3807 9.5 21Z"},child:[]}]})(r)}function $A(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 3C10.9 3 10 3.9 10 5C10 6.1 10.9 7 12 7C13.1 7 14 6.1 14 5C14 3.9 13.1 3 12 3ZM12 17C10.9 17 10 17.9 10 19C10 20.1 10.9 21 12 21C13.1 21 14 20.1 14 19C14 17.9 13.1 17 12 17ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(r)}function WA(r){return ln({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"},child:[]}]})(r)}const JA=()=>{};var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},t2=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let b=(p&15)<<2|y>>6,q=y&63;g||(q=64,f||(b=64)),s.push(n[E],n[S],n[b],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(w0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):t2(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||S==null)throw new e2;const b=u<<2|p>>4;if(s.push(b),y!==64){const q=p<<4&240|y>>2;if(s.push(q),S!==64){const Z=y<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class e2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n2=function(r){const t=w0(r);return R0.encodeByteArray(t,!0)},zc=function(r){return n2(r).replace(/\./g,"")},I0=function(r){try{return R0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=()=>i2().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof F_>"u")return;const r=F_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},a2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&I0(r[1]);return t&&JSON.parse(t)},ah=()=>{try{return JA()||r2()||s2()||a2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C0=r=>{var t,n;return(n=(t=ah())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},o2=r=>{const t=C0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},D0=()=>{var r;return(r=ah())===null||r===void 0?void 0:r.config},N0=r=>{var t;return(t=ah())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(r){return r.endsWith(".cloudworkstations.dev")}async function O0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[zc(JSON.stringify(n)),zc(JSON.stringify(f)),""].join(".")}const Sl={};function c2(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function h2(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let G_=!1;function x0(r,t){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||Sl[r]===t||Sl[r]||G_)return;Sl[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=c2().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function p(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,q){b.setAttribute("width","24"),b.setAttribute("id",q),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{G_=!0,f()},b}function E(b,q){b.setAttribute("id",q),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=h2(s),q=n("text"),Z=document.getElementById(q)||document.createElement("span"),et=n("learnmore"),Q=document.getElementById(et)||document.createElement("a"),mt=n("preprendIcon"),ct=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const lt=b.element;p(lt),E(Q,et);const xt=y();g(ct,mt),lt.append(ct,Z,Q,xt),document.body.appendChild(lt)}u?(Z.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function d2(){var r;const t=(r=ah())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function g2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y2(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _2(){return!d2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v2(){try{return typeof indexedDB=="object"}catch{return!1}}function E2(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=T2,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?A2(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Yi(o,p,s)}}function A2(r,t){return r.replace(S2,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const S2=/\{\$([^}]+)}/g;function b2(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Q_(u)&&Q_(f)){if(!Vs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function yl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function _l(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function w2(r,t){const n=new R2(r,t);return n.subscribe.bind(n)}class R2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");I2(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I2(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r){return r&&r._delegate?r._delegate:r}class Ms{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new l2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(N2(t))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ns){return this.instances.has(t)}getOptions(t=Ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:D2(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ns){return this.component?this.component.multipleInstances?t:Ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D2(r){return r===Ns?void 0:r}function N2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new C2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const x2={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},V2=Nt.INFO,M2={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},P2=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=M2[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=V2,this._logHandler=P2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?x2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const L2=(r,t)=>t.some(n=>r instanceof n);let K_,Y_;function k2(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U2(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,Zd=new WeakMap,M0=new WeakMap,jd=new WeakMap,Rm=new WeakMap;function j2(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Nr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&V0.set(n,r)}).catch(()=>{}),Rm.set(t,r),t}function z2(r){if(Zd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Zd.set(r,t)}let $d={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||M0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function B2(r){$d=r($d)}function q2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(zd(this),t,...n);return M0.set(s,t.sort?t.sort():[t]),Nr(s)}:U2().includes(r)?function(...t){return r.apply(zd(this),t),Nr(V0.get(this))}:function(...t){return Nr(r.apply(zd(this),t))}}function H2(r){return typeof r=="function"?q2(r):(r instanceof IDBTransaction&&z2(r),L2(r,k2())?new Proxy(r,$d):r)}function Nr(r){if(r instanceof IDBRequest)return j2(r);if(jd.has(r))return jd.get(r);const t=H2(r);return t!==r&&(jd.set(r,t),Rm.set(t,r)),t}const zd=r=>Rm.get(r);function F2(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=Nr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Nr(f.result),g.oldVersion,g.newVersion,Nr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const G2=["get","getKey","getAll","getAllKeys","count"],Q2=["put","add","delete","clear"],Bd=new Map;function X_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Q2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||G2.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Bd.set(t,u),u}B2(r=>({...r,get:(t,n,s)=>X_(t,n)||r.get(t,n,s),has:(t,n)=>!!X_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Y2(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wd="@firebase/app",Z_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new wm("@firebase/app"),X2="@firebase/app-compat",Z2="@firebase/analytics-compat",$2="@firebase/analytics",W2="@firebase/app-check-compat",J2="@firebase/app-check",tS="@firebase/auth",eS="@firebase/auth-compat",nS="@firebase/database",iS="@firebase/data-connect",rS="@firebase/database-compat",sS="@firebase/functions",aS="@firebase/functions-compat",oS="@firebase/installations",lS="@firebase/installations-compat",uS="@firebase/messaging",cS="@firebase/messaging-compat",hS="@firebase/performance",fS="@firebase/performance-compat",dS="@firebase/remote-config",mS="@firebase/remote-config-compat",pS="@firebase/storage",gS="@firebase/storage-compat",yS="@firebase/firestore",_S="@firebase/ai",vS="@firebase/firestore-compat",ES="firebase",TS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",AS={[Wd]:"fire-core",[X2]:"fire-core-compat",[$2]:"fire-analytics",[Z2]:"fire-analytics-compat",[J2]:"fire-app-check",[W2]:"fire-app-check-compat",[tS]:"fire-auth",[eS]:"fire-auth-compat",[nS]:"fire-rtdb",[iS]:"fire-data-connect",[rS]:"fire-rtdb-compat",[sS]:"fire-fn",[aS]:"fire-fn-compat",[oS]:"fire-iid",[lS]:"fire-iid-compat",[uS]:"fire-fcm",[cS]:"fire-fcm-compat",[hS]:"fire-perf",[fS]:"fire-perf-compat",[dS]:"fire-rc",[mS]:"fire-rc-compat",[pS]:"fire-gcs",[gS]:"fire-gcs-compat",[yS]:"fire-fst",[vS]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,SS=new Map,tm=new Map;function $_(r,t){try{r.container.addComponent(t)}catch(n){Fi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fa(r){const t=r.name;if(tm.has(t))return Fi.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const n of Bc.values())$_(n,r);for(const n of SS.values())$_(n,r);return!0}function Im(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Vn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new jl("app","Firebase",bS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=TS;function P0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Jd,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Or.create("bad-app-name",{appName:String(o)});if(n||(n=D0()),!n)throw Or.create("no-options");const u=Bc.get(o);if(u){if(Vs(n,u.options)&&Vs(s,u.config))return u;throw Or.create("duplicate-app",{appName:o})}const f=new O2(o);for(const g of tm.values())f.addComponent(g);const p=new wS(n,s,f);return Bc.set(o,p),p}function L0(r=Jd){const t=Bc.get(r);if(!t&&r===Jd&&D0())return P0();if(!t)throw Or.create("no-app",{appName:r});return t}function xr(r,t,n){var s;let o=(s=AS[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${t}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fi.warn(p.join(" "));return}Fa(new Ms(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebase-heartbeat-database",IS=1,Dl="firebase-heartbeat-store";let qd=null;function k0(){return qd||(qd=F2(RS,IS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Or.create("idb-open",{originalErrorMessage:r.message})})),qd}async function CS(r){try{const n=(await k0()).transaction(Dl),s=await n.objectStore(Dl).get(U0(r));return await n.done,s}catch(t){if(t instanceof Yi)Fi.warn(t.message);else{const n=Or.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(n.message)}}}async function W_(r,t){try{const s=(await k0()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(t,U0(r)),await s.done}catch(n){if(n instanceof Yi)Fi.warn(n.message);else{const s=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(s.message)}}}function U0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=1024,NS=30;class OS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=J_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>NS){const f=MS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J_(),{heartbeatsToSend:s,unsentEntries:o}=xS(this._heartbeatsCache.heartbeats),u=zc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Fi.warn(n),""}}}function J_(){return new Date().toISOString().substring(0,10)}function xS(r,t=DS){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),tv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class VS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v2()?E2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function tv(r){return zc(JSON.stringify({version:2,heartbeats:r})).length}function MS(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r){Fa(new Ms("platform-logger",t=>new K2(t),"PRIVATE")),Fa(new Ms("heartbeat",t=>new OS(t),"PRIVATE")),xr(Wd,Z_,r),xr(Wd,Z_,"esm2017"),xr("fire-js","")}PS("");function Cm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function j0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LS=j0,z0=new jl("auth","Firebase",j0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new wm("@firebase/auth");function kS(r,...t){qc.logLevel<=Nt.WARN&&qc.warn(`Auth (${to}): ${r}`,...t)}function Ic(r,...t){qc.logLevel<=Nt.ERROR&&qc.error(`Auth (${to}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...t){throw Dm(r,...t)}function ui(r,...t){return Dm(r,...t)}function B0(r,t,n){const s=Object.assign(Object.assign({},LS()),{[t]:n});return new jl("auth","Firebase",s).create(t,{appName:r.name})}function qi(r){return B0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return z0.create(r,...t)}function gt(r,t,...n){if(!r)throw Dm(t,...n)}function zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ic(t),new Error(t)}function Gi(r,t){r||zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function US(){return ev()==="http:"||ev()==="https:"}function ev(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(US()||p2()||"connection"in navigator)?navigator.onLine:!0}function zS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=f2()||g2()}get(){return jS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HS=new Bl(3e4,6e4);function Hr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Fr(r,t,n,s,o={}){return H0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=zl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:g},u);return m2()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ja(r.emulatorConfig.host)&&(y.credentials="include"),q0.fetch()(await F0(r,r.config.apiHost,n,p),y)})}async function H0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},BS),t);try{const o=new GS(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Tc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Tc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Tc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw B0(r,E,y);Hn(r,E)}}catch(o){if(o instanceof Yi)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function ql(r,t,n,s,o={}){const u=await Fr(r,t,n,s,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function F0(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Nm(r.config,o):`${r.config.apiScheme}://${o}`;return qS.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function FS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ui(this.auth,"network-request-failed")),HS.get())})}}function Tc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ui(r,t,s);return o.customData._tokenResponse=n,o}function nv(r){return r!==void 0&&r.enterprise!==void 0}class QS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return FS(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KS(r,t){return Fr(r,"GET","/v2/recaptchaConfig",Hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(r,t){return Fr(r,"POST","/v1/accounts:delete",t)}async function Hc(r,t){return Fr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XS(r,t=!1){const n=Me(r),s=await n.getIdToken(t),o=Om(s);gt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:bl(Hd(o.auth_time)),issuedAtTime:bl(Hd(o.iat)),expirationTime:bl(Hd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Hd(r){return Number(r)*1e3}function Om(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=I0(n);return o?JSON.parse(o):(Ic("Failed to decode base64 JWT payload"),null)}catch(o){return Ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function iv(r){const t=Om(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&ZS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ZS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Nl(r,Hc(n,{idToken:s}));gt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?G0(u.providerUserInfo):[],p=JS(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=g?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new nm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function WS(r){const t=Me(r);await Fc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JS(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function G0(r){return r.map(t=>{var{providerId:n}=t,s=Cm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(r,t){const n=await H0(r,{},async()=>{const s=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await F0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Ja(r.emulatorConfig.host)&&(g.credentials="include"),q0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eb(r,t){return Fr(r,"POST","/v2/accounts:revokeToken",Hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=iv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await tb(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new za;return s&&(gt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(gt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(gt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class zn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Cm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $S(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new nm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return XS(this,t)}reload(){return WS(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Fc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(qi(this.auth));const t=await this.getIdToken();return await Nl(this,YS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,p,g,y,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,q=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,Z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,et=(p=n.tenantId)!==null&&p!==void 0?p:void 0,Q=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,mt=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ct=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:lt,emailVerified:xt,isAnonymous:Et,providerData:Vt,stsTokenManager:x}=n;gt(lt&&x,t,"internal-error");const w=za.fromJSON(this.name,x);gt(typeof lt=="string",t,"internal-error"),br(S,t.name),br(b,t.name),gt(typeof xt=="boolean",t,"internal-error"),gt(typeof Et=="boolean",t,"internal-error"),br(q,t.name),br(Z,t.name),br(et,t.name),br(Q,t.name),br(mt,t.name),br(ct,t.name);const I=new zn({uid:lt,auth:t,email:b,emailVerified:xt,displayName:S,isAnonymous:Et,photoURL:Z,phoneNumber:q,tenantId:et,stsTokenManager:w,createdAt:mt,lastLoginAt:ct});return Vt&&Array.isArray(Vt)&&(I.providerData=Vt.map(O=>Object.assign({},O))),Q&&(I._redirectEventId=Q),I}static async _fromIdTokenResponse(t,n,s=!1){const o=new za;o.updateFromServerResponse(n);const u=new zn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Fc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];gt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?G0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new za;p.updateFromIdToken(s);const g=new zn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;function Bi(r){Gi(r instanceof Function,"Expected a class definition");let t=rv.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,rv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Q0.type="NONE";const sv=Q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ba{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Cc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Cc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Hc(this.auth,{idToken:t}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ba(Bi(sv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Bi(sv);const f=Cc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const b=await Hc(t,{idToken:E}).catch(()=>{});if(!b)break;S=await zn._fromGetAccountInfoResponse(t,b,E)}else S=zn._fromJSON(t,E);y!==u&&(p=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ba(u,t,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ba(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Z0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(K0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(W0(t))return"Blackberry";if(J0(t))return"Webos";if(Y0(t))return"Safari";if((t.includes("chrome/")||X0(t))&&!t.includes("edge/"))return"Chrome";if($0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function K0(r=$e()){return/firefox\//i.test(r)}function Y0(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function X0(r=$e()){return/crios\//i.test(r)}function Z0(r=$e()){return/iemobile/i.test(r)}function $0(r=$e()){return/android/i.test(r)}function W0(r=$e()){return/blackberry/i.test(r)}function J0(r=$e()){return/webos/i.test(r)}function xm(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nb(r=$e()){var t;return xm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function ib(){return y2()&&document.documentMode===10}function t1(r=$e()){return xm(r)||$0(r)||J0(r)||W0(r)||/windows phone/i.test(r)||Z0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(r,t=[]){let n;switch(r){case"Browser":n=av($e());break;case"Worker":n=`${av($e())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sb(r,t={}){return Fr(r,"GET","/v2/passwordPolicy",Hr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=6;class ob{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:ab,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new rb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ba.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Hc(this,{idToken:t}),s=await zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Vn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Fc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(qi(this));const n=t?Me(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sb(this),n=new ob(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eb(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bi(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=e1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&kS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(r){return Me(r)}class ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=w2(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ub(r){oh=r}function n1(r){return oh.loadJS(r)}function cb(){return oh.recaptchaEnterpriseScript}function hb(){return oh.gapiScript}function fb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class db{constructor(){this.enterprise=new mb}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class mb{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const pb="recaptcha-enterprise",i1="NO_RECAPTCHA";class gb{constructor(t){this.type=pb,this.auth=js(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{KS(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new QS(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,f,p){const g=window.grecaptcha;nv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(i1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new db().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&nv(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=cb();g.length!==0&&(g+=p),n1(g).then(()=>{o(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function lv(r,t,n,s=!1,o=!1){const u=new gb(r);let f;if(o)f=i1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function im(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await lv(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await lv(r,t,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r,t){const n=Im(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Vs(u,t??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:t})}function _b(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Bi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function vb(r,t,n){const s=js(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=r1(t),{host:f,port:p}=Eb(t),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Vs(y,s.config.emulator)&&Vs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ja(f)?(O0(`${u}//${f}${g}`),x0("Auth",!0)):Tb()}function r1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Eb(r){const t=r1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:uv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:uv(f)}}}function uv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Tb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,n){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}async function Ab(r,t){return Fr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(r,t){return ql(r,"POST","/v1/accounts:signInWithPassword",Hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(r,t){return ql(r,"POST","/v1/accounts:signInWithEmailLink",Hr(r,t))}async function wb(r,t){return ql(r,"POST","/v1/accounts:signInWithEmailLink",Hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Vm{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Ol(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ol(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,n,"signInWithPassword",Sb);case"emailLink":return bb(t,{email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,s,"signUpPassword",Ab);case"emailLink":return wb(t,{idToken:n,email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(r,t){return ql(r,"POST","/v1/accounts:signInWithIdp",Hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="http://localhost";class Ps extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Cm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ps(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return qa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,qa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,qa(t,n)}buildRequest(){const t={requestUri:Rb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cb(r){const t=yl(_l(r)).link,n=t?yl(_l(t)).deep_link_id:null,s=yl(_l(r)).deep_link_id;return(s?yl(_l(s)).link:null)||s||n||t||r}class Mm{constructor(t){var n,s,o,u,f,p;const g=yl(_l(t)),y=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,S=Ib((o=g.mode)!==null&&o!==void 0?o:null);gt(y&&E&&S,"argument-error"),this.apiKey=y,this.operation=S,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.lang)!==null&&f!==void 0?f:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(t){const n=Cb(t);try{return new Mm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(t,n){return Ol._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Mm.parseLink(n);return gt(s,"argument-error"),Ol._fromEmailAndCode(t,s.code,s.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends s1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Hl{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ps._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Hl{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Hl{constructor(){super("twitter.com")}static credential(t,n){return Ps._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(r,t){return ql(r,"POST","/v1/accounts:signUp",Hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await zn._fromIdTokenResponse(t,s,o),f=cv(s);return new Ls({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=cv(s);return new Ls({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function cv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Yi{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Gc(t,n,s,o)}}function a1(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,u,t,s):u})}async function Nb(r,t,n=!1){const s=await Nl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ls._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(r,t,n=!1){const{auth:s}=r;if(Vn(s.app))return Promise.reject(qi(s));const o="reauthenticate";try{const u=await Nl(r,a1(s,o,t,r),n);gt(u.idToken,s,"internal-error");const f=Om(u.idToken);gt(f,s,"internal-error");const{sub:p}=f;return gt(r.uid===p,s,"user-mismatch"),Ls._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(r,t,n=!1){if(Vn(r.app))return Promise.reject(qi(r));const s="signIn",o=await a1(r,s,t),u=await Ls._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function xb(r,t){return o1(js(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(r){const t=js(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Vb(r,t,n){if(Vn(r.app))return Promise.reject(qi(r));const s=js(r),f=await im(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Db).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&l1(r),g}),p=await Ls._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function Mb(r,t,n){return Vn(r.app)?Promise.reject(qi(r)):xb(Me(r),eo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&l1(r),s})}function Pb(r,t,n,s){return Me(r).onIdTokenChanged(t,n,s)}function Lb(r,t,n){return Me(r).beforeAuthStateChanged(t,n)}function kb(r){return Me(r).signOut()}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=1e3,jb=10;class c1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);ib()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,jb):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Ub)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}c1.type="LOCAL";const zb=c1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}h1.type="SESSION";const f1=h1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new lh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await Bb(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Pm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function Hb(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function Fb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gb(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Qb(){return d1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebaseLocalStorageDb",Kb=1,Kc="firebaseLocalStorage",p1="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(r,t){return r.transaction([Kc],t?"readwrite":"readonly").objectStore(Kc)}function Yb(){const r=indexedDB.deleteDatabase(m1);return new Fl(r).toPromise()}function rm(){const r=indexedDB.open(m1,Kb);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Kc,{keyPath:p1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Kc)?t(s):(s.close(),await Yb(),t(await rm()))})})}async function hv(r,t,n){const s=uh(r,!0).put({[p1]:t,value:n});return new Fl(s).toPromise()}async function Xb(r,t){const n=uh(r,!1).get(t),s=await new Fl(n).toPromise();return s===void 0?null:s.value}function fv(r,t){const n=uh(r,!0).delete(t);return new Fl(n).toPromise()}const Zb=800,$b=3;class g1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>$b)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(Qb()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Fb(),!this.activeServiceWorker)return;this.sender=new qb(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Gb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await hv(t,Qc,"1"),await fv(t,Qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Xb(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=uh(o,!1).getAll();return new Fl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g1.type="LOCAL";const Wb=g1;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(r,t){return t?Bi(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends Vm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tw(r){return o1(r.auth,new Lm(r),r.bypassAuthState)}function ew(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),Ob(n,new Lm(r),r.bypassAuthState)}async function nw(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),Nb(n,new Lm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tw;case"linkViaPopup":case"linkViaRedirect":return nw;case"reauthViaPopup":case"reauthViaRedirect":return ew;default:Hn(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Bl(2e3,1e4);class ja extends y1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iw.get())};t()}}ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="pendingRedirect",Dc=new Map;class sw extends y1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const s=await aw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aw(r,t){const n=uw(t),s=lw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ow(r,t){Dc.set(r._key(),t)}function lw(r){return Bi(r._redirectPersistence)}function uw(r){return Cc(rw,r.config.apiKey,r.name)}async function cw(r,t,n=!1){if(Vn(r.app))return Promise.reject(qi(r));const s=js(r),o=Jb(s,t),f=await new sw(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=10*60*1e3;class fw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!_1(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hw&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(t))}saveEventToCache(t){this.cachedEventUids.add(dv(t)),this.lastProcessedEventTime=Date.now()}}function dv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function _1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function dw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(r,t={}){return Fr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gw=/^https?/;async function yw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mw(r);for(const n of t)try{if(_w(n))return}catch{}Hn(r,"unauthorized-domain")}function _w(r){const t=em(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gw.test(n))return!1;if(pw.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Bl(3e4,6e4);function mv(){const r=ci().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ew(r){return new Promise((t,n)=>{var s,o,u;function f(){mv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mv(),n(ui(r,"network-request-failed"))},timeout:vw.get()})}if(!((o=(s=ci().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=ci().gapi)===null||u===void 0)&&u.load)f();else{const p=fb("iframefcb");return ci()[p]=()=>{gapi.load?f():n(ui(r,"network-request-failed"))},n1(`${hb()}?onload=${p}`).catch(g=>n(g))}}).catch(t=>{throw Nc=null,t})}let Nc=null;function Tw(r){return Nc=Nc||Ew(r),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Bl(5e3,15e3),Sw="__/auth/iframe",bw="emulator/auth/iframe",ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iw(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Nm(t,bw):`https://${r.config.authDomain}/${Sw}`,s={apiKey:t.apiKey,appName:r.name,v:to},o=Rw.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${zl(s).slice(1)}`}async function Cw(r){const t=await Tw(r),n=ci().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:Iw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ww,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ui(r,"network-request-failed"),p=ci().setTimeout(()=>{u(f)},Aw.get());function g(){ci().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nw=500,Ow=600,xw="_blank",Vw="http://localhost";class pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mw(r,t,n,s=Nw,o=Ow){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},Dw),{width:s.toString(),height:o.toString(),top:u,left:f}),y=$e().toLowerCase();n&&(p=X0(y)?xw:n),K0(y)&&(t=t||Vw,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[q,Z])=>`${b}${q}=${Z},`,"");if(nb(y)&&p!=="_self")return Pw(t||"",p),new pv(null);const S=window.open(t||"",p,E);gt(S,r,"popup-blocked");try{S.focus()}catch{}return new pv(S)}function Pw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="__/auth/handler",kw="emulator/auth/handler",Uw=encodeURIComponent("fac");async function gv(r,t,n,s,o,u){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:to,eventId:o};if(t instanceof s1){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",b2(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof Hl){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${Uw}=${encodeURIComponent(g)}`:"";return`${jw(r)}?${zl(p).slice(1)}${y}`}function jw({config:r}){return r.emulator?Nm(r,kw):`https://${r.authDomain}/${Lw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class zw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=cw,this._overrideRedirectResult=ow}async _openPopup(t,n,s,o){var u;Gi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await gv(t,n,s,em(),o);return Mw(t,f,Pm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await gv(t,n,s,em(),o);return Hb(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Gi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Cw(t),s=new fw(t);return n.register("authEvent",o=>(gt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Fd,{type:Fd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Fd];f!==void 0&&n(!!f),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return t1()||Y0()||xm()}}const Bw=zw;var yv="@firebase/auth",_v="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fw(r){Fa(new Ms("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e1(r)},y=new lb(s,o,u,g);return _b(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Fa(new Ms("auth-internal",t=>{const n=js(t.getProvider("auth").getImmediate());return(s=>new qw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(yv,_v,Hw(r)),xr(yv,_v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=5*60,Qw=N0("authIdTokenMaxAge")||Gw;let vv=null;const Kw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Qw)return;const o=n==null?void 0:n.token;vv!==o&&(vv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Yw(r=L0()){const t=Im(r,"auth");if(t.isInitialized())return t.getImmediate();const n=yb(r,{popupRedirectResolver:Bw,persistence:[Wb,zb,f1]}),s=N0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Kw(u.toString());Lb(n,f,()=>f(n.currentUser)),Pb(n,p=>f(p))}}const o=C0("auth");return o&&vb(n,`http://${o}`),n}function Xw(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}ub({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Xw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fw("Browser");var Zw="firebase",$w="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(Zw,$w,"app");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,v1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function I(){}I.prototype=w.prototype,x.D=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(O,V,P){for(var C=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)C[Pe-2]=arguments[Pe];return w.prototype[V].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,I){I||(I=0);var O=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)O[V]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],V=x.g[2];var P=x.g[3],C=w+(P^I&(V^P))+O[0]+3614090360&4294967295;w=I+(C<<7&4294967295|C>>>25),C=P+(V^w&(I^V))+O[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=V+(I^P&(w^I))+O[2]+606105819&4294967295,V=P+(C<<17&4294967295|C>>>15),C=I+(w^V&(P^w))+O[3]+3250441966&4294967295,I=V+(C<<22&4294967295|C>>>10),C=w+(P^I&(V^P))+O[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(V^w&(I^V))+O[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=V+(I^P&(w^I))+O[6]+2821735955&4294967295,V=P+(C<<17&4294967295|C>>>15),C=I+(w^V&(P^w))+O[7]+4249261313&4294967295,I=V+(C<<22&4294967295|C>>>10),C=w+(P^I&(V^P))+O[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(V^w&(I^V))+O[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=V+(I^P&(w^I))+O[10]+4294925233&4294967295,V=P+(C<<17&4294967295|C>>>15),C=I+(w^V&(P^w))+O[11]+2304563134&4294967295,I=V+(C<<22&4294967295|C>>>10),C=w+(P^I&(V^P))+O[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(V^w&(I^V))+O[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=V+(I^P&(w^I))+O[14]+2792965006&4294967295,V=P+(C<<17&4294967295|C>>>15),C=I+(w^V&(P^w))+O[15]+1236535329&4294967295,I=V+(C<<22&4294967295|C>>>10),C=w+(V^P&(I^V))+O[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^V&(w^I))+O[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=V+(w^I&(P^w))+O[11]+643717713&4294967295,V=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(V^P))+O[0]+3921069994&4294967295,I=V+(C<<20&4294967295|C>>>12),C=w+(V^P&(I^V))+O[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^V&(w^I))+O[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=V+(w^I&(P^w))+O[15]+3634488961&4294967295,V=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(V^P))+O[4]+3889429448&4294967295,I=V+(C<<20&4294967295|C>>>12),C=w+(V^P&(I^V))+O[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^V&(w^I))+O[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=V+(w^I&(P^w))+O[3]+4107603335&4294967295,V=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(V^P))+O[8]+1163531501&4294967295,I=V+(C<<20&4294967295|C>>>12),C=w+(V^P&(I^V))+O[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^V&(w^I))+O[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=V+(w^I&(P^w))+O[7]+1735328473&4294967295,V=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(V^P))+O[12]+2368359562&4294967295,I=V+(C<<20&4294967295|C>>>12),C=w+(I^V^P)+O[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^V)+O[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=V+(P^w^I)+O[11]+1839030562&4294967295,V=P+(C<<16&4294967295|C>>>16),C=I+(V^P^w)+O[14]+4259657740&4294967295,I=V+(C<<23&4294967295|C>>>9),C=w+(I^V^P)+O[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^V)+O[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=V+(P^w^I)+O[7]+4139469664&4294967295,V=P+(C<<16&4294967295|C>>>16),C=I+(V^P^w)+O[10]+3200236656&4294967295,I=V+(C<<23&4294967295|C>>>9),C=w+(I^V^P)+O[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^V)+O[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=V+(P^w^I)+O[3]+3572445317&4294967295,V=P+(C<<16&4294967295|C>>>16),C=I+(V^P^w)+O[6]+76029189&4294967295,I=V+(C<<23&4294967295|C>>>9),C=w+(I^V^P)+O[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^V)+O[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=V+(P^w^I)+O[15]+530742520&4294967295,V=P+(C<<16&4294967295|C>>>16),C=I+(V^P^w)+O[2]+3299628645&4294967295,I=V+(C<<23&4294967295|C>>>9),C=w+(V^(I|~P))+O[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~V))+O[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=V+(w^(P|~I))+O[14]+2878612391&4294967295,V=P+(C<<15&4294967295|C>>>17),C=I+(P^(V|~w))+O[5]+4237533241&4294967295,I=V+(C<<21&4294967295|C>>>11),C=w+(V^(I|~P))+O[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~V))+O[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=V+(w^(P|~I))+O[10]+4293915773&4294967295,V=P+(C<<15&4294967295|C>>>17),C=I+(P^(V|~w))+O[1]+2240044497&4294967295,I=V+(C<<21&4294967295|C>>>11),C=w+(V^(I|~P))+O[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~V))+O[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=V+(w^(P|~I))+O[6]+2734768916&4294967295,V=P+(C<<15&4294967295|C>>>17),C=I+(P^(V|~w))+O[13]+1309151649&4294967295,I=V+(C<<21&4294967295|C>>>11),C=w+(V^(I|~P))+O[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~V))+O[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=V+(w^(P|~I))+O[2]+718787259&4294967295,V=P+(C<<15&4294967295|C>>>17),C=I+(P^(V|~w))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var I=w-this.blockSize,O=this.B,V=this.h,P=0;P<w;){if(V==0)for(;P<=I;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<w;)if(O[V++]=x.charCodeAt(P++),V==this.blockSize){o(this,O),V=0;break}}else for(;P<w;)if(O[V++]=x[P++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var I=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=I&255,I/=256;for(this.u(x),x=Array(16),w=I=0;4>w;++w)for(var O=0;32>O;O+=8)x[I++]=this.g[w]>>>O&255;return x};function u(x,w){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function f(x,w){this.h=w;for(var I=[],O=!0,V=x.length-1;0<=V;V--){var P=x[V]|0;O&&P==w||(I[V]=P,O=!1)}this.g=I}var p={};function g(x){return-128<=x&&128>x?u(x,function(w){return new f([w|0],0>w?-1:0)}):new f([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return Q(y(-x));for(var w=[],I=1,O=0;x>=I;O++)w[O]=x/I|0,I*=4294967296;return new f(w,0)}function E(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return Q(E(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(w,8)),O=S,V=0;V<x.length;V+=8){var P=Math.min(8,x.length-V),C=parseInt(x.substring(V,V+P),w);8>P?(P=y(Math.pow(w,P)),O=O.j(P).add(y(C))):(O=O.j(I),O=O.add(y(C)))}return O}var S=g(0),b=g(1),q=g(16777216);r=f.prototype,r.m=function(){if(et(this))return-Q(this).m();for(var x=0,w=1,I=0;I<this.g.length;I++){var O=this.i(I);x+=(0<=O?O:4294967296+O)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(et(this))return"-"+Q(this).toString(x);for(var w=y(Math.pow(x,6)),I=this,O="";;){var V=xt(I,w).g;I=mt(I,V.j(w));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=V,Z(I))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function et(x){return x.h==-1}r.l=function(x){return x=mt(this,x),et(x)?-1:Z(x)?0:1};function Q(x){for(var w=x.g.length,I=[],O=0;O<w;O++)I[O]=~x.g[O];return new f(I,~x.h).add(b)}r.abs=function(){return et(this)?Q(this):this},r.add=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],O=0,V=0;V<=w;V++){var P=O+(this.i(V)&65535)+(x.i(V)&65535),C=(P>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);O=C>>>16,P&=65535,C&=65535,I[V]=C<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function mt(x,w){return x.add(Q(w))}r.j=function(x){if(Z(this)||Z(x))return S;if(et(this))return et(x)?Q(this).j(Q(x)):Q(Q(this).j(x));if(et(x))return Q(this.j(Q(x)));if(0>this.l(q)&&0>x.l(q))return y(this.m()*x.m());for(var w=this.g.length+x.g.length,I=[],O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<x.g.length;V++){var P=this.i(O)>>>16,C=this.i(O)&65535,Pe=x.i(V)>>>16,ae=x.i(V)&65535;I[2*O+2*V]+=C*ae,ct(I,2*O+2*V),I[2*O+2*V+1]+=P*ae,ct(I,2*O+2*V+1),I[2*O+2*V+1]+=C*Pe,ct(I,2*O+2*V+1),I[2*O+2*V+2]+=P*Pe,ct(I,2*O+2*V+2)}for(O=0;O<w;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=w;O<2*w;O++)I[O]=0;return new f(I,0)};function ct(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function lt(x,w){this.g=x,this.h=w}function xt(x,w){if(Z(w))throw Error("division by zero");if(Z(x))return new lt(S,S);if(et(x))return w=xt(Q(x),w),new lt(Q(w.g),Q(w.h));if(et(w))return w=xt(x,Q(w)),new lt(Q(w.g),w.h);if(30<x.g.length){if(et(x)||et(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,O=w;0>=O.l(x);)I=Et(I),O=Et(O);var V=Vt(I,1),P=Vt(O,1);for(O=Vt(O,2),I=Vt(I,2);!Z(O);){var C=P.add(O);0>=C.l(x)&&(V=V.add(I),P=C),O=Vt(O,1),I=Vt(I,1)}return w=mt(x,V.j(w)),new lt(V,w)}for(V=S;0<=x.l(w);){for(I=Math.max(1,Math.floor(x.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(I),C=P.j(w);et(C)||0<C.l(x);)I-=O,P=y(I),C=P.j(w);Z(P)&&(P=b),V=V.add(P),x=mt(x,C)}return new lt(V,x)}r.A=function(x){return xt(this,x).h},r.and=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)&x.i(O);return new f(I,this.h&x.h)},r.or=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)|x.i(O);return new f(I,this.h|x.h)},r.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)^x.i(O);return new f(I,this.h^x.h)};function Et(x){for(var w=x.g.length+1,I=[],O=0;O<w;O++)I[O]=x.i(O)<<1|x.i(O-1)>>>31;return new f(I,x.h)}function Vt(x,w){var I=w>>5;w%=32;for(var O=x.g.length-I,V=[],P=0;P<O;P++)V[P]=0<w?x.i(P+I)>>>w|x.i(P+I+1)<<32-w:x.i(P+I);return new f(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,v1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Vr=f}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,vl,T1,Oc,sm,A1,S1,b1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in _))break t;_=_[L]}c=c[c.length-1],A=_[c],m=m(A),m!=A&&m!=null&&t(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,A=!1,L={next:function(){if(!A&&_<c.length){var H=_++;return{value:m(H,c[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function E(c,m,_){return c.call.apply(c.bind,arguments)}function S(c,m,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),c.apply(m,L)}}return function(){return c.apply(m,arguments)}}function b(c,m,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function q(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function Z(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,L,H){for(var tt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)tt[Mt-2]=arguments[Mt];return m.prototype[L].apply(A,tt)}}function et(c){const m=c.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=c[A];return _}return[]}function Q(c,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const L=c.length||0,H=A.length||0;c.length=L+H;for(let tt=0;tt<H;tt++)c[L+tt]=A[tt]}else c.push(A)}}class mt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ct(c){return/^[\s\xa0]*$/.test(c)}function lt(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function xt(c){return xt[" "](c),c}xt[" "]=function(){};var Et=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function Vt(c,m,_){for(const A in c)m.call(_,c[A],A,c)}function x(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function w(c){const m={};for(const _ in c)m[_]=c[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)c[_]=A[_];for(let H=0;H<I.length;H++)_=I[H],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function P(c){p.setTimeout(()=>{throw c},0)}function C(){var c=jt;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Pe{constructor(){this.h=this.g=null}add(m,_){const A=ae.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new mt(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ut=!1,jt=new Pe,D=()=>{const c=p.Promise.resolve(void 0);nt=()=>{c.then(W)}};var W=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){P(_)}var m=ae;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ut=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return c}();function Rt(c,m){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(Et){t:{try{xt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:vt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,J);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Gn(c,m,_,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=L,this.key=++Jt,this.da=this.fa=!1}function Xi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mi(c){this.src=c,this.g={},this.h=0}mi.prototype.add=function(c,m,_,A,L){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var tt=Yr(c,m,A,L);return-1<tt?(m=c[tt],_||(m.fa=!1)):(m=new Gn(m,this.src,H,!!A,L),m.fa=_,c.push(m)),m};function Kr(c,m){var _=m.type;if(_ in c.g){var A=c.g[_],L=Array.prototype.indexOf.call(A,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(A,L,1),H&&(Xi(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Yr(c,m,_,A){for(var L=0;L<c.length;++L){var H=c[L];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==A)return L}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),ao={};function $l(c,m,_,A,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)$l(c,m[H],_,A,L);return null}return _=Wl(_),c&&c[Ie]?c.K(m,_,y(A)?!!A.capture:!1,L):En(c,m,_,!1,A,L)}function En(c,m,_,A,L,H){if(!m)throw Error("Invalid event type");var tt=y(L)?!!L.capture:!!L,Mt=Fs(c);if(Mt||(c[Xr]=Mt=new mi(c)),_=Mt.add(m,_,A,tt,H),_.proxy)return _;if(A=Oh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ft||(L=tt),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(Zr(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Oh(){function c(_){return m.call(c.src,c.listener,_)}const m=xh;return c}function oo(c,m,_,A,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)oo(c,m[H],_,A,L);else A=y(A)?!!A.capture:!!A,_=Wl(_),c&&c[Ie]?(c=c.i,m=String(m).toString(),m in c.g&&(H=c.g[m],_=Yr(H,_,A,L),-1<_&&(Xi(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[m],c.h--)))):c&&(c=Fs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Yr(m,_,A,L)),(_=-1<c?m[c]:null)&&Hs(_))}function Hs(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ie])Kr(m.i,c);else{var _=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(_,A,c.capture):m.detachEvent?m.detachEvent(Zr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Fs(m))?(Kr(_,c),_.h==0&&(_.src=null,m[Xr]=null)):Xi(c)}}}function Zr(c){return c in ao?ao[c]:ao[c]="on"+c}function xh(c,m){if(c.da)c=!0;else{m=new Rt(m,this);var _=c.listener,A=c.ha||c.src;c.fa&&Hs(c),c=_.call(A,m)}return c}function Fs(c){return c=c[Xr],c instanceof mi?c:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(c){return typeof c=="function"?c:(c[lo]||(c[lo]=function(m){return c.handleEvent(m)}),c[lo])}function oe(){it.call(this),this.i=new mi(this),this.M=this,this.F=null}Z(oe,it),oe.prototype[Ie]=!0,oe.prototype.removeEventListener=function(c,m,_,A){oo(this,c,m,_,A)};function Ft(c,m){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new J(m,c);else if(m instanceof J)m.target=m.target||c;else{var L=m;m=new J(A,c),O(m,L)}if(L=!0,_)for(var H=_.length-1;0<=H;H--){var tt=m.g=_[H];L=un(tt,A,!0,m)&&L}if(tt=m.g=c,L=un(tt,A,!0,m)&&L,L=un(tt,A,!1,m)&&L,_)for(H=0;H<_.length;H++)tt=m.g=_[H],L=un(tt,A,!1,m)&&L}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],A=0;A<_.length;A++)Xi(_[A]);delete c.g[m],c.h--}}this.F=null},oe.prototype.K=function(c,m,_,A){return this.i.add(String(c),m,!1,_,A)},oe.prototype.L=function(c,m,_,A){return this.i.add(String(c),m,!0,_,A)};function un(c,m,_,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var tt=m[H];if(tt&&!tt.da&&tt.capture==_){var Mt=tt.listener,Te=tt.ha||tt.src;tt.fa&&Kr(c.i,tt),L=Mt.call(Te,A)!==!1&&L}}return L&&!A.defaultPrevented}function Fe(c,m,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function Jl(c){c.g=Fe(()=>{c.g=null,c.i&&(c.i=!1,Jl(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Vh extends it{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(c){it.call(this),this.h=c,this.g={}}Z($r,it);var Wr=[];function Jr(c){Vt(c.g,function(m,_){this.g.hasOwnProperty(_)&&Hs(m)},c),c.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Jr(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=p.JSON.stringify,Gs=p.JSON.parse,ts=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function uo(){}uo.prototype.h=null;function co(c){return c.h||(c.h=c.i())}function ho(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){J.call(this,"d")}Z(gi,J);function fo(){J.call(this,"c")}Z(fo,J);var Qn={},mo=null;function Zi(){return mo=mo||new oe}Qn.La="serverreachability";function Qs(c){J.call(this,Qn.La,c)}Z(Qs,J);function $i(c){const m=Zi();Ft(m,new Qs(m))}Qn.STAT_EVENT="statevent";function tu(c,m){J.call(this,Qn.STAT_EVENT,c),this.stat=m}Z(tu,J);function ne(c){const m=Zi();Ft(m,new tu(m,c))}Qn.Ma="timingevent";function Ee(c,m){J.call(this,Qn.Ma,c),this.size=m}Z(Ee,J);function me(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function po(c,m,_,A,L,H){c.info(function(){if(c.g)if(H)for(var tt="",Mt=H.split("&"),Te=0;Te<Mt.length;Te++){var Pt=Mt[Te].split("=");if(1<Pt.length){var De=Pt[0];Pt=Pt[1];var Ae=De.split("_");tt=2<=Ae.length&&Ae[1]=="type"?tt+(De+"="+Pt+"&"):tt+(De+"=redacted&")}}else tt=null;else tt=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+_+`
`+tt})}function Mh(c,m,_,A,L,H,tt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+_+`
`+H+" "+tt})}function Wi(c,m,_,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+es(c,_)+(A?" "+A:"")})}function eu(c,m){c.info(function(){return"TIMEOUT: "+m})}Tn.prototype.info=function(){};function es(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Mn(_)}catch{return m}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Yn(){}Z(Yn,uo),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Kn=new Yn;function We(c,m,_,A){this.j=c,this.i=m,this.l=_,this.R=A||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var go={},Ks={};function Pn(c,m,_){c.L=1,c.v=as(cn(m)),c.m=_,c.P=!0,_i(c,null)}function _i(c,m){c.F=Date.now(),ns(c),c.A=cn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ao(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ce,c.g=yu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new Vh(b(c.Y,c,c.g),c.O)),m=c.U,_=c.g,A=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(Wr[0]=L.toString()),L=Wr);for(var H=0;H<L.length;H++){var tt=$l(_,L[H],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),$i(),po(c.i,c.u,c.A,c.l,c.R,c.m)}We.prototype.ca=function(c){c=c.target;const m=this.M;m&&wn(c)==3?m.j():this.Y(c)},We.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=wn(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||uu(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ri?$i(3):$i(2)),tr(this);var _=this.g.Z();this.X=_;e:if(nu(this)){var A=uu(this.g);c="";var L=A.length,H=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Xn(this);var tt="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(H&&m==L-1)});A.length=0,this.h.g+=c,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=_==200,Mh(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Mt)){var Pt=Mt;break e}}Pt=null}if(_=Pt)Wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,is(this,_);else{this.o=!1,this.s=3,ne(12),Le(this),Xn(this);break t}}if(this.P){_=!0;let ke;for(;!this.J&&this.C<tt.length;)if(ke=iu(this,tt),ke==Ks){Ae==4&&(this.s=4,ne(14),_=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==go){this.s=4,ne(15),Wi(this.i,this.l,tt,"[Invalid Chunk]"),_=!1;break}else Wi(this.i,this.l,ke,null),is(this,ke);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||tt.length!=0||this.h.h||(this.s=1,ne(16),_=!1),this.o=this.o&&_,!_)Wi(this.i,this.l,tt,"[Invalid Chunked Response]"),Le(this),Xn(this);else if(0<tt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ms(De),De.M=!0,ne(11))}}else Wi(this.i,this.l,tt,null),is(this,tt);Ae==4&&Le(this),this.o&&!this.J&&(Ae==4?mu(this.j,this):(this.o=!1,ns(this)))}else jh(this.g),_==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Le(this),Xn(this)}}}catch{}finally{}};function nu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function iu(c,m){var _=c.C,A=m.indexOf(`
`,_);return A==-1?Ks:(_=Number(m.substring(_,A)),isNaN(_)?go:(A+=1,A+_>m.length?Ks:(m=m.slice(A,A+_),c.C=A+_,m)))}We.prototype.cancel=function(){this.J=!0,Le(this)};function ns(c){c.S=Date.now()+c.I,ru(c,c.I)}function ru(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=me(b(c.ba,c),m)}function tr(c){c.B&&(p.clearTimeout(c.B),c.B=null)}We.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(eu(this.i,this.A),this.L!=2&&($i(),ne(17)),Le(this),this.s=2,Xn(this)):ru(this,this.S-c)};function Xn(c){c.j.G==0||c.J||mu(c.j,c)}function Le(c){tr(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Jr(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function is(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||yo(_.h,c))){if(!c.K&&yo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)sa(_),ia(_);else break t;Io(_),ne(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(b(_.Za,_),6e3));if(1>=Xs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((c.K||_.g==c)&&sa(_),!ct(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const De=Pt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ae=Pt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Ri=Pt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ke=c.g;if(ke){const ni=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var H=A.h;H.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Zs(H,H.h),H.h=null))}if(A.D){const Do=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(A.ya=Do,Kt(A.I,A.D,Do))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var tt=c;if(A.qa=gu(A,A.J?A.ia:null,A.W),tt.K){Je(A.h,tt);var Mt=tt,Te=A.L;Te&&(Mt.I=Te),Mt.B&&(tr(Mt),ns(Mt)),A.g=tt}else fu(A);0<_.i.length&&ra(_)}else Pt[0]!="stop"&&Pt[0]!="close"||wi(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?wi(_,7):wo(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}$i(4)}catch{}}var su=class{constructor(c,m){this.g=c,this.map=m}};function vi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ys(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xs(c){return c.h?1:c.g?c.g.size:0}function yo(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Zs(c,m){c.g?c.g.add(m):c.h=m}function Je(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}vi.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _o(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return et(c.i)}function Ph(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],_=c.length,A=0;A<_;A++)m.push(c[A]);return m}m=[],_=0;for(A in c)m[_++]=c[A];return m}function $s(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const A in c)m[_++]=A;return m}}}function vo(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=$s(c),A=Ph(c),L=A.length,H=0;H<L;H++)m.call(void 0,A[H],_&&_[H],c)}var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),L=null;if(0<=A){var H=c[_].substring(0,A);L=c[_].substring(A+1)}else H=c[_];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pe){this.h=c.h,ss(this,c.j),this.o=c.o,this.g=c.g,er(this,c.s),this.l=c.l;var m=c.i,_=new Ti;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ei(this,_),this.m=c.m}else c&&(m=String(c).match(rs))?(this.h=!1,ss(this,m[1]||"",!0),this.o=An(m[2]||""),this.g=An(m[3]||"",!0),er(this,m[4]),this.l=An(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=An(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}pe.prototype.toString=function(){var c=[],m=this.j;m&&c.push(os(m,Eo,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(os(m,Eo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(os(_,_.charAt(0)=="/"?kh:To,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",os(_,Ws)),c.join("")};function cn(c){return new pe(c)}function ss(c,m,_){c.j=_?An(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function er(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Ei(c,m,_){m instanceof Ti?(c.i=m,ou(c.i,c.h)):(_||(m=os(m,Uh)),c.i=new Ti(m,c.h))}function Kt(c,m,_){c.i.set(m,_)}function as(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function os(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,au),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,To=/[#\?:]/g,kh=/[#\?]/g,Uh=/[#\?@]/g,Ws=/#/g;function Ti(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Lh(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ti.prototype,r.add=function(c,m){Sn(this),this.i=null,c=Zn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Ai(c,m){Sn(c),m=Zn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Si(c,m){return Sn(c),m=Zn(c,m),c.g.has(m)}r.forEach=function(c,m){Sn(this),this.g.forEach(function(_,A){_.forEach(function(L){c.call(m,L,A,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const L=c[A];for(let H=0;H<L.length;H++)_.push(m[A])}return _},r.V=function(c){Sn(this);let m=[];if(typeof c=="string")Si(this,c)&&(m=m.concat(this.g.get(Zn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return Sn(this),this.i=null,c=Zn(this,c),Si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Ao(c,m,_){Ai(c,m),0<_.length&&(c.i=null,c.g.set(Zn(c,m),et(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const H=encodeURIComponent(String(A)),tt=this.V(A);for(A=0;A<tt.length;A++){var L=H;tt[A]!==""&&(L+="="+encodeURIComponent(String(tt[A]))),c.push(L)}}return this.i=c.join("&")};function Zn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ou(c,m){m&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(Ai(this,A),Ao(this,L,_))},c)),c.j=m}function ls(c,m){const _=new Tn;if(p.Image){const A=new Image;A.onload=q(bn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=q(bn,_,"TestLoadImage: error",!1,m,A),A.onabort=q(bn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=q(bn,_,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Ln(c,m){const _=new Tn,A=new AbortController,L=setTimeout(()=>{A.abort(),bn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?bn(_,"TestPingServer: ok",!0,m):bn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(_,"TestPingServer: error",!1,m)})}function bn(c,m,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function us(){this.g=new ts}function $n(c,m,_){const A=_||"";try{vo(c,function(L,H){let tt=L;y(L)&&(tt=Mn(L)),m.push(A+H+"="+encodeURIComponent(tt))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function nr(c){this.l=c.Ub||null,this.j=c.eb||!1}Z(nr,uo),nr.prototype.g=function(){return new bi(this.l,this.j)},nr.prototype.i=function(c){return function(){return c}}({});function bi(c,m){oe.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(bi,oe),r=bi.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Wn(this):Jn(this),this.readyState==3&&So(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},r.Qa=function(c){this.g&&(this.response=c,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bo(c){let m="";return Vt(c,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ce(c,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,m,_))}function Bt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,oe);var Js=/^https?$/i,cs=["POST","PUT"];r=Bt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?co(this.o):co(Kn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){lu(this,H);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),L=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(cs,m,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,tt]of _)this.g.setRequestHeader(H,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){lu(this,H)}};function lu(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,ta(c),ti(c)}function ta(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},r.bb=function(){ea(this)};function ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Fe(c.Ea,0,c);else if(Ft(c,"readystatechange"),wn(c)==4){c.h=!1;try{const tt=c.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=tt===0){var L=String(c.D).match(rs)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),A=!Js.test(L?L.toLowerCase():"")}_=A}if(_)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var H=2<wn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",ta(c)}}finally{ti(c)}}}}function ti(c,m){if(c.g){hs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ft(c,"ready");try{_.onreadystatechange=A}catch{}}}function hs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Gs(m)}};function uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jh(c){const m={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ct(c[A]))continue;var _=V(c[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[L]||[];m[L]=H,H.push(_)}x(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function na(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,c),this.cb=fs("retryDelaySeedMs",1e4,c),this.Wa=fs("forwardChannelMaxRetries",2,c),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(c&&c.concurrentRequestLimit),this.Da=new us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=na.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,A){ne(0),this.W=c,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=gu(this,null,this.W),ra(this)};function wo(c){if(cu(c),c.G==3){var m=c.U++,_=cn(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),ds(c,_),m=new We(c,c.j,m),m.L=2,m.v=as(cn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=yu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ns(m)}pu(c)}function ia(c){c.g&&(ms(c),c.g.cancel(),c.g=null)}function cu(c){ia(c),c.u&&(p.clearTimeout(c.u),c.u=null),sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ra(c){if(!Ys(c.h)&&!c.s){c.s=!0;var m=c.Ga;nt||D(),ut||(nt(),ut=!0),jt.add(m,c),c.B=0}}function zh(c,m){return Xs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=me(b(c.Ga,c,m),Co(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new We(this,this.j,c);let H=this.o;if(this.S&&(H?(H=w(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),_=cn(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),ds(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(bo(H)))+"&"+m:this.m&&Ce(_,this.m,H)),Zs(this.h,L),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",m),Kt(_,"SID","null"),L.T=!0,Pn(L,_,null)):Pn(L,_,m),this.G=2}}else this.G==3&&(c?Ro(this,c):this.i.length==0||Ys(this.h)||Ro(this))};function Ro(c,m){var _;m?_=m.l:_=c.U++;const A=cn(c.I);Kt(A,"SID",c.K),Kt(A,"RID",_),Kt(A,"AID",c.T),ds(c,A),c.m&&c.o&&Ce(A,c.m,c.o),_=new We(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=hu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Zs(c.h,_),Pn(_,A,m)}function ds(c,m){c.H&&Vt(c.H,function(_,A){Kt(m,A,_)}),c.l&&vo({},function(_,A){Kt(m,A,_)})}function hu(c,m,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;t:{var L=c.i;let H=-1;for(;;){const tt=["count="+_];H==-1?0<_?(H=L[0].g,tt.push("ofs="+H)):H=0:tt.push("ofs="+H);let Mt=!0;for(let Te=0;Te<_;Te++){let Pt=L[Te].g;const De=L[Te].map;if(Pt-=H,0>Pt)H=Math.max(0,L[Te].g-100),Mt=!1;else try{$n(De,tt,"req"+Pt+"_")}catch{A&&A(De)}}if(Mt){A=tt.join("&");break t}}}return c=c.i.splice(0,_),m.D=c,A}function fu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;nt||D(),ut||(nt(),ut=!0),jt.add(m,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=me(b(c.Fa,c),Co(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=me(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),ia(this),du(this))};function ms(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function du(c){c.g=new We(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=cn(c.qa);Kt(m,"RID","rpc"),Kt(m,"SID",c.K),Kt(m,"AID",c.T),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(m,"TO",c.ja),Kt(m,"TYPE","xmlhttp"),ds(c,m),c.m&&c.o&&Ce(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=as(cn(m)),_.m=null,_.P=!0,_i(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ia(this),Io(this),ne(19))};function sa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function mu(c,m){var _=null;if(c.g==m){sa(c),ms(c),c.g=null;var A=2}else if(yo(c.h,m))_=m.D,Je(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=c.B;A=Zi(),Ft(A,new Ee(A,_)),ra(c)}else fu(c);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&zh(c,m)||A==2&&Io(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),L){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Co(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function wi(c,m){if(c.j.info("Error code "+m),m==2){var _=b(c.fb,c),A=c.Xa;const L=!A;A=new pe(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ss(A,"https"),as(A),L?ls(A.toString(),_):Ln(A.toString(),_)}else ne(2);c.G=0,c.l&&c.l.sa(m),pu(c),cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function pu(c){if(c.G=0,c.ka=[],c.l){const m=_o(c.h);(m.length!=0||c.i.length!=0)&&(Q(c.ka,m),Q(c.ka,c.i),c.h.i.length=0,et(c.i),c.i.length=0),c.l.ra()}}function gu(c,m,_){var A=_ instanceof pe?cn(_):new pe(_);if(A.g!="")m&&(A.g=m+"."+A.g),er(A,A.s);else{var L=p.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new pe(null);A&&ss(H,A),m&&(H.g=m),L&&er(H,L),_&&(H.l=_),A=H}return _=c.D,m=c.ya,_&&m&&Kt(A,_,m),Kt(A,"VER",c.la),ds(c,A),A}function yu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Bt(new nr({eb:_})):new Bt(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function aa(){}aa.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){oe.call(this),this.g=new na(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!ct(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ct(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ei(this)}Z(tn,oe),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){wo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Mn(c),c=_);m.i.push(new su(m.Ya++,c)),m.G==3&&ra(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,tn.aa.N.call(this)};function vu(c){gi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const _ in m){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}Z(vu,gi);function Eu(){fo.call(this),this.status=1}Z(Eu,fo);function ei(c){this.g=c}Z(ei,_u),ei.prototype.ua=function(){Ft(this.g,"a")},ei.prototype.ta=function(c){Ft(this.g,new vu(c))},ei.prototype.sa=function(c){Ft(this.g,new Eu)},ei.prototype.ra=function(){Ft(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,b1=function(){return new aa},S1=function(){return Zi()},A1=Qn,sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,Oc=Ji,yi.COMPLETE="complete",T1=yi,ho.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,vl=ho,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,E1=Bt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",Av="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new wm("@firebase/firestore");function Pa(){return ks.logLevel}function rt(r,...t){if(ks.logLevel<=Nt.DEBUG){const n=t.map(km);ks.debug(`Firestore (${no}): ${r}`,...n)}}function Qi(r,...t){if(ks.logLevel<=Nt.ERROR){const n=t.map(km);ks.error(`Firestore (${no}): ${r}`,...n)}}function Ga(r,...t){if(ks.logLevel<=Nt.WARN){const n=t.map(km);ks.warn(`Firestore (${no}): ${r}`,...n)}}function km(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,w1(r,s,n)}function w1(r,t,n){let s=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Qi(s),new Error(s)}function Ht(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||w1(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class Jw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new R1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class eR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new eR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function wt(r,t){return r<t?-1:r>t?1:0}function am(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return wt(s,o);{const u=I1(),f=sR(u.encode(bv(r,n)),u.encode(bv(t,n)));return f!==0?f:wt(s,o)}}n+=s>65535?2:1}return wt(r.length,t.length)}function bv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function sR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return wt(r[n],t[n]);return wt(r.length,t.length)}function Qa(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=-62135596800,Rv=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Rv);return new we(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<wv)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rv}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-wv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new we(0,0))}static max(){return new Tt(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="__name__";class li{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=li.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return wt(t.length,n.length)}static compareSegments(t,n){const s=li.isNumericId(t),o=li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(t).compare(li.extractNumericId(n)):am(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vr.fromString(t.substring(4,t.length-2))}}class ee extends li{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new st($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const aR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends li{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return aR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new qe([Iv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new st($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new st($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new st($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new st($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ee.fromString(t))}static fromName(t){return new ht(ee.fromString(t).popFirst(5))}static empty(){return new ht(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function oR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new we(n+1,0):new we(n,s));return new Lr(o,ht.empty(),t)}function lR(r){return new Lr(r.readTime,r.key,xl)}class Lr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(Tt.min(),ht.empty(),xl)}static max(){return new Lr(Tt.max(),ht.empty(),xl)}}function uR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:wt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==cR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):X.reject(n)}static resolve(t){return new X((n,s)=>{n(t)})}static reject(t){return new X((n,s)=>{s(t)})}static waitFor(t){return new X((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(t){let n=X.resolve(!1);for(const s of t)n=n.next(o=>o?X.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new X((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(E=>{f[y]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new X((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function fR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}ch.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function hh(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function dR(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="";function mR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Cv(t)),t=pR(r.get(n),t);return Cv(t)}function pR(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case D1:n+="";break;default:n+=u}}return n}function Cv(r){return r+D1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Gr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function N1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Be(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(t){return new Nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class Nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new _n([])}unionWith(t){let n=new Re(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new _n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new O1("Invalid base64 string: "+u):u}}(t);return new He(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const gR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=gR.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ur(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="server_timestamp",V1="__type__",M1="__previous_value__",P1="__local_write_time__";function jm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[V1])===null||n===void 0?void 0:n.stringValue)===x1}function fh(r){const t=r.mapValue.fields[M1];return jm(t)?fh(t):t}function Vl(r){const t=kr(r.mapValue.fields[P1].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n,s,o,u,f,p,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Xc="(default)";class Ml{constructor(t,n){this.projectId=t,this.database=n||Xc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__type__",_R="__max__",bc={mapValue:{}},k1="__vector__",Zc="value";function jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:ER(r)?9007199254740991:vR(r)?10:11:yt(28295,{value:r})}function di(r,t){if(r===t)return!0;const n=jr(r);if(n!==jr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=kr(o.timestampValue),p=kr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Ur(o.bytesValue).isEqual(Ur(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return de(o.geoPointValue.latitude)===de(u.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return de(o.integerValue)===de(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=de(o.doubleValue),p=de(u.doubleValue);return f===p?Yc(f)===Yc(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Qa(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Dv(f)!==Dv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!di(f[g],p[g])))return!1;return!0}(r,t);default:return yt(52216,{left:r})}}function Pl(r,t){return(r.values||[]).find(n=>di(n,t))!==void 0}function Ka(r,t){if(r===t)return 0;const n=jr(r),s=jr(t);if(n!==s)return wt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const p=de(u.integerValue||u.doubleValue),g=de(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,t);case 3:return Ov(r.timestampValue,t.timestampValue);case 4:return Ov(Vl(r),Vl(t));case 5:return am(r.stringValue,t.stringValue);case 6:return function(u,f){const p=Ur(u),g=Ur(f);return p.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=wt(p[y],g[y]);if(E!==0)return E}return wt(p.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const p=wt(de(u.latitude),de(f.latitude));return p!==0?p:wt(de(u.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return xv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var p,g,y,E;const S=u.fields||{},b=f.fields||{},q=(p=S[Zc])===null||p===void 0?void 0:p.arrayValue,Z=(g=b[Zc])===null||g===void 0?void 0:g.arrayValue,et=wt(((y=q==null?void 0:q.values)===null||y===void 0?void 0:y.length)||0,((E=Z==null?void 0:Z.values)===null||E===void 0?void 0:E.length)||0);return et!==0?et:xv(q,Z)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===bc.mapValue&&f===bc.mapValue)return 0;if(u===bc.mapValue)return 1;if(f===bc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const b=am(g[S],E[S]);if(b!==0)return b;const q=Ka(p[g[S]],y[E[S]]);if(q!==0)return q}return wt(g.length,E.length)}(r.mapValue,t.mapValue);default:throw yt(23264,{Pe:n})}}function Ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return wt(r,t);const n=kr(r),s=kr(t),o=wt(n.seconds,s.seconds);return o!==0?o:wt(n.nanos,s.nanos)}function xv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ka(n[o],s[o]);if(u)return u}return wt(n.length,s.length)}function Ya(r){return om(r)}function om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=kr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ur(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ht.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=om(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${om(n.fields[f])}`;return o+"}"}(r.mapValue):yt(61005,{value:r})}function xc(r){switch(jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+xc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ur(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+xc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Gr(s.fields,(u,f)=>{o+=u.length+xc(f)}),o}(r.mapValue);default:throw yt(13486,{value:r})}}function Vv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function lm(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function Mv(r){return!!r&&"nullValue"in r}function Pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vc(r){return!!r&&"mapValue"in r}function vR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[L1])===null||n===void 0?void 0:n.stringValue)===k1}function wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Gr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=wl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function ER(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_R}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Vc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=wl(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Gr(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new on(wl(this.value))}}function U1(r){const t=[];return Gr(r.fields,(n,s)=>{const o=new qe([n]);if(Vc(s)){const u=U1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new _n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,Tt.min(),Tt.min(),Tt.min(),on.empty(),0)}static newFoundDocument(t,n,s,o){return new Xe(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,Tt.min(),Tt.min(),on.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,Tt.min(),Tt.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n){this.position=t,this.inclusive=n}}function Lv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=ht.comparator(ht.fromName(f.referenceValue),n.key):s=Ka(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function kv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n="asc"){this.field=t,this.dir=n}}function TR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{}class ve extends j1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new SR(t,n,s):n==="array-contains"?new RR(t,s):n==="in"?new IR(t,s):n==="not-in"?new CR(t,s):n==="array-contains-any"?new DR(t,s):new ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new bR(t,s):new wR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ka(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends j1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Fn(t,n)}matches(t){return z1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function z1(r){return r.op==="and"}function B1(r){return AR(r)&&z1(r)}function AR(r){for(const t of r.filters)if(t instanceof Fn)return!1;return!0}function um(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(B1(r))return r.filters.map(t=>um(t)).join(",");{const t=r.filters.map(n=>um(n)).join(",");return`${r.op}(${t})`}}function q1(r,t){return r instanceof ve?function(s,o){return o instanceof ve&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,t):r instanceof Fn?function(s,o){return o instanceof Fn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&q1(f,o.filters[p]),!0):!1}(r,t):void yt(19439)}function H1(r){return r instanceof ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(r):r instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(H1).join(" ,")+"}"}(r):"Filter"}class SR extends ve{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class bR extends ve{constructor(t,n){super(t,"in",n),this.keys=F1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class wR extends ve{constructor(t,n){super(t,"not-in",n),this.keys=F1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function F1(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ht.fromName(s.referenceValue))}class RR extends ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zm(n)&&Pl(n.arrayValue,this.value)}}class IR extends ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class CR extends ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class DR extends ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Pl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Ie=null}}function Uv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new NR(r,t,n,s,o,u,f)}function Bm(r){const t=At(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>um(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),hh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ya(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ya(s)).join(",")),t.Ie=n}return t.Ie}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!TR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!q1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!kv(r.startAt,t.startAt)&&kv(r.endAt,t.endAt)}function cm(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function OR(r,t,n,s,o,u,f,p){return new Gl(r,t,n,s,o,u,f,p)}function dh(r){return new Gl(r)}function jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function G1(r){return r.collectionGroup!==null}function Rl(r){const t=At(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Re(qe.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Wc(u,s))}),n.has(qe.keyField().canonicalString())||t.Ee.push(new Wc(qe.keyField(),s))}return t.Ee}function hi(r){const t=At(r);return t.de||(t.de=xR(t,Rl(r))),t.de}function xR(r,t){if(r.limitType==="F")return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Wc(o.field,u)});const n=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function hm(r,t){const n=r.filters.concat([t]);return new Gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function fm(r,t,n){return new Gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function mh(r,t){return qm(hi(r),hi(t))&&r.limitType===t.limitType}function Q1(r){return`${Bm(hi(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>H1(o)).join(", ")}]`),hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ya(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ya(o)).join(",")),`Target(${s})`}(hi(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ht.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Rl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,g){const y=Lv(f,p,g);return f.inclusive?y<=0:y<0}(s.startAt,Rl(s),o)||s.endAt&&!function(f,p,g){const y=Lv(f,p,g);return f.inclusive?y>=0:y>0}(s.endAt,Rl(s),o))}(r,t)}function VR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function K1(r){return(t,n)=>{let s=!1;for(const o of Rl(r)){const u=MR(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MR(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Ka(g,y):yt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Gr(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return N1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new se(ht.comparator);function Ki(){return PR}const Y1=new se(ht.comparator);function El(...r){let t=Y1;for(const n of r)t=t.insert(n.key,n);return t}function X1(r){let t=Y1;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Os(){return Il()}function Z1(){return Il()}function Il(){return new zs(r=>r.toString(),(r,t)=>r.isEqual(t))}const LR=new se(ht.comparator),kR=new Re(ht.comparator);function Ot(...r){let t=kR;for(const n of r)t=t.add(n);return t}const UR=new Re(wt);function jR(){return UR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function $1(r){return{integerValue:""+r}}function zR(r,t){return dR(t)?$1(t):Hm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function BR(r,t,n){return r instanceof Ll?function(o,u){const f={fields:{[V1]:{stringValue:x1},[P1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jm(u)&&(u=fh(u)),u&&(f.fields[M1]=u),{mapValue:f}}(n,t):r instanceof kl?J1(r,t):r instanceof Ul?tE(r,t):function(o,u){const f=W1(o,u),p=zv(f)+zv(o.Re);return lm(f)&&lm(o.Re)?$1(p):Hm(o.serializer,p)}(r,t)}function qR(r,t,n){return r instanceof kl?J1(r,t):r instanceof Ul?tE(r,t):n}function W1(r,t){return r instanceof Jc?function(s){return lm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Ll extends gh{}class kl extends gh{constructor(t){super(),this.elements=t}}function J1(r,t){const n=eE(t);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ul extends gh{constructor(t){super(),this.elements=t}}function tE(r,t){let n=eE(t);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class Jc extends gh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function zv(r){return de(r.integerValue||r.doubleValue)}function eE(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n){this.field=t,this.transform=n}}function FR(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof kl&&o instanceof kl||s instanceof Ul&&o instanceof Ul?Qa(s.elements,o.elements,di):s instanceof Jc&&o instanceof Jc?di(s.Re,o.Re):s instanceof Ll&&o instanceof Ll}(r.transform,t.transform)}class GR{constructor(t,n){this.version=t,this.transformResults=n}}class qn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new qn}static exists(t){return new qn(void 0,t)}static updateTime(t){return new qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function nE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new rE(r.key,qn.none()):new Ql(r.key,r.data,qn.none());{const n=r.data,s=on.empty();let o=new Re(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Qr(r.key,s,new _n(o.toArray()),qn.none())}}function QR(r,t,n){r instanceof Ql?function(o,u,f){const p=o.value.clone(),g=qv(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof Qr?function(o,u,f){if(!Mc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=qv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(iE(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Cl(r,t,n,s){return r instanceof Ql?function(u,f,p,g){if(!Mc(u.precondition,f))return p;const y=u.value.clone(),E=Hv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof Qr?function(u,f,p,g){if(!Mc(u.precondition,f))return p;const y=Hv(u.fieldTransforms,g,f),E=f.data;return E.setAll(iE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,t,n,s):function(u,f,p){return Mc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function KR(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=W1(s.transform,o||null);u!=null&&(n===null&&(n=on.empty()),n.set(s.field,u))}return n||null}function Bv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Qa(s,o,(u,f)=>FR(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ql extends yh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qr extends yh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function qv(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,qR(f,p,n[o]))}return s}function Hv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,BR(u,f,t))}return s}class rE extends yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YR extends yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&QR(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Z1();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=nE(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,(n,s)=>Bv(n,s))&&Qa(this.baseMutations,t.baseMutations,(n,s)=>Bv(n,s))}}class Fm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return LR}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Fm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,kt;function WR(r){switch(r){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function sE(r){if(r===void 0)return Qi("GRPC error has no .code"),$.UNKNOWN;switch(r){case _e.OK:return $.OK;case _e.CANCELLED:return $.CANCELLED;case _e.UNKNOWN:return $.UNKNOWN;case _e.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case _e.INTERNAL:return $.INTERNAL;case _e.UNAVAILABLE:return $.UNAVAILABLE;case _e.UNAUTHENTICATED:return $.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case _e.NOT_FOUND:return $.NOT_FOUND;case _e.ALREADY_EXISTS:return $.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return $.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case _e.ABORTED:return $.ABORTED;case _e.OUT_OF_RANGE:return $.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return $.UNIMPLEMENTED;case _e.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:r})}}(kt=_e||(_e={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Vr([4294967295,4294967295],0);function Fv(r){const t=I1().encode(r),n=new v1;return n.update(t),new Uint8Array(n.digest())}function Gv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Vr([n,s],0),new Vr([o,u],0)]}class Gm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(s<0)throw new Tl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Vr.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(Vr.fromNumber(s)));return o.compare(JR)===1&&(o=new Vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Fv(t),[s,o]=Gv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Gm(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.pe===0)return;const n=Fv(t),[s,o]=Gv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new _h(Tt.min(),o,new se(wt),Ki(),Ot())}}class Kl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Kl(s,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class aE{constructor(t,n){this.targetId=t,this.Ce=n}}class oE{constructor(t,n,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Qv{constructor(){this.Fe=0,this.Me=Kv(),this.xe=He.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ot(),n=Ot(),s=Ot();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}}),new Kl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=Kv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tI{constructor(t){this.ze=t,this.je=new Map,this.He=Ki(),this.Je=wc(),this.Ye=wc(),this.Ze=new se(wt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:yt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(cm(u))if(s===0){const f=new ht(u.path);this.tt(n,f,Xe.newNoDocument(f,Tt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const p=this.ct(t),g=p?this.lt(p,t,f):1;if(g!==0){this.st(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Ur(s).toUint8Array()}catch(g){if(g instanceof O1)return Ga("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Gm(f,o,u)}catch(g){return Ga(g instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.pe===0?null:p}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const p=this._t(f);if(p){if(u.current&&cm(p.target)){const g=new ht(p.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,Xe.newNoDocument(g,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Ot();this.Ye.forEach((u,f)=>{let p=!0;f.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new _h(t,n,this.Ze,this.He,s);return this.He=Ki(),this.Je=wc(),this.Ye=wc(),this.Ze=new se(wt),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Qv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Re(wt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Re(wt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Qv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function wc(){return new se(ht.comparator)}function Kv(){return new se(ht.comparator)}const eI={asc:"ASCENDING",desc:"DESCENDING"},nI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class rI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function dm(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function sI(r,t){return th(r,t.toTimestamp())}function fi(r){return Ht(!!r,49232),Tt.fromTimestamp(function(n){const s=kr(n);return new we(s.seconds,s.nanos)}(r))}function Qm(r,t){return mm(r,t).canonicalString()}function mm(r,t){const n=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function uE(r){const t=ee.fromString(r);return Ht(mE(t),10190,{key:t.toString()}),t}function pm(r,t){return Qm(r.databaseId,t.path)}function Gd(r,t){const n=uE(t);if(n.get(1)!==r.databaseId.projectId)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(hE(n))}function cE(r,t){return Qm(r.databaseId,t)}function aI(r){const t=uE(r);return t.length===4?ee.emptyPath():hE(t)}function gm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Yv(r,t,n){return{name:pm(r,t),fields:n.value.mapValue.fields}}function oI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),He.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),He.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(y){const E=y.code===void 0?$.UNKNOWN:sE(y.code);return new st(E,y.message||"")}(f);n=new oE(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gd(r,s.document.name),u=fi(s.document.updateTime),f=s.document.createTime?fi(s.document.createTime):Tt.min(),p=new on({mapValue:{fields:s.document.fields}}),g=Xe.newFoundDocument(o,u,f,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Pc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Gd(r,s.document),u=s.readTime?fi(s.readTime):Tt.min(),f=Xe.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Pc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Gd(r,s.document),u=s.removedTargetIds||[];n=new Pc([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new $R(o,u),p=s.targetId;n=new aE(p,f)}}return n}function lI(r,t){let n;if(t instanceof Ql)n={update:Yv(r,t.key,t.value)};else if(t instanceof rE)n={delete:pm(r,t.key)};else if(t instanceof Qr)n={update:Yv(r,t.key,t.data),updateMask:yI(t.fieldMask)};else{if(!(t instanceof YR))return yt(16599,{ft:t.type});n={verify:pm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Ll)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jc)return{fieldPath:f.field.canonicalString(),increment:p.Re};throw yt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:sI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)}(r,t.precondition)),n}function uI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?fi(o.updateTime):fi(u);return f.isEqual(Tt.min())&&(f=fi(u)),new GR(f,o.transformResults||[])}(n,t))):[]}function cI(r,t){return{documents:[cE(r,t.path)]}}function hI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cE(r,o);const u=function(y){if(y.length!==0)return dE(Fn.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(b){return{field:ka(b.field),direction:mI(b.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=dm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:n,parent:o}}function fI(r){let t=aI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(S){const b=fE(S);return b instanceof Fn&&B1(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(b=>function(Z){return new Wc(Ua(Z.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(b))}(n.orderBy));let p=null;n.limit&&(p=function(S){let b;return b=typeof S=="object"?S.value:S,hh(b)?null:b}(n.limit));let g=null;n.startAt&&(g=function(S){const b=!!S.before,q=S.values||[];return new $c(q,b)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const b=!S.before,q=S.values||[];return new $c(q,b)}(n.endAt)),OR(t,o,f,u,p,"F",g,y)}function dI(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function fE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(n.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ua(n.unaryFilter.field);return ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(r):r.fieldFilter!==void 0?function(n){return ve.create(Ua(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(s=>fE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(n.compositeFilter.op))}(r):yt(30097,{filter:r})}function mI(r){return eI[r]}function pI(r){return nI[r]}function gI(r){return iI[r]}function ka(r){return{fieldPath:r.canonicalString()}}function Ua(r){return qe.fromServerFormat(r.fieldPath)}function dE(r){return r instanceof ve?function(n){if(n.op==="=="){if(Pv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(Mv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(Mv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:pI(n.op),value:n.value}}}(r):r instanceof Fn?function(n){const s=n.getFilters().map(o=>dE(o));return s.length===1?s[0]:{compositeFilter:{op:gI(n.op),filters:s}}}(r):yt(54877,{filter:r})}function yI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function mE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),p=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.wt=t}}function vI(r){const t=fI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.Cn=new TI}addToCollectionParentIndex(t,n){return this.Cn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(Lr.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(Lr.min())}updateCollectionGroup(t,n,s){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class TI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Re(ee.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(pE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Xa(0)}static lr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",AI=1048576;function $v([r,t],[n,s]){const o=wt(r,n);return o===0?wt(t,s):o}class SI{constructor(t){this.Er=t,this.buffer=new Re($v),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$v(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){rt(Zv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?rt(Zv,"Ignoring IndexedDB error during garbage collection: ",n):await io(n)}await this.mr(3e5)})}}class wI{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return X.resolve(ch.le);const s=new SI(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Xv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,p=Date.now(),this.removeTargets(t,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(y=Date.now(),Pa()<=Nt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function RI(r,t){return new wI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.changes=new zs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Cl(s.mutation,o,_n.empty(),we.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ot()){const o=Os();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=El();return u.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Os();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ot()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=Ki();const f=Il(),p=function(){return Il()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Qr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Cl(E.mutation,y,E.mutation.getFieldMask(),we.now())):f.set(y.key,_n.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var S;return p.set(y,new CI(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),p))}recalculateAndSaveOverlays(t,n){const s=Il();let o=new se((f,p)=>f-p),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||_n.empty();E=p.applyToLocalView(y,E),s.set(g,E);const S=(o.get(p.batchId)||Ot()).add(g);o=o.insert(p.batchId,S)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,S=Z1();E.forEach(b=>{if(!u.has(b)){const q=nE(n.get(b),s.get(b));q!==null&&S.set(b,q),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return ht.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):G1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):X.resolve(Os());let p=xl,g=u;return f.next(y=>X.forEach(y,(E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next(b=>{g=g.insert(E,b)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Ot())).next(E=>({batchId:p,changes:X1(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(s=>{let o=El();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=El();return this.indexManager.getCollectionParents(t,u).next(p=>X.forEach(p,g=>{const y=function(S,b){return new Gl(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((S,b)=>{f=f.insert(S,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Xe.newInvalidDocument(E)))});let p=El();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Cl(E.mutation,y,_n.empty(),we.now()),ph(n,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return X.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:fi(o.createTime)}}(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:vI(o.bundledQuery),readTime:fi(o.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.overlays=new se(ht.comparator),this.Qr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Os();return X.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),X.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),X.resolve()}getOverlaysForCollection(t,n,s){const o=Os(),u=n.length+1,f=new ht(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return X.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new se((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Os(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Os(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>p.set(y,E)),!(p.size()>=o)););return X.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new ZR(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ot(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.$r=new Re(Ve.Ur),this.Kr=new Re(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ve(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new ht(new ee([])),s=new Ve(n,t),o=new Ve(n,t+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new ht(new ee([])),s=new Ve(n,t),o=new Ve(n,t+1);let u=Ot();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ve(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return ht.comparator(t.key,n.key)||wt(t.Zr,n.Zr)}static Wr(t,n){return wt(t.Zr,n.Zr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Re(Ve.Ur)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new XR(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Xr=this.Xr.add(new Ve(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(f)}lookupMutationBatch(t,n){return X.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Um:this.nr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),o=new Ve(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const p=this.ei(f.Zr);u.push(p)}),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(wt);return n.forEach(o=>{const u=new Ve(o,0),f=new Ve(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],p=>{s=s.add(p.Zr)})}),X.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;ht.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new ht(u),0);let p=new Re(wt);return this.Xr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Zr)),!0)},f),X.resolve(this.ni(p))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ht(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return X.forEach(n.mutations,o=>{const u=new Ve(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ve(n,0),o=this.Xr.firstAfterOrEqual(s);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.ii=t,this.docs=function(){return new se(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Ki();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Ki();const f=n.path,p=new ht(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||uR(lR(E),s)<=0||(o.has(E.key)||ph(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}si(t,n){return X.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new PI(this)}getSize(t){return X.resolve(this.size)}}class PI extends II{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),X.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.persistence=t,this.oi=new zs(n=>Bm(n),qm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this._i=0,this.ai=new Km,this.targetCount=0,this.ui=Xa.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),X.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Xa(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.Tr(n),X.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),X.waitFor(u).next(()=>o)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return X.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),X.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),X.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return X.resolve(s)}containsKey(t,n){return X.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,n){this.ci={},this.overlays={},this.li=new ch(0),this.hi=!1,this.hi=!0,this.Pi=new xI,this.referenceDelegate=t(this),this.Ti=new LI(this),this.indexManager=new EI,this.remoteDocumentCache=function(o){return new MI(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new _I(n),this.Ei=new NI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new OI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new VI(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const o=new kI(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return X.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class kI extends hR{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Vi=new Km,this.mi=null}static fi(t){return new Ym(t)}get gi(){if(this.mi)return this.mi;throw yt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),X.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),X.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,s=>{const o=ht.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,Tt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return X.or([()=>X.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class eh{constructor(t,n){this.persistence=t,this.yi=new zs(s=>mR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=RI(this,n)}static fi(t,n){return new eh(t,n)}di(){}Ai(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return X.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?X.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(p=>{p||(s++,u.removeEntry(f,Tt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),X.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xc(t.data.value)),n}Dr(t,n,s){return X.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Ot(),o=Ot();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _2()?8:fR($e())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new UI;return this.Ss(t,n,f).next(p=>{if(u.result=p,this.fs)return this.Ds(t,n,f,p.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(Pa()<=Nt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",La(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(Pa()<=Nt.DEBUG&&rt("QueryEngine","Query:",La(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Pa()<=Nt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",La(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hi(n))):X.resolve())}ws(t,n){if(jv(n))return X.resolve(null);let s=hi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=fm(n,null,"F"),s=hi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Ot(...u);return this.ys.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.vs(n,p);return this.Cs(n,y,f,g.readTime)?this.ws(t,fm(n,null,"F")):this.Fs(t,y,n,g)}))})))}bs(t,n,s,o){return jv(n)||o.isEqual(Tt.min())?X.resolve(null):this.ys.getDocuments(t,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?X.resolve(null):(Pa()<=Nt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),La(n)),this.Fs(t,f,n,oR(o,xl)).next(p=>p))})}vs(t,n){let s=new Re(K1(t));return n.forEach((o,u)=>{ph(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Pa()<=Nt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",La(n)),this.ys.getDocumentsMatchingQuery(t,n,Lr.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="LocalStore",zI=3e8;class BI{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new se(wt),this.Os=new zs(u=>Bm(u),qm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function qI(r,t,n,s){return new BI(r,t,n,s)}async function yE(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let g=Ot();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:p}))})})}function HI(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(p,g,y,E){const S=y.batch,b=S.keys();let q=X.resolve();return b.forEach(Z=>{q=q.next(()=>E.getEntry(g,Z)).next(et=>{const Q=y.docVersions.get(Z);Ht(Q!==null,48541),et.version.compareTo(Q)<0&&(S.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),E.addEntry(et)))})}),q.next(()=>p.mutationQueue.removeMutationBatch(g,S))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function _E(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function FI(r,t){const n=At(r),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];t.targetChanges.forEach((E,S)=>{const b=o.get(S);if(!b)return;p.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,S)));let q=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?q=q.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,s)),o=o.insert(S,q),function(et,Q,mt){return et.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=zI?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(b,q,E)&&p.push(n.Ti.updateTargetData(u,q))});let g=Ki(),y=Ot();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(GI(u,f,t.documentUpdates).next(E=>{g=E.qs,y=E.Qs})),!s.isEqual(Tt.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return X.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.xs=o,u))}function GI(r,t,n){let s=Ot(),o=Ot();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Ki();return n.forEach((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):rt(Zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{qs:f,Qs:o}})}function QI(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Um),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function KI(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,X.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Dr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function ym(r,t,n){const s=At(r),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ro(f))throw f;rt(Zm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function Wv(r,t,n){const s=At(r);let o=Tt.min(),u=Ot();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const S=At(g),b=S.Os.get(E);return b!==void 0?X.resolve(S.xs.get(b)):S.Ti.getTargetData(y,E)}(s,f,hi(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,p.targetId).next(g=>{u=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:Ot())).next(p=>(YI(s,VR(t),p),{documents:p,$s:u})))}function YI(r,t,n){let s=r.Ns.get(t)||Tt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(t,s)}class Jv{constructor(){this.activeTargetIds=jR()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XI{constructor(){this.xo=new Jv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Jv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="ConnectivityMonitor";class e0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){rt(t0,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){rt(t0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function _m(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="RestConnection",$I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WI{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Xc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const f=_m(),p=this.jo(t,n.toUriEncodedString());rt(Qd,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,u);const{host:y}=new URL(p),E=Ja(y);return this.Jo(t,p,g,s,E).then(S=>(rt(Qd,`Received RPC '${t}' ${f}: `,S),S),S=>{throw Ga(Qd,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",s),S})}Yo(t,n,s,o,u,f){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=$I[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class tC extends WI{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=_m();return new Promise((p,g)=>{const y=new E1;y.setWithCredentials(!0),y.listenOnce(T1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Oc.NO_ERROR:const S=y.getResponseJson();rt(Ke,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case Oc.TIMEOUT:rt(Ke,`RPC '${t}' ${f} timed out`),g(new st($.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const b=y.getStatus();if(rt(Ke,`RPC '${t}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q==null?void 0:q.error;if(Z&&Z.status&&Z.message){const et=function(mt){const ct=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ct)>=0?ct:$.UNKNOWN}(Z.status);g(new st(et,Z.message))}else g(new st($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new st($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{h_:t,streamId:f,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{rt(Ke,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);rt(Ke,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}I_(t,n,s){const o=_m(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=b1(),p=S1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");rt(Ke,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.E_(S);let b=!1,q=!1;const Z=new JI({Zo:Q=>{q?rt(Ke,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(b||(rt(Ke,`Opening RPC '${t}' stream ${o} transport.`),S.open(),b=!0),rt(Ke,`RPC '${t}' stream ${o} sending:`,Q),S.send(Q))},Xo:()=>S.close()}),et=(Q,mt,ct)=>{Q.listen(mt,lt=>{try{ct(lt)}catch(xt){setTimeout(()=>{throw xt},0)}})};return et(S,vl.EventType.OPEN,()=>{q||(rt(Ke,`RPC '${t}' stream ${o} transport opened.`),Z.__())}),et(S,vl.EventType.CLOSE,()=>{q||(q=!0,rt(Ke,`RPC '${t}' stream ${o} transport closed`),Z.u_(),this.d_(S))}),et(S,vl.EventType.ERROR,Q=>{q||(q=!0,Ga(Ke,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),Z.u_(new st($.UNAVAILABLE,"The operation could not be completed")))}),et(S,vl.EventType.MESSAGE,Q=>{var mt;if(!q){const ct=Q.data[0];Ht(!!ct,16349);const lt=ct,xt=(lt==null?void 0:lt.error)||((mt=lt[0])===null||mt===void 0?void 0:mt.error);if(xt){rt(Ke,`RPC '${t}' stream ${o} received error:`,xt);const Et=xt.status;let Vt=function(I){const O=_e[I];if(O!==void 0)return sE(O)}(Et),x=xt.message;Vt===void 0&&(Vt=$.INTERNAL,x="Unknown error status: "+Et+" with message "+xt.message),q=!0,Z.u_(new st(Vt,x)),S.close()}else rt(Ke,`RPC '${t}' stream ${o} received:`,ct),Z.c_(ct)}}),et(p,A1.STAT_EVENT,Q=>{Q.stat===sm.PROXY?rt(Ke,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===sm.NOPROXY&&rt(Ke,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r){return new rI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="PersistentStream";class EE{constructor(t,n,s,o,u,f,p,g){this.xi=t,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new vE(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{t(()=>{const o=new st($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return rt(n0,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(rt(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eC extends EE{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=oI(this.serializer,t),s=function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?fi(f.readTime):Tt.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=gm(this.serializer),n.addTarget=function(u,f){let p;const g=f.target;if(p=cm(g)?{documents:cI(u,g)}:{query:hI(u,g).gt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=lE(u,f.resumeToken);const y=dm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){p.readTime=th(u,f.snapshotVersion.toTimestamp());const y=dm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,t);const s=dI(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=gm(this.serializer),n.removeTarget=t,this.Q_(n)}}class nC extends EE{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=uI(t.writeResults,t.commitTime),s=fi(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=gm(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>lI(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{}class rC extends iC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,mm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st($.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Yo(t,mm(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new st($.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class sC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Qi(n),this.ua=!1):rt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class aC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Bs(this)&&(rt(Us,"Restarting streams for network reachability change."),await async function(g){const y=At(g);y.da.add(4),await Yl(y),y.Va.set("Unknown"),y.da.delete(4),await Eh(y)}(this))})}),this.Va=new sC(s,o)}}async function Eh(r){if(Bs(r))for(const t of r.Aa)await t(!0)}async function Yl(r){for(const t of r.Aa)await t(!1)}function TE(r,t){const n=At(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),tp(n)?Jm(n):so(n).N_()&&Wm(n,t))}function $m(r,t){const n=At(r),s=so(n);n.Ea.delete(t),s.N_()&&AE(n,t),n.Ea.size===0&&(s.N_()?s.k_():Bs(n)&&n.Va.set("Unknown"))}function Wm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}so(r).Z_(t)}function AE(r,t){r.ma.Ke(t),so(r).X_(t)}function Jm(r){r.ma=new tI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),so(r).start(),r.Va.ca()}function tp(r){return Bs(r)&&!so(r).O_()&&r.Ea.size>0}function Bs(r){return At(r).da.size===0}function SE(r){r.ma=void 0}async function oC(r){r.Va.set("Online")}async function lC(r){r.Ea.forEach((t,n)=>{Wm(r,t)})}async function uC(r,t){SE(r),tp(r)?(r.Va.Pa(t),Jm(r)):r.Va.set("Unknown")}async function cC(r,t,n){if(r.Va.set("Online"),t instanceof oE&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ea.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ea.delete(p),o.ma.removeTarget(p))}(r,t)}catch(s){rt(Us,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await nh(r,s)}else if(t instanceof Pc?r.ma.Xe(t):t instanceof aE?r.ma.ot(t):r.ma.nt(t),!n.isEqual(Tt.min()))try{const s=await _E(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.ma.It(f);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ea.get(y);E&&u.Ea.set(y,E.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,y)=>{const E=u.Ea.get(g);if(!E)return;u.Ea.set(g,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),AE(u,g);const S=new Dr(E.target,g,y,E.sequenceNumber);Wm(u,S)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){rt(Us,"Failed to raise snapshot:",s),await nh(r,s)}}async function nh(r,t,n){if(!ro(t))throw t;r.da.add(1),await Yl(r),r.Va.set("Offline"),n||(n=()=>_E(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{rt(Us,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Eh(r)})}function bE(r,t){return t().catch(n=>nh(r,n,t))}async function Th(r){const t=At(r),n=zr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Um;for(;hC(t);)try{const o=await QI(t.localStore,s);if(o===null){t.Ia.length===0&&n.k_();break}s=o.batchId,fC(t,o)}catch(o){await nh(t,o)}wE(t)&&RE(t)}function hC(r){return Bs(r)&&r.Ia.length<10}function fC(r,t){r.Ia.push(t);const n=zr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function wE(r){return Bs(r)&&!zr(r).O_()&&r.Ia.length>0}function RE(r){zr(r).start()}async function dC(r){zr(r).ia()}async function mC(r){const t=zr(r);for(const n of r.Ia)t.ta(n.mutations)}async function pC(r,t,n){const s=r.Ia.shift(),o=Fm.from(s,t,n);await bE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Th(r)}async function gC(r,t){t&&zr(r).ea&&await async function(s,o){if(function(f){return WR(f)&&f!==$.ABORTED}(o.code)){const u=s.Ia.shift();zr(s).L_(),await bE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Th(s)}}(r,t),wE(r)&&RE(r)}async function i0(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),rt(Us,"RemoteStore received new credentials");const s=Bs(n);n.da.add(3),await Yl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Eh(n)}async function yC(r,t){const n=At(r);t?(n.da.delete(2),await Eh(n)):t||(n.da.add(2),await Yl(n),n.Va.set("Unknown"))}function so(r){return r.fa||(r.fa=function(n,s,o){const u=At(n);return u.oa(),new eC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:oC.bind(null,r),n_:lC.bind(null,r),i_:uC.bind(null,r),Y_:cC.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),tp(r)?Jm(r):r.Va.set("Unknown")):(await r.fa.stop(),SE(r))})),r.fa}function zr(r){return r.ga||(r.ga=function(n,s,o){const u=At(n);return u.oa(),new nC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:dC.bind(null,r),i_:gC.bind(null,r),na:mC.bind(null,r),ra:pC.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await Th(r)):(await r.ga.stop(),r.Ia.length>0&&(rt(Us,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new ep(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),ro(r))return new st($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=El(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ha;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.pa=new se(ht.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):yt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Za{constructor(t,n,s,o,u,f,p,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Za(t,n,Ha.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class vC{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=s0(),u.forEach((f,p)=>{for(const g of p.Sa)g.onError(s)})})(this,new st($.ABORTED,"Firestore shutting down"))}}function s0(){return new zs(r=>Q1(r),mh)}async function ip(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Da()&&t.va()&&(s=2):(u=new _C,s=t.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=np(f,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.Fa(n.onlineState),u.ba&&t.Ma(u.ba)&&sp(n)}async function rp(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function EC(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Ma(o)&&(s=!0);f.ba=o}}s&&sp(n)}function TC(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function sp(r){r.Ca.forEach(t=>{t.next()})}var vm,a0;(a0=vm||(vm={})).xa="default",a0.Cache="cache";class ap{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Za(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.key=t}}class CE{constructor(t){this.key=t}}class AC{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.Za=K1(t),this.Xa=new Ha(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new r0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const b=o.get(E),q=ph(this.query,S)?S:null,Z=!!b&&this.mutatedKeys.has(b.key),et=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Q=!1;b&&q?b.data.isEqual(q.data)?Z!==et&&(s.track({type:3,doc:q}),Q=!0):this.ru(b,q)||(s.track({type:2,doc:q}),Q=!0,(g&&this.Za(q,g)>0||y&&this.Za(q,y)<0)&&(p=!0)):!b&&q?(s.track({type:0,doc:q}),Q=!0):b&&!q&&(s.track({type:1,doc:b}),Q=!0,(g||y)&&(p=!0)),Q&&(q?(f=f.add(q),u=et?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:p,mutatedKeys:u}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((E,S)=>function(q,Z){const et=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:Q})}};return et(q)-et(Z)}(E.type,S.type)||this.Za(E.doc,S.doc)),this.iu(s),o=o!=null&&o;const p=n&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Ja;return this.Ja=g,f.length!==0||y?{snapshot:new Za(this.query,t.Xa,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Ot(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new CE(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new IE(s))}),n}au(t){this.Ha=t.$s,this.Ya=Ot();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Za.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const op="SyncEngine";class SC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class bC{constructor(t){this.key=t,this.cu=!1}}class wC{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new zs(p=>Q1(p),mh),this.Pu=new Map,this.Tu=new Set,this.Iu=new se(ht.comparator),this.Eu=new Map,this.du=new Km,this.Au={},this.Ru=new Map,this.Vu=Xa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function RC(r,t,n=!0){const s=ME(r);let o;const u=s.hu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await DE(s,t,n,!0),o}async function IC(r,t){const n=ME(r);await DE(n,t,!0,!1)}async function DE(r,t,n,s){const o=await KI(r.localStore,hi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await CC(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&TE(r.remoteStore,o),p}async function CC(r,t,n,s,o){r.fu=(S,b,q)=>async function(et,Q,mt,ct){let lt=Q.view.tu(mt);lt.Cs&&(lt=await Wv(et.localStore,Q.query,!1).then(({documents:x})=>Q.view.tu(x,lt)));const xt=ct&&ct.targetChanges.get(Q.targetId),Et=ct&&ct.targetMismatches.get(Q.targetId)!=null,Vt=Q.view.applyChanges(lt,et.isPrimaryClient,xt,Et);return l0(et,Q.targetId,Vt.ou),Vt.snapshot}(r,S,b,q);const u=await Wv(r.localStore,t,!0),f=new AC(t,u.$s),p=f.tu(u.documents),g=Kl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);l0(r,n,y.ou);const E=new SC(t,n,f);return r.hu.set(t,E),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),y.snapshot}async function DC(r,t,n){const s=At(r),o=s.hu.get(t),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!mh(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$m(s.remoteStore,o.targetId),Em(s,o.targetId)}).catch(io)):(Em(s,o.targetId),await ym(s.localStore,o.targetId,!0))}async function NC(r,t){const n=At(r),s=n.hu.get(t),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$m(n.remoteStore,s.targetId))}async function OC(r,t,n){const s=UC(r);try{const o=await function(f,p){const g=At(f),y=we.now(),E=p.reduce((q,Z)=>q.add(Z.key),Ot());let S,b;return g.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=Ki(),et=Ot();return g.Bs.getEntries(q,E).next(Q=>{Z=Q,Z.forEach((mt,ct)=>{ct.isValidDocument()||(et=et.add(mt))})}).next(()=>g.localDocuments.getOverlayedDocuments(q,Z)).next(Q=>{S=Q;const mt=[];for(const ct of p){const lt=KR(ct,S.get(ct.key).overlayedDocument);lt!=null&&mt.push(new Qr(ct.key,lt,U1(lt.value.mapValue),qn.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,mt,p)}).next(Q=>{b=Q;const mt=Q.applyToLocalDocumentSet(S,et);return g.documentOverlayCache.saveOverlays(q,Q.batchId,mt)})}).then(()=>({batchId:b.batchId,changes:X1(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let y=f.Au[f.currentUser.toKey()];y||(y=new se(wt)),y=y.insert(p,g),f.Au[f.currentUser.toKey()]=y}(s,o.batchId,n),await Xl(s,o.changes),await Th(s.remoteStore)}catch(o){const u=np(o,"Failed to persist write");n.reject(u)}}async function NE(r,t){const n=At(r);try{const s=await FI(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ht(f.cu,14607):o.removedDocuments.size>0&&(Ht(f.cu,42227),f.cu=!1))}),await Xl(n,s,t)}catch(s){await io(s)}}function o0(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const p=f.view.Fa(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=At(f);g.onlineState=p;let y=!1;g.queries.forEach((E,S)=>{for(const b of S.Sa)b.Fa(p)&&(y=!0)}),y&&sp(g)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function xC(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new se(ht.comparator);f=f.insert(u,Xe.newNoDocument(u,Tt.min()));const p=Ot().add(u),g=new _h(Tt.min(),new Map,new se(wt),f,p);await NE(s,g),s.Iu=s.Iu.remove(u),s.Eu.delete(t),lp(s)}else await ym(s.localStore,t,!1).then(()=>Em(s,t,n)).catch(io)}async function VC(r,t){const n=At(r),s=t.batch.batchId;try{const o=await HI(n.localStore,t);xE(n,s,null),OE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Xl(n,o)}catch(o){await io(o)}}async function MC(r,t,n){const s=At(r);try{const o=await function(f,p){const g=At(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next(S=>(Ht(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);xE(s,t,n),OE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Xl(s,o)}catch(o){await io(o)}}function OE(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function xE(r,t,n){const s=At(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function Em(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||VE(r,s)})}function VE(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&($m(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),lp(r))}function l0(r,t,n){for(const s of n)s instanceof IE?(r.du.addReference(s.key,t),PC(r,s)):s instanceof CE?(rt(op,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||VE(r,s.key)):yt(19791,{pu:s})}function PC(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(rt(op,"New document in limbo: "+n),r.Tu.add(s),lp(r))}function lp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new ht(ee.fromString(t)),s=r.Vu.next();r.Eu.set(s,new bC(n)),r.Iu=r.Iu.insert(n,s),TE(r.remoteStore,new Dr(hi(dh(n.path)),s,"TargetPurposeLimboResolution",ch.le))}}async function Xl(r,t,n){const s=At(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((p,g)=>{f.push(s.fu(g,t,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Xm.Rs(g.targetId,y);u.push(S)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(g,y){const E=At(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(y,b=>X.forEach(b.ds,q=>E.persistence.referenceDelegate.addReference(S,b.targetId,q)).next(()=>X.forEach(b.As,q=>E.persistence.referenceDelegate.removeReference(S,b.targetId,q)))))}catch(S){if(!ro(S))throw S;rt(Zm,"Failed to update sequence numbers: "+S)}for(const S of y){const b=S.targetId;if(!S.fromCache){const q=E.xs.get(b),Z=q.snapshotVersion,et=q.withLastLimboFreeSnapshotVersion(Z);E.xs=E.xs.insert(b,et)}}}(s.localStore,u))}async function LC(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){rt(op,"User change. New user:",t.toKey());const s=await yE(n.localStore,t);n.currentUser=t,function(u,f){u.Ru.forEach(p=>{p.forEach(g=>{g.reject(new st($.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Xl(n,s.ks)}}function kC(r,t){const n=At(r),s=n.Eu.get(t);if(s&&s.cu)return Ot().add(s.key);{let o=Ot();const u=n.Pu.get(t);if(!u)return o;for(const f of u){const p=n.hu.get(f);o=o.unionWith(p.view.eu)}return o}}function ME(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xC.bind(null,t),t.lu.Y_=EC.bind(null,t.eventManager),t.lu.gu=TC.bind(null,t.eventManager),t}function UC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MC.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return qI(this.persistence,new jI,t.initialUser,this.serializer)}Su(t){return new gE(Ym.fi,this.serializer)}bu(t){return new XI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class jC extends ih{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Ht(this.persistence.referenceDelegate instanceof eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bI(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new gE(s=>eh.fi(s,n),this.serializer)}}class Tm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LC.bind(null,this.syncEngine),await yC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new vC}()}createDatastore(t){const n=vh(t.databaseInfo.databaseId),s=function(u){return new tC(u)}(t.databaseInfo);return function(u,f,p,g){return new rC(u,f,p,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new aC(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return e0.C()?new e0:new ZI}())}createSyncEngine(t,n){return function(o,u,f,p,g,y,E){const S=new wC(o,u,f,p,g,y);return E&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=At(o);rt(Us,"RemoteStore shutting down."),u.da.add(5),await Yl(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class zC{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=C1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{rt(Br,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(rt(Br,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=np(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Yd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(Br,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await yE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function u0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await BC(r);rt(Br,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>i0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>i0(t.remoteStore,o)),r._onlineComponents=t}async function BC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Br,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await Yd(r,new ih)}}else rt(Br,"Using default OfflineComponentProvider"),await Yd(r,new jC(void 0));return r._offlineComponents}async function PE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Br,"Using user provided OnlineComponentProvider"),await u0(r,r._uninitializedComponentsProvider._online)):(rt(Br,"Using default OnlineComponentProvider"),await u0(r,new Tm))),r._onlineComponents}function qC(r){return PE(r).then(t=>t.syncEngine)}async function rh(r){const t=await PE(r),n=t.eventManager;return n.onListen=RC.bind(null,t.syncEngine),n.onUnlisten=DC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NC.bind(null,t.syncEngine),n}function HC(r,t,n={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,g,y){const E=new up({next:b=>{E.xu(),f.enqueueAndForget(()=>rp(u,S));const q=b.docs.has(p);!q&&b.fromCache?y.reject(new st($.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&b.fromCache&&g&&g.source==="server"?y.reject(new st($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new ap(dh(p.path),E,{includeMetadataChanges:!0,Qa:!0});return ip(u,S)}(await rh(r),r.asyncQueue,t,n,s)),s.promise}function FC(r,t,n={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,g,y){const E=new up({next:b=>{E.xu(),f.enqueueAndForget(()=>rp(u,S)),b.fromCache&&g.source==="server"?y.reject(new st($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new ap(p,E,{includeMetadataChanges:!0,Qa:!0});return ip(u,S)}(await rh(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r,t,n){if(!n)throw new st($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function GC(r,t,n,s){if(t===!0&&s===!0)throw new st($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function h0(r){if(!ht.isDocumentKey(r))throw new st($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f0(r){if(ht.isDocumentKey(r))throw new st($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function vn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ah(r);throw new st($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firestore.googleapis.com",d0=!0;class m0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new st($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=d0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:d0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AI)throw new st($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ww;switch(s.type){case"firstParty":return new nR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=c0.get(n);s&&(rt("ComponentProvider","Removing Datastore"),c0.delete(n),s.terminate())}(this),Promise.resolve()}}function QC(r,t,n,s={}){var o;r=vn(r,Sh);const u=Ja(t),f=r._getSettings(),p=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;u&&(O0(`https://${g}`),x0("Firestore",!0)),f.host!==UE&&f.host!==g&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!Vs(y,p)&&(r._setSettings(y),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=Ye.MOCK_USER;else{E=u2(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new st($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ye(b)}r._authCredentials=new Jw(new R1(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new qs(this.firestore,t,this._query)}}class Ze{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ze(this.firestore,t,this._key)}}class Mr extends qs{constructor(t,n,s){super(t,n,dh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ze(this.firestore,null,new ht(t))}withConverter(t){return new Mr(this.firestore,t,this._path)}}function bh(r,t,...n){if(r=Me(r),kE("collection","path",t),r instanceof Sh){const s=ee.fromString(t,...n);return f0(s),new Mr(r,null,s)}{if(!(r instanceof Ze||r instanceof Mr))throw new st($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return f0(s),new Mr(r.firestore,null,s)}}function Pr(r,t,...n){if(r=Me(r),arguments.length===1&&(t=C1.newId()),kE("doc","path",t),r instanceof Sh){const s=ee.fromString(t,...n);return h0(s),new Ze(r,null,new ht(s))}{if(!(r instanceof Ze||r instanceof Mr))throw new st($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return h0(s),new Ze(r.firestore,r instanceof Mr?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="AsyncQueue";class g0{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new vE(this,"async_queue_retry"),this.rc=()=>{const s=Kd();s&&rt(p0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Hi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ro(t))throw t;rt(p0,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Qi("INTERNAL UNHANDLED ERROR: ",y0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=ep.createAndSchedule(this,t,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&yt(47125,{cc:y0(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function y0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class qr extends Sh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new g0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new g0(t),this._firestoreClient=void 0,await t}}}function KC(r,t){const n=typeof r=="object"?r:L0(),s=typeof r=="string"?r:Xc,o=Im(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=o2("firestore");u&&QC(o,...u)}return o}function wh(r){if(r._terminated)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||YC(r),r._firestoreClient}function YC(r){var t,n,s;const o=r._freezeSettings(),u=function(p,g,y,E){return new yR(p,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,LE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new zC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $a(He.fromBase64String(t))}catch(n){throw new st($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $a(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/^__.*__$/;class ZC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(t,this.data,n,this.fieldTransforms)}}class jE{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function zE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ic:r})}}class fp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new fp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return sh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(zE(this.Ic)&&XC.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class $C{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||vh(t)}bc(t,n,s,o=!1){return new fp({Ic:t,methodName:n,wc:s,path:qe.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(r){const t=r._freezeSettings(),n=vh(r._databaseId);return new $C(r._databaseId,!!t.ignoreUndefinedProperties,n)}function BE(r,t,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,t,n,o);mp("Data must be an object, but it was:",f,s);const p=qE(s,f);let g,y;if(u.merge)g=new _n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=Am(t,S,n);if(!f.contains(b))throw new st($.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);FE(E,b)||E.push(b)}g=new _n(E),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new ZC(new on(p),g,y)}class Dh extends Ih{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}class dp extends Ih{_toFieldTransform(t){return new HR(t.path,new Ll)}isEqual(t){return t instanceof dp}}function WC(r,t,n,s){const o=r.bc(1,t,n);mp("Data must be an object, but it was:",o,s);const u=[],f=on.empty();Gr(s,(g,y)=>{const E=pp(t,g,n);y=Me(y);const S=o.mc(E);if(y instanceof Dh)u.push(E);else{const b=Zl(y,S);b!=null&&(u.push(E),f.set(E,b))}});const p=new _n(u);return new jE(f,p,o.fieldTransforms)}function JC(r,t,n,s,o,u){const f=r.bc(1,t,n),p=[Am(t,s,n)],g=[o];if(u.length%2!=0)throw new st($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)p.push(Am(t,u[b])),g.push(u[b+1]);const y=[],E=on.empty();for(let b=p.length-1;b>=0;--b)if(!FE(y,p[b])){const q=p[b];let Z=g[b];Z=Me(Z);const et=f.mc(q);if(Z instanceof Dh)y.push(q);else{const Q=Zl(Z,et);Q!=null&&(y.push(q),E.set(q,Q))}}const S=new _n(y);return new jE(E,S,f.fieldTransforms)}function t4(r,t,n,s=!1){return Zl(n,r.bc(s?4:3,t))}function Zl(r,t){if(HE(r=Me(r)))return mp("Unsupported field value:",t,r),qE(r,t);if(r instanceof Ih)return function(s,o){if(!zE(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let g=Zl(p,o.fc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Me(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=we.fromDate(s);return{timestampValue:th(o.serializer,u)}}if(s instanceof we){const u=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:th(o.serializer,u)}}if(s instanceof cp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $a)return{bytesValue:lE(o.serializer,s._byteString)};if(s instanceof Ze){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hp)return function(f,p){return{mapValue:{fields:{[L1]:{stringValue:k1},[Zc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw p.gc("VectorValues must only contain numeric values.");return Hm(p.serializer,y)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Ah(s)}`)}(r,t)}function qE(r,t){const n={};return N1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gr(r,(s,o)=>{const u=Zl(o,t.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function HE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof cp||r instanceof $a||r instanceof Ze||r instanceof Ih||r instanceof hp)}function mp(r,t,n){if(!HE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Ah(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function Am(r,t,n){if((t=Me(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return pp(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const e4=new RegExp("[~\\*/\\[\\]]");function pp(r,t,n){if(t.search(e4)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Rh(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new st($.INVALID_ARGUMENT,p+r+g)}function FE(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new n4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n4 extends GE{data(){return super.data()}}function gp(r,t){return typeof t=="string"?pp(r,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yp{}class i4 extends yp{}function r4(r,t,...n){let s=[];t instanceof yp&&s.push(t),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof _p).length,p=u.filter(g=>g instanceof Nh).length;if(f>1||f>0&&p>0)throw new st($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Nh extends i4{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Nh(t,n,s)}_apply(t){const n=this._parse(t);return KE(t._query,n),new qs(t.firestore,t.converter,hm(t._query,n))}_parse(t){const n=Ch(t.firestore);return function(u,f,p,g,y,E,S){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new st($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){T0(S,E);const Z=[];for(const et of S)Z.push(E0(g,u,et));b={arrayValue:{values:Z}}}else b=E0(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||T0(S,E),b=t4(p,f,S,E==="in"||E==="not-in");return ve.create(y,E,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function v0(r,t,n){const s=t,o=gp("where",r);return Nh._create(o,s,n)}class _p extends yp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new _p(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)KE(f,g),f=hm(f,g)}(t._query,n),new qs(t.firestore,t.converter,hm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function E0(r,t,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new st($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G1(t)&&n.indexOf("/")!==-1)throw new st($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!ht.isDocumentKey(s))throw new st($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vv(r,new ht(s))}if(n instanceof Ze)return Vv(r,n._key);throw new st($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(n)}.`)}function T0(r,t){if(!Array.isArray(r)||r.length===0)throw new st($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function KE(r,t){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new st($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class s4{convertValue(t,n="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ur(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Gr(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Zc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>de(f.doubleValue));return new hp(u)}convertGeoPoint(t){return new cp(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=fh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const n=kr(t);return new we(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ht(mE(s),9688,{name:t});const o=new Ml(s.get(1),s.get(3)),u=new ht(s.popFirst(5));return o.isEqual(n)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class XE extends GE{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(gp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Lc extends XE{data(t={}){return super.data(t)}}class ZE{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Al(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Lc(this._firestore,this._userDataWriter,s.key,s,new Al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new Lc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Al(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const g=new Lc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Al(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:a4(p.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r){r=vn(r,Ze);const t=vn(r.firestore,qr);return HC(wh(t),r._key).then(n=>JE(t,r,n))}class vp extends s4{constructor(t){super(),this.firestore=t}convertBytes(t){return new $a(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function o4(r){r=vn(r,qs);const t=vn(r.firestore,qr),n=wh(t),s=new vp(t);return QE(r._query),FC(n,r._query).then(o=>new ZE(t,s,r,o))}function $E(r,t,n){r=vn(r,Ze);const s=vn(r.firestore,qr),o=YE(r.converter,t);return Tp(s,[BE(Ch(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,qn.none())])}function WE(r,t,n,...s){r=vn(r,Ze);const o=vn(r.firestore,qr),u=Ch(o);let f;return f=typeof(t=Me(t))=="string"||t instanceof Rh?JC(u,"updateDoc",r._key,t,n,s):WC(u,"updateDoc",r._key,t),Tp(o,[f.toMutation(r._key,qn.exists(!0))])}function l4(r,t){const n=vn(r.firestore,qr),s=Pr(r),o=YE(r.converter,t);return Tp(n,[BE(Ch(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}function Ep(r,...t){var n,s,o;r=Me(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||_0(t[f])||(u=t[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(_0(t[f])){const S=t[f];t[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),t[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),t[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let g,y,E;if(r instanceof Ze)y=vn(r.firestore,qr),E=dh(r._key.path),g={next:S=>{t[f]&&t[f](JE(y,r,S))},error:t[f+1],complete:t[f+2]};else{const S=vn(r,qs);y=vn(S.firestore,qr),E=S._query;const b=new vp(y);g={next:q=>{t[f]&&t[f](new ZE(y,b,S,q))},error:t[f+1],complete:t[f+2]},QE(r._query)}return function(b,q,Z,et){const Q=new up(et),mt=new ap(q,Q,Z);return b.asyncQueue.enqueueAndForget(async()=>ip(await rh(b),mt)),()=>{Q.xu(),b.asyncQueue.enqueueAndForget(async()=>rp(await rh(b),mt))}}(wh(y),E,p,g)}function Tp(r,t){return function(s,o){const u=new Hi;return s.asyncQueue.enqueueAndForget(async()=>OC(await qC(s),o,u)),u.promise}(wh(r),t)}function JE(r,t,n){const s=n.docs.get(t._key),o=new vp(r);return new XE(r,o,t._key,s,new Al(n.hasPendingWrites,n.fromCache),t.converter)}function Xd(){return new dp("serverTimestamp")}(function(t,n=!0){(function(o){no=o})(to),Fa(new Ms("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new qr(new tR(s.getProvider("auth-internal")),new iR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new st($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),xr(Tv,Av,t),xr(Tv,Av,"esm2017")})();const u4={apiKey:"AIzaSyDD6HXa9b-eZzeBxKm2NGTd-K1a46YoQjE",authDomain:"chatapp-1504a.firebaseapp.com",projectId:"chatapp-1504a",storageBucket:"chatapp-1504a.appspot.com",messagingSenderId:"653044249715",appId:"1:653044249715:web:4f13a98eeea28eaaa2a606"},tT=P0(u4),qt=Yw(tT),Bn=KC(tT),c4=r=>{const t=bh(Bn,"chats");return Ep(t,s=>{const u=s.docs.map(f=>({id:f.id,...f.data()})).filter(f=>{var p;return(p=f==null?void 0:f.users)==null?void 0:p.some(g=>g.email===qt.currentUser.email)});r(u)})},h4=async(r,t,n,s)=>{const o=Pr(Bn,"chats",t),u=await kc(Pr(Bn,"user",n)),f=await kc(Pr(Bn,"user",s));console.log(u),console.log(f);const p=u.data(),g=f.data();(await kc(o)).exists()?await WE(o,{lastMessage:r,lastMessageTimeStamp:Xd()}):await $E(o,{users:[p,g],lastMessage:r,lastMessageTimeStamp:Xd()});const E=bh(Bn,"chats",t,"messages");await l4(E,{text:r,sender:qt.currentUser.email,timestamp:Xd()})},f4=(r,t)=>{const n=bh(Bn,"chats",r,"messages");Ep(n,s=>{const o=s.docs.map(u=>u.data());t(o)})},d4=()=>{const r=async()=>{try{await kb(qt),alert("Logout successful")}catch(t){console.log(t)}};return U.jsx("section",{className:"sticky lg:static top-0 flex items-center lg:items-start lg:justify-start h-[7vh] lg:h-[100vh] w-[100%] lg:w-[150px] py-8 lg:py-0 bg-[#01AA85]",children:U.jsxs("main",{className:"flex lg:flex-col items-center lg:gap-10 justify-between lg:px-0 w-[100%]",children:[U.jsx("div",{className:"flex items-start justify-center lg:border-b border-b-1 border-[#beb3b3] lg:w-[100%] p-4",children:U.jsx("span",{className:"flex items-center justify-center",children:U.jsx("img",{src:A0,className:"w-[56px] h-[52px] object-contain bg-white rounded-lg p-2",alt:""})})}),U.jsxs("ul",{className:"flex lg:flex-col flex-row items-center gap-7 md:gap-10 px-2 md:px-0",children:[U.jsx("li",{className:"",children:U.jsx("button",{className:"lg:text-[28px] text-[22px] cursor-pointer",children:U.jsx(GA,{color:"#fff"})})}),U.jsx("li",{className:"",children:U.jsx("button",{className:"lg:text-[28px] text-[22px] cursor-pointer",children:U.jsx(YA,{color:"#fff"})})}),U.jsx("li",{className:"",children:U.jsx("button",{className:"lg:text-[28px] text-[22px] cursor-pointer",children:U.jsx(ZA,{color:"#fff"})})}),U.jsx("li",{className:"",children:U.jsx("button",{className:"lg:text-[28px] text-[22px] cursor-pointer",children:U.jsx(KA,{color:"#fff"})})}),U.jsx("li",{className:"",children:U.jsx("button",{className:"lg:text-[28px] text-[22px] cursor-pointer",children:U.jsx(XA,{color:"#fff"})})}),U.jsx("li",{className:"",children:U.jsx("button",{onClick:r,className:"lg:text-[28px] text-[22px] cursor-pointer",children:U.jsx(QA,{color:"#fff"})})})]}),U.jsx("button",{className:"block lg:hidden lg:text-[28px] text-[22px]",children:U.jsx(HA,{color:"#fff"})})]})})};function m4(r){return ln({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function p4(r){return ln({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(r)}function g4(r){return ln({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}const y4=({isLogin:r,setIsLogin:t})=>{const[n,s]=Wt.useState({fullName:"",email:"",password:""}),[o,u]=Wt.useState(!1),f=g=>{const{name:y,value:E}=g.target;s(S=>({...S,[y]:E}))},p=async()=>{var g;u(!0);try{const E=(await Vb(qt,n==null?void 0:n.email,n==null?void 0:n.password)).user,S=Pr(Bn,"user",E.uid);await $E(S,{uid:E.uid,email:E.email,username:(g=E.email)==null?void 0:g.split("@")[0],fullName:n.fullName,bio:"",image:""})}catch(y){console.log(y)}finally{u(!1)}};return U.jsx("section",{className:"flex flex-col justify-center items-center h-[100vh]",children:U.jsxs("div",{className:"bg-white shadow-lg p-5 rounded-x1 h-[27rem] w-[20rem] flex flex-col justify-center items-center",children:[U.jsxs("div",{className:"mb-10",children:[U.jsx("h1",{className:"text-center text-[28px] font-bold",children:"Sign Up"}),U.jsx("p",{className:"text-center text-sm text-gray-400",children:"Welcome, create an account to continue"})]}),U.jsxs("div",{className:"w-full",children:[U.jsx("input",{type:"text",name:"fullName",onChange:f,className:"border border-green-200 w-full p-2 rounded-md bg-[#01aa851d] text-[#004939f3] mb-3 font-medium outline-none placeholder:text-[#00493958]",placeholder:"Full Name"}),U.jsx("input",{type:"email",name:"email",onChange:f,className:"border border-green-200 w-full p-2 rounded-md bg-[#01aa851d] text-[#004939f3] mb-3 font-medium outline-none placeholder:text-[#00493958]",placeholder:"Email"}),U.jsx("input",{type:"password",name:"password",onChange:f,className:"border border-green-200 w-full p-2 rounded-md bg-[#01aa851d] text-[#004939f3] mb-3 font-medium outline-none placeholder:text-[#00493958]",placeholder:"Password"})]}),U.jsx("div",{className:"w-full",children:U.jsx("button",{disabled:o,onClick:p,className:"bg-[#01aa85] text-white font-bold w-full p-2 rounded-md flex items-center gap-2 justify-center",children:o?U.jsx(U.Fragment,{children:"Processing..."}):U.jsxs(U.Fragment,{children:["Register ",U.jsx(g4,{})]})})}),U.jsx("div",{className:"mt-5 text-center text-gray-400 text-sm",children:U.jsx("button",{onClick:()=>t(!r),children:"Already have an account ? Sign In"})})]})})},Wa="/assets/default-ROV5R9_O.jpg";function _4(r){return ln({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(r)}const v4=({startChat:r})=>{const[t,n]=Wt.useState(!1),[s,o]=Wt.useState(""),[u,f]=Wt.useState([]),p=()=>n(!0),g=()=>n(!1),y=async()=>{if(!s.trim()){alert("Please enter a search term");return}try{const E=s.toLowerCase(),S=r4(bh(Bn,"user"),v0("username",">=",E),v0("username","<=",E+"")),b=await o4(S),q=[];b.forEach(Z=>{q.push(Z.data())}),f(q),q.length===0&&alert("No users found")}catch(E){console.log(E)}};return console.log(u),U.jsxs("div",{children:[U.jsx("button",{onClick:p,className:"bg-[#D9F2ED] w-[35px] h-[35px] p-2 flex items-center justfy-center rounded-lg",children:U.jsx(WA,{color:"#01AA85",className:"w-[28px] h-[28px]"})}),t&&U.jsx("div",{className:"fixed inset-0 z-[100] flex justify-center items-center bg-[#04502a96] ",children:U.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:U.jsxs("div",{className:"relative bg-[#01AA85] w-[100%] rounded-md shadow-lg",children:[U.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b border-gray-300",children:[U.jsx("h3",{className:"text-xl font-semibold text-white",children:"Search Chat"}),U.jsx("button",{onClick:g,className:"text-white bg-transparent hover:bg-[#d9f2ed] hover:text-[#01AA85] rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center",children:U.jsx(_4,{size:20})})]}),U.jsxs("div",{className:"p-4 md:p-5",children:[U.jsx("div",{className:"space-y-4",children:U.jsxs("div",{className:"flex gap-2",children:[U.jsx("input",{onChange:E=>o(E.target.value),type:"text",className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg outline-none w-full p-2.5"}),U.jsx("button",{onClick:y,className:"bg-green-900 text-white px-3 py-2 rounded-lg",children:U.jsx(m4,{})})]})}),U.jsx("div",{className:"mt-6",children:u==null?void 0:u.map(E=>U.jsxs("div",{onClick:()=>{console.log(E),r(E),g()},className:"flex items-start gap-3 bg-[#15eabc34] p-2 mb-3 rounded-lg cursor-pointer border border-[#ffffff20] shadow-lg",children:[U.jsx("img",{src:(E==null?void 0:E.image)||Wa,className:"h-[40px] w-[40px] rounded-full",alt:""}),U.jsxs("span",{children:[U.jsx("h2",{className:"p-0 font-semibold text-white text-[18px]",children:E==null?void 0:E.fullName}),U.jsxs("p",{className:"text-[13px] text-white",children:["@",E==null?void 0:E.username]})]})]}))})]})]})})})]})},Sm=(r,t=!1)=>{const n={seconds:0,nanoseconds:0},{seconds:s,nanoseconds:o}=r||n,u=new Date(s*1e3+o/1e6),f={day:"numeric",month:"short",year:"numeric"},p={hour:"2-digit",minute:"2-digit"},g=u.toLocaleDateString("en-US",f),y=u.toLocaleTimeString("en-US",p),E=u.getDate(),S=E>=11&&E<=13?"th":E%10===1?"st":E%10===2?"nd":E%10===3?"rd":"th",b=g.replace(/(\d+)/,`$1${S}`);return t?`${b} . ${y}`:b},E4=()=>{const[r,t]=Wt.useState({fullName:"",bio:"",image:""});Wt.useEffect(()=>{(async()=>{const u=Pr(Bn,"user",qt.currentUser.uid),f=await kc(u);f.exists()&&t(f.data())})()},[]);const n=o=>{const{name:u,value:f}=o.target;t(p=>({...p,[u]:f}))},s=async()=>{const o=Pr(Bn,"user",qt.currentUser.uid);await WE(o,{fullName:r.fullName,bio:r.bio,image:r.image}),alert("Profile updated!")};return U.jsxs("div",{className:"p-5 bg-white rounded-md shadow-md w-[90%] max-w-md mx-auto",children:[U.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Profile"}),U.jsx("img",{src:r.image||Wa,alt:"avatar",className:"h-24 w-24 rounded-full object-cover mx-auto mb-4"}),U.jsx("input",{type:"text",name:"image",value:r.image,onChange:n,placeholder:"Image URL",className:"w-full mb-3 border p-2 rounded"}),U.jsx("input",{type:"text",name:"fullName",value:r.fullName,onChange:n,placeholder:"Full Name",className:"w-full mb-3 border p-2 rounded"}),U.jsx("textarea",{name:"bio",value:r.bio,onChange:n,placeholder:"Short Bio",className:"w-full mb-3 border p-2 rounded"}),U.jsx("button",{onClick:s,className:"bg-[#01AA85] text-white py-2 px-4 rounded",children:"Save Changes "})]})},T4=({setSelectedUser:r})=>{const[t,n]=Wt.useState([]),[s,o]=Wt.useState(null),[u,f]=Wt.useState(!1);Wt.useEffect(()=>{var S;const y=Pr(Bn,"user",(S=qt==null?void 0:qt.currentUser)==null?void 0:S.uid);return Ep(y,b=>{o(b.data())})},[]),console.log(s==null?void 0:s.fullName),Wt.useEffect(()=>{const y=c4(n);return()=>{y()}},[]);const p=Wt.useMemo(()=>[...t].sort((y,E)=>{var q,Z,et,Q;const S=((q=y==null?void 0:y.lastMessageTimestamp)==null?void 0:q.seconds)+((Z=y==null?void 0:y.lastMessageTimestamp)==null?void 0:Z.nanoseconds)/1e9;return((et=E==null?void 0:E.lastMessageTimestamp)==null?void 0:et.seconds)+((Q=E==null?void 0:E.lastMessageTimestamp)==null?void 0:Q.nanoseconds)/1e9-S}),[t]),g=y=>{r(y)};return U.jsxs("section",{className:"relative hidden lg:flex flex-col item-start justify-start bg-white h-[100vh] w-[100%] md:w-[600px]",children:[U.jsxs("header",{className:"flex items-center justify-between w-[100%] lg:border-b border-b-1 border-[#a5a2a2] p-4 sticky md:static top-0 z-100",children:[u&&U.jsxs("div",{className:"fixed top-0 left-0 w-full h-full z-50 bg-white p-4 overflow-y-auto",children:[U.jsx("button",{onClick:()=>f(!1),className:"mb-4 text-[#01AA85] font-bold",children:" Back"}),U.jsx(E4,{})]}),U.jsxs("main",{className:"flex items-center gap-3",children:[U.jsx("img",{src:(s==null?void 0:s.image)||Wa,className:"w-[44px] h-[44px] object-cover rounded-full",alt:""}),U.jsxs("span",{children:[U.jsx("h3",{className:"p-0 font-semibold text-[#2A3D39] md:text-[17px]",children:(s==null?void 0:s.fullName)||"Chatfrik User"}),U.jsxs("p",{className:"p-0 font-light text-[#2A3D39] text-[15px]",children:["@",(s==null?void 0:s.username)||"chatfrik"]})]})]}),U.jsx("button",{onClick:()=>f(!u),className:"bg-[#D9F2ED] w-[35px] h-[35px] p-2 flex items-center justify-center rounded-lg",children:U.jsx($A,{color:"#01AA85",className:"w-[28px] h-[28px]"})})]}),U.jsx("div",{className:"w-[100%] mt-[10px] px-5",children:U.jsxs("header",{className:"flex items-center justify-between",children:[U.jsxs("h3",{className:"text-[16px]",children:["Messages (",(t==null?void 0:t.length)||0,")"]}),U.jsx(v4,{startChat:g})]})}),U.jsx("main",{className:"flex flex-col items-start mt-[1.5rem] pb-3 custom-scrollbar w-[100%] h-[100%]",children:p==null?void 0:p.map(y=>{var E,S;return U.jsx("button",{className:"flex items-start justify-between w-[100%] border-b border-[#9090902c] px-5 pb-3 pt-3",children:(S=(E=y==null?void 0:y.users)==null?void 0:E.filter(b=>{var q;return(b==null?void 0:b.email)!==((q=qt==null?void 0:qt.currentUser)==null?void 0:q.email)}))==null?void 0:S.map(b=>U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"flex items-start gap-3",onClick:()=>g(b),children:[U.jsx("img",{src:(b==null?void 0:b.image)||Wa,className:"h-[40px] w-[40px] rounded-full object-cover",alt:""}),U.jsxs("span",{children:[U.jsx("h2",{className:"p-0 font-semibold text-[#2A3d39] text-left text-[17px]",children:(b==null?void 0:b.fullName)||"ChatFrik User"}),U.jsx("p",{className:"p-0 font-light text-[#2A3d39] text-left text-[14px]",children:y==null?void 0:y.lastMessage})]})]}),U.jsx("p",{className:"p-0 font-regular text-gray-400 text-left text-[11px]",children:Sm(y==null?void 0:y.lastMessageTimestamp)})]}))},y==null?void 0:y.id)})})]})},A4=({selectedUser:r})=>{var b,q,Z,et;const[t,n]=Wt.useState([]),[s,o]=Wt.useState(""),u=Wt.useRef(null),f=((b=qt==null?void 0:qt.currentUser)==null?void 0:b.uid)<(r==null?void 0:r.uid)?`${(q=qt==null?void 0:qt.currentUser)==null?void 0:q.uid}-${r==null?void 0:r.uid}`:`${r==null?void 0:r.uid}-${(Z=qt==null?void 0:qt.currentUser)==null?void 0:Z.uid}`,p=qt==null?void 0:qt.currentUser,g=r,y=(et=qt==null?void 0:qt.currentUser)==null?void 0:et.email;console.log(typeof f),console.log(p),console.log(g),Wt.useEffect(()=>{f4(f,n)},[f]),Wt.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[t]);const E=Wt.useMemo(()=>[...t].sort((Q,mt)=>{const ct=Q.timestamp.seconds+Q.timestamp.nanoseconds/1e9,lt=mt.timestamp.seconds+mt.timestamp.nanoseconds/1e9;return ct-lt}),[t]),S=Q=>{Q.preventDefault();const mt={sender:y,text:s,timestamp:{seconds:Math.floor(Date.now()/1e3),nanoseconds:0}};h4(s,f,p==null?void 0:p.uid,g==null?void 0:g.uid),n(ct=>[...ct,mt]),o("")};return U.jsx(U.Fragment,{children:r?U.jsxs("section",{className:"flex flex-col items-start justify-start h-screen w-[100%] background-image",children:[U.jsx("header",{className:"w-[100%] h-[82px]m:h-fit p-4 bg-white",children:U.jsxs("main",{className:"flex items-center gap-3 ",children:[U.jsx("span",{children:U.jsx("img",{src:(r==null?void 0:r.image)||Wa,className:"w-11 h-11 object-cover rounded-full",alt:""})}),U.jsxs("span",{children:[U.jsx("h3",{className:"font-semibold text-[#2A3D39] text-lg",children:(g==null?void 0:g.fullName)||"Chatfrik User"}),U.jsx("p",{className:"font-light text-[#2A3D39] text-sm",children:(g==null?void 0:g.username)||"chatfrik"})]})]})}),U.jsxs("main",{className:"custom-scrollbar relative h-[100vh] w-[100%] flex flex-col justify-between",children:[U.jsx("section",{className:"px-3 pt-5 b-20 lg:pb-10",children:U.jsx("div",{ref:u,className:"overflow-auto h-[80vh]",children:E==null?void 0:E.map((Q,mt)=>U.jsx(U.Fragment,{children:(Q==null?void 0:Q.sender)===y?U.jsx("div",{className:"flex flex-col items-end w-full",children:U.jsx("span",{className:"flex gap-3 me-10 h-auto",children:U.jsxs("div",{children:[U.jsx("div",{className:"flex items-center bg-white justify-center p-6 rounded-lg shadow-sm",children:U.jsx("h4",{children:Q.text})}),U.jsx("p",{className:"text-gray-400 text-sx mt-3 text-right",children:Sm(Q==null?void 0:Q.timestamp)})]})})}):U.jsx("div",{className:"flex flex-col items-start w-full",children:U.jsxs("span",{className:"flex gap-3 w-[40%] h-auto ms-10",children:[U.jsx("img",{src:Wa,className:"h-11 w-11 object-cover rounded-full",alt:""}),U.jsxs("div",{children:[U.jsx("div",{className:"flex items-center bg-white justify-center p-6 rounded-lg shadow-sm",children:U.jsx("h4",{children:Q.text})}),U.jsx("p",{className:"text-gray-400 text-sx mt-3",children:Sm(Q==null?void 0:Q.timestamp)})]})]})})}))})}),U.jsx("div",{className:"sticky lg:bottom-0 bottom-[60px] p-3 h-fit w-[100%]",children:U.jsxs("form",{onSubmit:S,action:"",className:"flex items-center bg-white h-[45px] w-[100%] px-2 rounded-lg relative shadow-lg",children:[U.jsx("input",{value:s,onChange:Q=>o(Q.target.value),className:"h-full text-[#2A3D39] outline-none text-[16px] pl-3 pr-[50px] rounded-lg w-[100%]",type:"text",placeholder:"Write your message..."}),U.jsx("button",{type:"submit",className:"flex items-center justify-center absolute right-3 p-2 rounded-full bg-[#D9f2ed] hover:bg-[#c8eae3]",children:U.jsx(FA,{color:"#01AA85"})})]})})]})]}):U.jsx("section",{className:"h-screen w-[100%] bg-[#e5f6f3]",children:U.jsxs("div",{className:"flex flex-col justify-center items-center h-[100vh]",children:[U.jsx("img",{src:A0,alt:"",width:100}),U.jsx("h1",{className:"text-[30px] font-bold text-teal-700 mt-5",children:"Welcome to Chatfrik"}),U.jsx("p",{className:"text-gray-500",children:"Connect and chat with friends easily, securely, fast and free"})]})})})},S4=({isLogin:r,setIsLogin:t})=>{const[n,s]=Wt.useState({email:"",password:""}),[o,u]=Wt.useState(!1),f=g=>{const{name:y,value:E}=g.target;s(S=>({...S,[y]:E}))},p=async()=>{u(!0);try{await Mb(qt,n==null?void 0:n.email,n==null?void 0:n.password),alert("Login Successful")}catch(g){console.log(g)}finally{u(!1)}};return U.jsx("section",{className:"flex flex-col justify-center items-center h-[100vh]",children:U.jsxs("div",{className:"bg-white shadow-lg p-5 rounded-x1 h-[27rem] w-[20rem] flex flex-col justify-center items-center",children:[U.jsxs("div",{className:"mb-10",children:[U.jsx("h1",{className:"text-center text-[28px] font-bold",children:"Sign In"}),U.jsx("p",{className:"text-center text-sm text-gray-400",children:"Welcome back, login to continue"})]}),U.jsxs("div",{className:"w-full",children:[U.jsx("input",{name:"email",onChange:f,type:"email",className:"border border-green-200 w-full p-2 rounded-md bg-[#01aa851d] text-[#004939f3] mb-3 font-medium outline-none placeholder:text-[#00493958]",placeholder:"Email"}),U.jsx("input",{name:"password",onChange:f,type:"password",className:"border border-green-200 w-full p-2 rounded-md bg-[#01aa851d] text-[#004939f3] mb-3 font-medium outline-none placeholder:text-[#00493958]",placeholder:"Password"})]}),U.jsx("div",{className:"w-full",children:U.jsx("button",{disabled:o,onClick:p,className:"bg-[#01aa85] text-white font-bold w-full p-2 rounded-md flex items-center gap-2 justify-center",children:o?U.jsx(U.Fragment,{children:"Processing..."}):U.jsxs(U.Fragment,{children:["Login ",U.jsx(p4,{})]})})}),U.jsx("div",{className:"mt-5 text-center text-gray-400 text-sm",children:U.jsx("button",{onClick:()=>t(!r),children:"Don't have an account yet? Sign Up"})})]})})},b4=()=>{const[r,t]=Wt.useState(!0),[n,s]=Wt.useState(null),[o,u]=Wt.useState(null);return Wt.useEffect(()=>{const f=qt.currentUser;f&&s(f);const p=qt.onAuthStateChanged(g=>{s(g)});return()=>p()},[]),U.jsx("div",{children:n?U.jsxs("div",{className:"flex lg:flex-row flex-col items-start w-[100%]",children:[U.jsx(d4,{}),U.jsx(T4,{setSelectedUser:u}),U.jsx(A4,{selectedUser:o})]}):U.jsx("div",{children:r?U.jsx(S4,{isLogin:r,setIsLogin:t}):U.jsx(y4,{isLogin:r,setIsLogin:t})})})};PA.createRoot(document.getElementById("root")).render(U.jsx(Wt.StrictMode,{children:U.jsx(b4,{})}));
